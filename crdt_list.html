<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CRDT List | AlgoViz Hub</title>
    <meta content="Interactive visualization of Conflict-Free Replicated Data Types (CRDT) for distributed systems" name="description"/>
    <meta content="crdt, conflict-free replicated data type, distributed systems, collaborative editing, eventual consistency, visualization, interactive" name="keywords"/>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&amp;family=Roboto:wght@300;400;500;700&amp;display=swap" rel="stylesheet"/>
    <style>
      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-glow: rgba(99, 102, 241, 0.2);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --transition: all 0.3s ease;
        --radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glow: 0 0 15px var(--accent-glow);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--text);
        font-family: "Roboto", sans-serif;
        line-height: 1.6;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        position: relative;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--glow);
      }

      .logo-icon i {
        font-size: 24px;
        color: white;
      }

      .logo-text h1 {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 28px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo-text p {
        font-size: 14px;
        color: var(--text-secondary);
        letter-spacing: 1.5px;
      }

      .breadcrumb {
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 10px;
      }

      .breadcrumb a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      /* Algorithm Header */
      .algorithm-header {
        margin: 40px 0;
        text-align: center;
        padding: 20px;
        background: var(--card-bg);
        border-radius: var(--radius);
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
      }

      .algorithm-header .category {
        font-size: 18px;
        color: var(--accent-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 16px;
        font-weight: 600;
        font-family: "Roboto Mono", monospace;
        margin-top: 15px;
      }

      /* Main Content Layout */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      /* Algorithm Detail Sections */
      .section {
        background: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .section h2 {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section h2 i {
        color: var(--accent);
        width: 36px;
        height: 36px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .section p {
        color: var(--text-secondary);
        font-size: 17px;
        line-height: 1.8;
        margin-bottom: 20px;
      }

      .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        margin-bottom: 0;
        font-size: 15px;
      }

      /* Visualization Console */
      .visualization-console {
        background: rgba(15, 23, 42, 0.8);
        border-radius: var(--radius);
        padding: 25px;
        margin: 30px 0;
        border: 1px solid rgba(99, 102, 241, 0.3);
        box-shadow: var(--glow);
      }

      .console-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .console-header h3 {
        color: var(--accent-light);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .console-controls {
        display: flex;
        gap: 10px;
      }

      .console-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .console-btn:hover {
        background: var(--accent-light);
      }

      .console-btn.secondary {
        background: rgba(148, 163, 184, 0.2);
      }

      .visualization-area {
        min-height: 300px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        padding: 20px;
        position: relative;
        overflow: hidden;
        gap: 15px;
      }

      .visualization-area::before {
        content: "CRDT List Visualization";
        position: absolute;
        color: rgba(148, 163, 184, 0.5);
        font-size: 20px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        z-index: 0;
      }

      .console-input {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .console-input input {
        flex: 1;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .console-input input:focus {
        outline: none;
        border-color: var(--accent);
      }

      /* Algorithm Properties */
      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 20px;
        font-weight: 700;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 14px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          gap: 25px;
          text-align: center;
        }

        .algorithm-header h1 {
          font-size: 32px;
        }

        .key-points {
          grid-template-columns: 1fr;
        }
      }

      /* Code Block Styling */
      .code-block {
        background: #0d1117;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
        overflow-x: auto;
        font-family: "Roboto Mono", monospace;
        font-size: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .code-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        color: var(--text-secondary);
      }

      .copy-btn {
        background: rgba(99, 102, 241, 0.2);
        color: var(--accent-light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 0.3);
      }

      .code-block pre {
        margin: 0;
      }

      .code-block code {
        color: #c9d1d9;
        line-height: 1.5;
      }

      .keyword {
        color: #ff7b72;
      }
      .function {
        color: #d2a8ff;
      }
      .comment {
        color: #8b949e;
      }
      .string {
        color: #a5d6ff;
      }
      .number {
        color: #79c0ff;
      }

      /* CRDT-specific styles */
      .replica {
        background: rgba(30, 41, 59, 0.7);
        border-radius: 8px;
        padding: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .replica-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 10px;
        padding-bottom: 10px;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .replica-title {
        font-weight: bold;
        color: var(--accent-light);
      }

      .replica-content {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        min-height: 50px;
      }

      .list-item {
        background: var(--accent);
        padding: 8px 12px;
        border-radius: 6px;
        display: flex;
        align-items: center;
        gap: 8px;
        font-family: "Roboto Mono", monospace;
        position: relative;
      }

      .list-item .character {
        font-weight: bold;
      }

      .list-item .identifier {
        font-size: 10px;
        color: var(--text-secondary);
        background: rgba(0, 0, 0, 0.3);
        padding: 2px 4px;
        border-radius: 3px;
      }

      .operation-log {
        margin-top: 15px;
        padding: 10px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 6px;
        font-size: 12px;
        max-height: 100px;
        overflow-y: auto;
      }

      .log-entry {
        margin-bottom: 5px;
        padding: 3px 5px;
        border-radius: 3px;
        background: rgba(99, 102, 241, 0.1);
      }

      .controls {
        display: flex;
        gap: 10px;
        margin-top: 15px;
      }

      .control-btn {
        padding: 8px 12px;
        background: var(--accent);
        border: none;
        border-radius: 5px;
        color: white;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .control-btn:hover {
        background: var(--accent-light);
      }

      .control-input {
        padding: 8px 12px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .stats-panel {
        display: flex;
        justify-content: space-around;
        margin-top: 15px;
        font-family: "Roboto Mono", monospace;
        font-size: 14px;
      }

      .stat-item {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .stat-value {
        font-weight: bold;
        color: var(--accent-light);
        font-size: 18px;
      }

      .stat-label {
        color: var(--text-secondary);
        font-size: 12px;
      }
    </style>
    <meta content="CRDT List | AlgoViz Hub" property="og:title"/>
    <meta content="Interactive visualization of Conflict-Free Replicated Data Types (CRDT) for distributed systems" property="og:description"/>
    <meta content="article" property="og:type"/>
    <meta content="https://sgkandale.github.io/crdt-list.html" property="og:url"/>
    <meta content="AlgoViz Hub" property="og:site_name"/>
    <meta content="summary" name="twitter:card"/>
    <meta content="CRDT List | AlgoViz Hub" name="twitter:title"/>
    <meta content="Interactive visualization of Conflict-Free Replicated Data Types (CRDT) for distributed systems" name="twitter:description"/>
    <meta content="@sgkandale" name="twitter:site"/>
    <link href="https://sgkandale.github.io/crdt-list.html" rel="canonical"/>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "Article",
      "headline": "CRDT List | AlgoViz Hub",
      "description": "Interactive visualization of Conflict-Free Replicated Data Types (CRDT) for distributed systems",
      "author": {
        "@type": "Person",
        "name": "Shantanu Kandale"
      },
      "publisher": {
        "@type": "Organization",
        "name": "AlgoViz Hub",
        "logo": {
          "@type": "ImageObject",
          "url": "https://sgkandale.github.io/favicon.ico"
        }
      },
      "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://sgkandale.github.io/crdt-list.html"
      }
    }
    </script>
</head>
<body>
<div class="container">
    <!-- Header -->
    <header>
        <div class="logo">
            <div class="logo-icon floating">
                <i class="fas fa-project-diagram"></i>
            </div>
            <div class="logo-text">
                <h1>AlgoViz Hub</h1>
                <p>ALGORITHM VISUALIZATION REPOSITORY</p>
                <div class="breadcrumb">
                    <a href="#"><i class="fas fa-home"></i> Home</a> &gt;
                    <a href="#">Distributed Systems</a> &gt;
                    <span>CRDT List</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Algorithm Header -->
    <div class="algorithm-header">
        <h1>CRDT List</h1>
        <div class="category">
            <i class="fas fa-network-wired"></i> Conflict-Free Replicated Data Type
            <span class="complexity-badge">Eventual Consistency</span>
        </div>
        <div class="complexity-badge">Space Complexity: O(n log n)</div>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Left Column: Algorithm Details -->
        <div class="left-column">
            <!-- Description Section -->
            <div class="section">
                <h2><i class="fas fa-file-alt"></i> CRDT Overview</h2>
                <p>
                    Conflict-Free Replicated Data Types (CRDTs) are data structures that can be replicated across multiple
                    computers in a network and can be updated independently and concurrently without coordination between
                    replicas. They are designed to automatically resolve conflicts in a way that ensures eventual consistency.
                </p>
                <p>
                    CRDT Lists are particularly useful for collaborative editing applications, where multiple users need to
                    edit the same document simultaneously. They ensure that all replicas converge to the same state regardless
                    of the order of operations.
                </p>
                <div class="key-points">
                    <div class="point-card">
                        <h3><i class="fas fa-check-circle"></i> Key Feature</h3>
                        <p>
                            Automatic conflict resolution without central coordination
                        </p>
                    </div>
                    <div class="point-card">
                        <h3><i class="fas fa-bolt"></i> Performance</h3>
                        <p>
                            Eventual consistency with minimal coordination overhead
                        </p>
                    </div>
                    <div class="point-card">
                        <h3><i class="fas fa-shield-alt"></i> Robustness</h3>
                        <p>
                            Resilient to network partitions and node failures
                        </p>
                    </div>
                    <div class="point-card">
                        <h3><i class="fas fa-project-diagram"></i> Approach</h3>
                        <p>
                            Mathematical properties ensure convergence (commutativity, idempotence, associativity)
                        </p>
                    </div>
                </div>
            </div>

            <!-- Visualization Console -->
            <div class="section">
                <h2>
                    <i class="fas fa-laptop-code"></i> Interactive Visualization
                </h2>
                <p>
                    Use the interactive console below to visualize how a CRDT List works. Simulate multiple users editing
                    a shared document and observe how the CRDT automatically resolves conflicts.
                </p>
                <div class="visualization-console">
                    <div class="console-header">
                        <h3>
                            <i class="fas fa-play-circle"></i> CRDT List Visualization
                        </h3>
                        <div class="console-controls">
                            <button class="console-btn secondary" id="settings-btn">
                                <i class="fas fa-cog"></i> Settings
                            </button>
                            <button class="console-btn" id="run-btn">
                                <i class="fas fa-play"></i> Run
                            </button>
                        </div>
                    </div>
                    <div class="visualization-area" id="visualization-area">
                        <div class="replica">
                            <div class="replica-header">
                                <div class="replica-title">Replica A (User 1)</div>
                                <div class="replica-status">Connected</div>
                            </div>
                            <div class="replica-content" id="replica-a">
                                <div class="list-item">
                                    <span class="character">H</span>
                                    <span class="identifier">A:1</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">e</span>
                                    <span class="identifier">A:2</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">l</span>
                                    <span class="identifier">A:3</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">l</span>
                                    <span class="identifier">A:4</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">o</span>
                                    <span class="identifier">A:5</span>
                                </div>
                            </div>
                            <div class="controls">
                                <input type="text" class="control-input" id="input-a" placeholder="Enter text" maxlength="1">
                                <button class="control-btn" onclick="insertToReplica('A')">Insert</button>
                                <button class="control-btn" onclick="deleteFromReplica('A')">Delete</button>
                            </div>
                            <div class="operation-log" id="log-a">
                                <div class="log-entry">Initialized with "Hello"</div>
                            </div>
                        </div>

                        <div class="replica">
                            <div class="replica-header">
                                <div class="replica-title">Replica B (User 2)</div>
                                <div class="replica-status">Connected</div>
                            </div>
                            <div class="replica-content" id="replica-b">
                                <div class="list-item">
                                    <span class="character">H</span>
                                    <span class="identifier">A:1</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">e</span>
                                    <span class="identifier">A:2</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">l</span>
                                    <span class="identifier">A:3</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">l</span>
                                    <span class="identifier">A:4</span>
                                </div>
                                <div class="list-item">
                                    <span class="character">o</span>
                                    <span class="identifier">A:5</span>
                                </div>
                            </div>
                            <div class="controls">
                                <input type="text" class="control-input" id="input-b" placeholder="Enter text" maxlength="1">
                                <button class="control-btn" onclick="insertToReplica('B')">Insert</button>
                                <button class="control-btn" onclick="deleteFromReplica('B')">Delete</button>
                            </div>
                            <div class="operation-log" id="log-b">
                                <div class="log-entry">Initialized with "Hello"</div>
                            </div>
                        </div>
                    </div>
                    <div class="console-input">
                        <button class="console-btn" id="sync-btn" onclick="syncReplicas()">
                            <i class="fas fa-sync"></i> Sync Replicas
                        </button>
                        <button class="console-btn secondary" id="reset-btn" onclick="resetReplicas()">
                            <i class="fas fa-redo"></i> Reset
                        </button>
                    </div>
                    <div class="stats-panel">
                        <div class="stat-item">
                            <span class="stat-value" id="ops-count">0</span>
                            <span class="stat-label">Operations</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="sync-count">0</span>
                            <span class="stat-label">Sync Events</span>
                        </div>
                        <div class="stat-item">
                            <span class="stat-value" id="conflict-count">0</span>
                            <span class="stat-label">Conflicts Resolved</span>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Algorithm Steps -->
            <div class="section">
                <h2><i class="fas fa-list-ol"></i> CRDT List Operations</h2>
                <p>
                    CRDT Lists use unique identifiers and mathematical properties to ensure conflict-free convergence:
                </p>
                <div class="key-points">
                    <div class="point-card">
                        <h3><i class="fas fa-fingerprint"></i> 1. Unique Identifiers</h3>
                        <p>
                            Each element in the list has a unique identifier that includes a replica ID and a sequence number.
                            This ensures that operations can be uniquely identified across all replicas.
                        </p>
                    </div>
                    <div class="point-card">
                        <h3><i class="fas fa-plus-circle"></i> 2. Insert Operation</h3>
                        <p>
                            When inserting a new element, it is placed between two existing elements using their identifiers.
                            The new element gets a unique identifier that ensures it can be positioned correctly on all replicas.
                        </p>
                    </div>
                    <div class="point-card">
                        <h3><i class="fas fa-minus-circle"></i> 3. Delete Operation</h3>
                        <p>
                            Deletion is implemented using a tombstone approach or by keeping the element but marking it as deleted.
                            This ensures that delete operations are commutative and can be applied in any order.
                        </p>
                    </div>
                    <div class="point-card">
                        <h3><i class="fas fa-sync-alt"></i> 4. Synchronization</h3>
                        <p>
                            Replicas exchange operations and apply them in an order that ensures convergence.
                            The mathematical properties of CRDTs guarantee that all replicas will eventually reach the same state.
                        </p>
                    </div>
                    <div class="point-card">
                        <h3><i class="fas fa-project-diagram"></i> 5. Conflict Resolution</h3>
                        <p>
                            When concurrent operations conflict (e.g., simultaneous inserts at the same position),
                            the CRDT uses deterministic rules (like replica ID ordering) to resolve them consistently.
                        </p>
                    </div>
                </div>
            </div>

            <!-- Pseudocode Section -->
            <div class="section">
                <h2><i class="fas fa-list-ol"></i> Pseudocode</h2>
                <div class="code-block">
                    <pre><code>// Data structure for a list element
struct Element {
    id: (replica_id, sequence_number)
    value: character
    visible: boolean
    position: identifier between previous and next elements
}

// CRDT List class
class CRDTList {
    elements: Map<Identifier, Element>

    // Generate a new unique identifier
    function generateId() {
        return (replica_id, local_sequence_number++)
    }

    // Insert a character at a specific position
    function insert(value, position) {
        new_id = generateId()
        // Find the elements before and after the insertion point
        prev_elem = findElementBefore(position)
        next_elem = findElementAfter(position)

        // Create new element with position between prev and next
        new_elem = Element(new_id, value, true,
                          between(prev_elem.id, next_elem.id))

        elements.add(new_elem)
        return new_elem
    }

    // Delete an element at a specific position
    function delete(position) {
        elem = findElementAt(position)
        elem.visible = false  // Tombstone approach
    }

    // Apply a remote operation
    function applyRemote(op) {
        if op.type == INSERT {
            // Check if we already have this element
            if not elements.contains(op.element.id) {
                elements.add(op.element)
            }
        } else if op.type == DELETE {
            if elements.contains(op.element_id) {
                elements.get(op.element_id).visible = false
            }
        }
    }

    // Get the current visible content
    function getContent() {
        visible_elems = filter elements where visible == true
        sorted_elems = sort visible_elems by position
        return concat sorted_elems.values
    }
}</code></pre>
                </div>
            </div>

            <!-- Implementation Section -->
            <div class="section">
                <h2><i class="fas fa-code"></i> Implementation</h2>
                <p>
                    Below is a simplified JavaScript implementation of a CRDT List using the Logoot algorithm approach,
                    which assigns unique identifiers to each element to ensure consistent ordering across replicas.
                </p>
                <div class="code-block">
                    <div class="code-header">
                        <span>JavaScript Implementation</span>
                        <button class="copy-btn">
                            <i class="fas fa-copy"></i> Copy Code
                        </button>
                    </div>
                    <pre><code><span class="keyword">class</span> <span class="function">CRDTList</span> {
    <span class="function">constructor</span>(replicaId) {
        <span class="keyword">this</span>.replicaId = replicaId;
        <span class="keyword">this</span>.elements = [];
        <span class="keyword">this</span>.counter = 0;
    }

    <span class="comment">// Generate a unique identifier</span>
    <span class="function">generateIdentifier</span>(position) {
        <span class="keyword">return</span> {
            replicaId: <span class="keyword">this</span>.replicaId,
            sequence: <span class="keyword">this</span>.counter++,
            position: position
        };
    }

    <span class="comment">// Insert a character at the given position</span>
    <span class="function">insert</span>(value, index) {
        <span class="keyword">let</span> newPosition;

        <span class="keyword">if</span> (<span class="keyword">this</span>.elements.length === 0) {
            <span class="comment">// First element</span>
            newPosition = <span class="number">0</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (index === <span class="number">0</span>) {
            <span class="comment">// Insert at beginning</span>
            newPosition = <span class="keyword">this</span>.elements[<span class="number">0</span>].id.position / <span class="number">2</span>;
        } <span class="keyword">else</span> <span class="keyword">if</span> (index >= <span class="keyword">this</span>.elements.length) {
            <span class="comment">// Insert at end</span>
            newPosition = <span class="keyword">this</span>.elements[<span class="keyword">this</span>.elements.length - <span class="number">1</span>].id.position + <span class="number">1</span>;
        } <span class="keyword">else</span> {
            <span class="comment">// Insert between two elements</span>
            <span class="keyword">let</span> prev = <span class="keyword">this</span>.elements[index - <span class="number">1</span>].id.position;
            <span class="keyword">let</span> next = <span class="keyword">this</span>.elements[index].id.position;
            newPosition = (prev + next) / <span class="number">2</span>;
        }

        <span class="keyword">const</span> newId = <span class="keyword">this</span>.generateIdentifier(newPosition);
        <span class="keyword">const</span> newElement = {
            id: newId,
            value: value,
            visible: <span class="keyword">true</span>
        };

        <span class="comment">// Insert in sorted order by position</span>
        <span class="keyword">let</span> i = <span class="number">0</span>;
        <span class="keyword">while</span> (i < <span class="keyword">this</span>.elements.length &&
               <span class="keyword">this</span>.elements[i].id.position < newPosition) {
            i++;
        }

        <span class="keyword">this</span>.elements.splice(i, <span class="number">0</span>, newElement);
        <span class="keyword">return</span> newElement;
    }

    <span class="comment">// Delete the element at the given position</span>
    <span class="function">delete</span>(index) {
        <span class="keyword">if</span> (index >= <span class="number">0</span> && index < <span class="keyword">this</span>.elements.length) {
            <span class="keyword">this</span>.elements[index].visible = <span class="keyword">false</span>;
            <span class="keyword">return</span> <span class="keyword">true</span>;
        }
        <span class="keyword">return</span> <span class="keyword">false</span>;
    }

    <span class="comment">// Apply a remote operation</span>
    <span class="function">applyOperation</span>(op) {
        <span class="keyword">if</span> (op.type === <span class="string">'insert'</span>) {
            <span class="comment">// Check if we already have this element</span>
            <span class="keyword">const</span> exists = <span class="keyword">this</span>.elements.some(e =&gt;
                e.id.replicaId === op.element.id.replicaId &&
                e.id.sequence === op.element.id.sequence);

            <span class="keyword">if</span> (!exists) {
                <span class="comment">// Insert in sorted order by position</span>
                <span class="keyword">let</span> i = <span class="number">0</span>;
                <span class="keyword">while</span> (i < <span class="keyword">this</span>.elements.length &&
                       <span class="keyword">this</span>.elements[i].id.position < op.element.id.position) {
                    i++;
                }
                <span class="keyword">this</span>.elements.splice(i, <span class="number">0</span>, op.element);
            }
        } <span class="keyword">else</span> <span class="keyword">if</span> (op.type === <span class="string">'delete'</span>) {
            <span class="comment">// Find the element to delete</span>
            <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i < <span class="keyword">this</span>.elements.length; i++) {
                <span class="keyword">if</span> (<span class="keyword">this</span>.elements[i].id.replicaId === op.elementId.replicaId &&
                    <span class="keyword">this</span>.elements[i].id.sequence === op.elementId.sequence) {
                    <span class="keyword">this</span>.elements[i].visible = <span class="keyword">false</span>;
                    <span class="keyword">break</span>;
                }
            }
        }
    }

    <span class="comment">// Get the current content as a string</span>
    <span class="function">getContent</span>() {
        <span class="keyword">return</span> <span class="keyword">this</span>.elements
            .filter(e =&gt; e.visible)
            .map(e =&gt; e.value)
            .join(<span class="string">''</span>);
    }
}

<span class="comment">// Example usage</span>
<span class="keyword">const</span> replica1 = <span class="keyword">new</span> CRDTList(<span class="string">'A'</span>);
replica1.insert(<span class="string">'H'</span>, <span class="number">0</span>);
replica1.insert(<span class="string">'e'</span>, <span class="number">1</span>);
replica1.insert(<span class="string">'l'</span>, <span class="number">2</span>);
replica1.insert(<span class="string">'l'</span>, <span class="number">3</span>);
replica1.insert(<span class="string">'o'</span>, <span class="number">4</span>);

<span class="keyword">const</span> replica2 = <span class="keyword">new</span> CRDTList(<span class="string">'B'</span>);
<span class="comment">// Apply all operations from replica1 to replica2</span>
<span class="comment">// Both replicas will have the same content</span></code></pre>
                </div>
            </div>
        </div>

        <!-- Right Column: Additional Info -->
        <div class="right-column">
            <!-- Properties Section -->
            <div class="section">
                <h2><i class="fas fa-info-circle"></i> CRDT Properties</h2>
                <div class="properties-grid">
                    <div class="property-card">
                        <h4>Category</h4>
                        <div class="value">State-based</div>
                    </div>
                    <div class="property-card">
                        <h4>Consistency</h4>
                        <div class="value">Eventual</div>
                    </div>
                    <div class="property-card">
                        <h4>Convergence</h4>
                        <div class="value">Strong</div>
                    </div>
                    <div class="property-card">
                        <h4>Fault Tolerance</h4>
                        <div class="value">High</div>
                    </div>
                    <div class="property-card">
                        <h4>Space Complexity</h4>
                        <div class="value">O(n log n)</div>
                    </div>
                    <div class="property-card">
                        <h4>Time Complexity</h4>
                        <div class="value">O(n log n)</div>
                    </div>
                    <div class="property-card">
                        <h4>Network Overhead</h4>
                        <div class="value">Medium</div>
                    </div>
                    <div class="property-card">
                        <h4>Approach</h4>
                        <div class="value">Operation-based</div>
                    </div>
                </div>
            </div>

            <!-- Applications Section -->
            <div class="section">
                <h2><i class="fas fa-lightbulb"></i> Applications</h2>
                <p>
                    CRDTs are used in various distributed systems where eventual consistency is acceptable:
                </p>
                <ul style="padding-left: 20px; margin: 15px 0; color: var(--text-secondary);">
                    <li style="margin-bottom: 10px;">
                        Collaborative editing tools (Google Docs, Etherpad)
                    </li>
                    <li style="margin-bottom: 10px;">
                        Distributed databases (Riak, Cassandra)
                    </li>
                    <li style="margin-bottom: 10px;">Mobile applications with offline support</li>
                    <li style="margin-bottom: 10px;">
                        Real-time collaborative applications
                    </li>
                    <li>Blockchain and distributed ledger technologies</li>
                </ul>
            </div>

            <!-- Advantages Section -->
            <div class="section">
                <h2><i class="fas fa-plus-circle"></i> Advantages</h2>
                <ul style="padding-left: 20px; margin: 15px 0; color: var(--text-secondary);">
                    <li style="margin-bottom: 10px;">
                        No coordination needed between replicas
                    </li>
                    <li style="margin-bottom: 10px;">
                        Always eventually consistent
                    </li>
                    <li style="margin-bottom: 10px;">
                        Resilient to network partitions
                    </li>
                    <li style="margin-bottom: 10px;">
                        Supports offline operation
                    </li>
                    <li>Simple to implement and reason about</li>
                </ul>
            </div>

            <!-- Limitations Section -->
            <div class="section">
                <h2><i class="fas fa-exclamation-triangle"></i> Limitations</h2>
                <ul style="padding-left: 20px; margin: 15px 0; color: var(--text-secondary);">
                    <li style="margin-bottom: 10px;">
                        Higher memory usage than sequential data structures
                    </li>
                    <li style="margin-bottom: 10px;">
                        Can have eventually consistent behavior that might be surprising to users
                    </li>
                    <li style="margin-bottom: 10px;">
                        Conflict resolution is automatic but may not always match user intent
                    </li>
                    <li>Complex to implement for certain data types</li>
                </ul>
            </div>

            <!-- Types Section -->
            <div class="section">
                <h2><i class="fas fa-not-equal"></i> CRDT Types</h2>
                <ul style="padding-left: 20px; margin: 15px 0; color: var(--text-secondary);">
                    <li style="margin-bottom: 10px;">
                        <strong>State-based</strong>: Replicas exchange their entire state
                    </li>
                    <li style="margin-bottom: 10px;">
                        <strong>Operation-based</strong>: Replicas exchange operations
                    </li>
                    <li style="margin-bottom: 10px;">
                        <strong>CRDT Sets</strong>: Grow-only sets (G-Set), 2-phase sets (2P-Set)
                    </li>
                    <li style="margin-bottom: 10px;">
                        <strong>CRDT Counters</strong>: Grow-only counters (G-Counter), positive-negative counters (PN-Counter)
                    </li>
                    <li><strong>CRDT Registers</strong>: Last-writer-wins register (LWW-Register)</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <div class="footer-links">
            <a href="https://www.linkedin.com/in/sgkandale/" target="_blank"><i class="fa-brands fa-linkedin"></i> LinkedIN</a>
            <a href="mailto:me@sgkandale.com"><i class="fa-solid fa-at"></i> E-Mail</a>
            <a href="https://buymeacoffee.com/sgkandale" target="_blank"><i class="fa-solid fa-mug-hot"></i> Buy Me a Coffee</a>
        </div>
        <p>AlgoViz Hub - Interactive Algorithm Visualization Platform</p>
        <p>Â© 2025 AlgoViz Hub. All rights reserved.</p>
    </footer>
</div>

<script>
    // Copy button functionality
    document.querySelectorAll(".copy-btn").forEach((button) => {
        button.addEventListener("click", function() {
            const codeBlock = this.closest('.code-block').querySelector('code');
            const code = codeBlock.innerText;
            navigator.clipboard.writeText(code);

            // Show feedback
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check"></i> Copied!';

            setTimeout(() => {
                this.innerHTML = originalText;
            }, 2000);
        });
    });

    // CRDT List simulation
    let operations = [];
    let syncEvents = 0;
    let conflictsResolved = 0;

    // Initialize replicas with some content
    function resetReplicas() {
        document.getElementById('replica-a').innerHTML = `
            <div class="list-item">
                <span class="character">H</span>
                <span class="identifier">A:1</span>
            </div>
            <div class="list-item">
                <span class="character">e</span>
                <span class="identifier">A:2</span>
            </div>
            <div class="list-item">
                <span class="character">l</span>
                <span class="identifier">A:3</span>
            </div>
            <div class="list-item">
                <span class="character">l</span>
                <span class="identifier">A:4</span>
            </div>
            <div class="list-item">
                <span class="character">o</span>
                <span class="identifier">A:5</span>
            </div>
        `;

        document.getElementById('replica-b').innerHTML = `
            <div class="list-item">
                <span class="character">H</span>
                <span class="identifier">A:1</span>
            </div>
            <div class="list-item">
                <span class="character">e</span>
                <span class="identifier">A:2</span>
            </div>
            <div class="list-item">
                <span class="character">l</span>
                <span class="identifier">A:3</span>
            </div>
            <div class="list-item">
                <span class="character">l</span>
                <span class="identifier">A:4</span>
            </div>
            <div class="list-item">
                <span class="character">o</span>
                <span class="identifier">A:5</span>
            </div>
        `;

        document.getElementById('log-a').innerHTML = '<div class="log-entry">Initialized with "Hello"</div>';
        document.getElementById('log-b').innerHTML = '<div class="log-entry">Initialized with "Hello"</div>';

        document.getElementById('input-a').value = '';
        document.getElementById('input-b').value = '';

        operations = [];
        syncEvents = 0;
        conflictsResolved = 0;

        updateStats();
    }

    // Insert a character to a replica
    function insertToReplica(replica) {
        const inputField = document.getElementById(`input-${replica}`);
        const value = inputField.value.trim();

        if (value.length === 0) return;

        const replicaElement = document.getElementById(`replica-${replica.toLowerCase()}`);
        const logElement = document.getElementById(`log-${replica.toLowerCase()}`);

        // Generate a unique identifier
        const identifier = `${replica}:${operations.length + 1}`;

        // Create new list item
        const newItem = document.createElement('div');
        newItem.className = 'list-item';
        newItem.innerHTML = `
            <span class="character">${value}</span>
            <span class="identifier">${identifier}</span>
        `;

        // Add to replica (at the end for simplicity)
        replicaElement.appendChild(newItem);

        // Log the operation
        const logEntry = document.createElement('div');
        logEntry.className = 'log-entry';
        logEntry.textContent = `Inserted '${value}' with ID ${identifier}`;
        logElement.appendChild(logEntry);

        // Scroll to bottom of log
        logElement.scrollTop = logElement.scrollHeight;

        // Store the operation
        operations.push({
            type: 'insert',
            replica: replica,
            value: value,
            identifier: identifier,
            timestamp: Date.now()
        });

        // Clear input
        inputField.value = '';

        updateStats();
    }

    // Delete from a replica
    function deleteFromReplica(replica) {
        const replicaElement = document.getElementById(`replica-${replica.toLowerCase()}`);
        const logElement = document.getElementById(`log-${replica.toLowerCase()}`);

        if (replicaElement.children.length === 0) return;

        // Remove the last element
        const lastItem = replicaElement.lastElementChild;
        const value = lastItem.querySelector('.character').textContent;
        const identifier = lastItem.querySelector('.identifier').textContent;

        replicaElement.removeChild(lastItem);

        // Log the operation
        const logEntry = document.createElement('div');
        logEntry.className = 'log-entry';
        logEntry.textContent = `Deleted '${value}' with ID ${identifier}`;
        logElement.appendChild(logEntry);

        // Scroll to bottom of log
        logElement.scrollTop = logElement.scrollHeight;

        // Store the operation
        operations.push({
            type: 'delete',
            replica: replica,
            value: value,
            identifier: identifier,
            timestamp: Date.now()
        });

        updateStats();
    }

    // Sync replicas
    function syncReplicas() {
        syncEvents++;

        // For demonstration, we'll just show both replicas with the same content
        // In a real CRDT, this would involve exchanging and merging operations

        const replicaA = document.getElementById('replica-a');
        const replicaB = document.getElementById('replica-b');
        const logA = document.getElementById('log-a');
        const logB = document.getElementById('log-b');

        // Create a combined content from both replicas
        const allItems = [];

        // Collect items from replica A
        for (let item of replicaA.children) {
            const value = item.querySelector('.character').textContent;
            const identifier = item.querySelector('.identifier').textContent;
            allItems.push({value, identifier, element: item.cloneNode(true)});
        }

        // Collect items from replica B
        for (let item of replicaB.children) {
            const value = item.querySelector('.character').textContent;
            const identifier = item.querySelector('.identifier').textContent;

            // Check if we already have this item
            const exists = allItems.some(i => i.identifier === identifier);
            if (!exists) {
                allItems.push({value, identifier, element: item.cloneNode(true)});
            } else {
                conflictsResolved++;
            }
        }

        // Sort by identifier (simple approach for demo)
        allItems.sort((a, b) => {
            // Simple sort based on replica and sequence number
            const [aReplica, aSeq] = a.identifier.split(':');
            const [bReplica, bSeq] = b.identifier.split(':');

            if (aReplica !== bReplica) {
                return aReplica.localeCompare(bReplica);
            }
            return parseInt(aSeq) - parseInt(bSeq);
        });

        // Update both replicas with the merged content
        replicaA.innerHTML = '';
        replicaB.innerHTML = '';

        for (let item of allItems) {
            replicaA.appendChild(item.element.cloneNode(true));
            replicaB.appendChild(item.element.cloneNode(true));
        }

        // Log the sync event
        const logEntryA = document.createElement('div');
        logEntryA.className = 'log-entry';
        logEntryA.textContent = `Synchronized with Replica B (${allItems.length} items)`;
        logA.appendChild(logEntryA);

        const logEntryB = document.createElement('div');
        logEntryB.className = 'log-entry';
        logEntryB.textContent = `Synchronized with Replica A (${allItems.length} items)`;
        logB.appendChild(logEntryB);

        // Scroll to bottom of logs
        logA.scrollTop = logA.scrollHeight;
        logB.scrollTop = logB.scrollHeight;

        updateStats();
    }

    // Update statistics
    function updateStats() {
        document.getElementById('ops-count').textContent = operations.length;
        document.getElementById('sync-count').textContent = syncEvents;
        document.getElementById('conflict-count').textContent = conflictsResolved;
    }

    // Initialize the visualization
    window.addEventListener('load', resetReplicas);
</script>
</body>
</html>
