<!DOCTYPE html>

<html lang="en">
<head><meta content="Understand distributed consensus algorithms used in distributed systems and databases" name="description"/><meta content="distributed consensus, consensus algorithm, raft, paxos, epaxos, zab, 2pc, 3pc, bft, vsr" name="keywords"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>EPaxos Consensus | AlgoViz Hub</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      :root {
        --primary-dark: #0f172a;
        --secondary-dark: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --text-light: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --transition: all 0.3s ease;
      }

      body {
        background: linear-gradient(
          135deg,
          var(--primary-dark),
          var(--secondary-dark)
        );
        color: var(--text-light);
        min-height: 100vh;
        padding: 20px;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        padding: 20px 0;
        margin-bottom: 30px;
      }

      .logo {
        display: inline-flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 15px;
      }

      .logo-icon {
        width: 60px;
        height: 60px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 0 20px rgba(129, 140, 248, 0.5);
      }

      .logo-icon i {
        font-size: 28px;
        color: white;
      }

      .logo-text h1 {
        font-size: 36px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        margin-bottom: 5px;
      }

      .logo-text p {
        color: var(--text-secondary);
        font-size: 18px;
      }

      .algorithm-header {
        background: var(--card-bg);
        border-radius: 15px;
        padding: 25px;
        margin: 25px 0;
        text-align: center;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .algorithm-header .description {
        font-size: 18px;
        color: var(--text-secondary);
        max-width: 800px;
        margin: 0 auto 20px;
        line-height: 1.6;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 8px 20px;
        border-radius: 30px;
        font-size: 18px;
        font-weight: 600;
        margin-top: 15px;
      }

      .main-content {
        display: flex;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          flex-direction: column;
        }
      }

      .visualization-section {
        flex: 1;
        background: var(--card-bg);
        border-radius: 15px;
        padding: 25px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
      }

      .info-section {
        width: 350px;
        background: var(--card-bg);
        border-radius: 15px;
        padding: 25px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
      }

      @media (max-width: 900px) {
        .info-section {
          width: 100%;
        }
      }

      .section-title {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
        padding-bottom: 15px;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .section-title i {
        color: var(--accent);
        width: 40px;
        height: 40px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 10px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .visualization-area {
        height: 500px;
        background: rgba(0, 0, 0, 0.2);
        border-radius: 10px;
        position: relative;
        overflow: hidden;
        margin-bottom: 20px;
      }

      .cluster-container {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 100%;
        position: relative;
      }

      .node {
        width: 100px;
        height: 100px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        position: absolute;
        font-weight: bold;
        border: 3px solid var(--accent-light);
        background: rgba(30, 41, 59, 0.7);
        box-shadow: 0 0 15px rgba(129, 140, 248, 0.3);
        transition: var(--transition);
        z-index: 2;
      }

      .node.active {
        border-color: var(--success);
        box-shadow: 0 0 20px rgba(16, 185, 129, 0.5);
        transform: scale(1.1);
      }

      .node.conflicted {
        border-color: var(--warning);
        box-shadow: 0 0 20px rgba(245, 158, 11, 0.5);
        animation: pulse 1.5s infinite;
      }

      .message {
        position: absolute;
        background: rgba(255, 255, 255, 0.1);
        border: 1px solid var(--accent-light);
        border-radius: 20px;
        padding: 8px 15px;
        font-size: 14px;
        font-family: "Courier New", monospace;
        z-index: 1;
        opacity: 0;
        transition: opacity 0.3s;
      }

      .message.show {
        opacity: 1;
      }

      .dependency-graph {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        padding: 15px;
        height: 180px;
        margin-top: 20px;
        font-family: "Courier New", monospace;
        overflow: auto;
      }

      .dependency-graph div {
        margin: 5px 0;
        padding: 5px;
        background: rgba(15, 23, 42, 0.5);
        border-radius: 5px;
      }

      .controls {
        display: flex;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 20px;
      }

      .control-btn {
        flex: 1;
        min-width: 120px;
        background: var(--accent);
        color: white;
        border: none;
        padding: 12px 15px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
        transition: var(--transition);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
      }

      .control-btn:hover {
        background: var(--accent-light);
        transform: translateY(-2px);
      }

      .control-btn.secondary {
        background: rgba(148, 163, 184, 0.3);
      }

      .key-points {
        display: grid;
        gap: 15px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: 10px;
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        color: var(--text-secondary);
        font-size: 16px;
        line-height: 1.6;
      }

      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
        gap: 15px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: 10px;
        padding: 15px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 18px;
        font-weight: 700;
        color: var(--accent-light);
      }

      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 16px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
        text-decoration: underline;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
          opacity: 1;
        }
        50% {
          transform: scale(1.05);
          opacity: 0.8;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }

      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      .log-container {
        background: rgba(0, 0, 0, 0.3);
        border-radius: 10px;
        padding: 15px;
        height: 150px;
        margin-top: 20px;
        font-family: "Courier New", monospace;
        overflow: auto;
        font-size: 14px;
      }

      .log-entry {
        margin-bottom: 8px;
        padding-bottom: 8px;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }
    </style>
<meta content="EPaxos Consensus | AlgoViz Hub" property="og:title"/><meta content="Understand distributed consensus algorithms used in distributed systems and databases" property="og:description"/><meta content="article" property="og:type"/><meta content="https://sgkandale.github.io/distributed_consensus_epaxos.html" property="og:url"/><meta content="AlgoViz Hub" property="og:site_name"/><meta content="summary" name="twitter:card"/><meta content="EPaxos Consensus | AlgoViz Hub" name="twitter:title"/><meta content="Understand distributed consensus algorithms used in distributed systems and databases" name="twitter:description"/><meta content="@sgkandale" name="twitter:site"/><link href="https://sgkandale.github.io/distributed_consensus_epaxos.html" rel="canonical"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "EPaxos Consensus | AlgoViz Hub",
  "description": "Understand distributed consensus algorithms used in distributed systems and databases",
  "author": {
    "@type": "Person",
    "name": "Shantanu Kandale"
  },
  "publisher": {
    "@type": "Organization",
    "name": "AlgoViz Hub",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sgkandale.github.io/favicon.ico"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sgkandale.github.io/distributed_consensus_epaxos.html"
  }
}</script></head>
<body>
<div class="container">
<header>
<div class="logo">
<div class="logo-icon floating">
<i class="fas fa-network-wired"></i>
</div>
<div class="logo-text">
<h1>AlgoViz Hub</h1>
<p>EPaxos Consensus Algorithm Visualization</p>
</div>
</div>
</header>
<div class="algorithm-header">
<h1>EPaxos Consensus</h1>
<p class="description">
          EPaxos (Egalitarian Paxos) is a leaderless consensus protocol
          optimized for wide-area networks. It achieves consensus without a
          fixed leader by using dependency graphs and conflict resolution.
        </p>
<div class="complexity-badge">
          Leaderless • Dependency Graphs • Fast/Slow Path
        </div>
</div>
<div class="main-content">
<div class="visualization-section">
<h2 class="section-title">
<i class="fas fa-project-diagram"></i> Interactive Visualization
          </h2>
<div class="visualization-area">
<div class="cluster-container" id="cluster-container">
<!-- Nodes will be dynamically added here -->
</div>
</div>
<div class="dependency-graph" id="dependency-graph">
<h3>Dependency Graph:</h3>
<div id="graph-content">No dependencies yet</div>
</div>
<div class="log-container" id="log-container">
<div class="log-entry">
              System: EPaxos cluster initialized with 5 replicas
            </div>
<div class="log-entry">System: Ready to process commands</div>
</div>
<div class="controls">
<button class="control-btn" id="propose-btn">
<i class="fas fa-paper-plane"></i> Propose Command
            </button>
<button class="control-btn secondary" id="fast-path-btn">
<i class="fas fa-bolt"></i> Trigger Fast Path
            </button>
<button class="control-btn secondary" id="slow-path-btn">
<i class="fas fa-tachometer-alt-slow"></i> Trigger Slow Path
            </button>
<button class="control-btn secondary" id="fail-btn">
<i class="fas fa-skull"></i> Fail Random Node
            </button>
<button class="control-btn secondary" id="reset-btn">
<i class="fas fa-redo"></i> Reset Simulation
            </button>
</div>
</div>
<div class="info-section">
<h2 class="section-title">
<i class="fas fa-info-circle"></i> Algorithm Details
          </h2>
<div class="key-points">
<div class="point-card">
<h3><i class="fas fa-crown"></i> Leaderless Design</h3>
<p>
                Any replica can propose commands without a fixed leader,
                reducing bottlenecks and improving performance in wide-area
                networks.
              </p>
</div>
<div class="point-card">
<h3><i class="fas fa-project-diagram"></i> Dependency Graphs</h3>
<p>
                EPaxos maintains dependency graphs to track conflicts and
                determine execution order without global coordination.
              </p>
</div>
<div class="point-card">
<h3><i class="fas fa-bolt"></i> Fast Path &amp; Slow Path</h3>
<p>
                Commands commit in one round trip (fast path) when
                conflict-free, falling back to two rounds (slow path) when
                conflicts occur.
              </p>
</div>
</div>
<h3 class="section-title">
<i class="fas fa-list-ol"></i> Algorithm Steps
          </h3>
<div class="point-card">
<ol style="padding-left: 20px; color: var(--text-secondary)">
<li style="margin-bottom: 10px">
                A replica receives a command from a client
              </li>
<li style="margin-bottom: 10px">
                Sends PreAccept messages to a fast quorum (F + ⌊(F+1)/2⌋
                replicas)
              </li>
<li style="margin-bottom: 10px">
                If no conflicts and replies match, commits via fast path
              </li>
<li style="margin-bottom: 10px">
                If conflicts detected, switches to slow path (Accept phase)
              </li>
<li>
                Once committed, executes commands respecting dependency graph
                order
              </li>
</ol>
</div>
<h3 class="section-title"><i class="fas fa-cogs"></i> Properties</h3>
<div class="properties-grid">
<div class="property-card">
<h4>Leader</h4>
<div class="value">None</div>
</div>
<div class="property-card">
<h4>Fault Tolerance</h4>
<div class="value">F &lt; N/2</div>
</div>
<div class="property-card">
<h4>Fast Path</h4>
<div class="value">1 RTT</div>
</div>
<div class="property-card">
<h4>Slow Path</h4>
<div class="value">2 RTT</div>
</div>
<div class="property-card">
<h4>Quorum Size</h4>
<div class="value">F + ⌊(F+1)/2⌋</div>
</div>
<div class="property-card">
<h4>Consistency</h4>
<div class="value">Strong</div>
</div>
</div>
</div>
</div>
<footer>
<div class="footer-links">
<a href="#"><i class="fab fa-github"></i> GitHub</a>
<a href="#"><i class="fas fa-book"></i> Documentation</a>
<a href="#"><i class="fas fa-file-alt"></i> Research Paper</a>
<a href="#"><i class="fas fa-question-circle"></i> About EPaxos</a>
</div>
<p>EPaxos Visualization | Understanding Distributed Consensus</p>
<p>
          © 2023 Algorithm Visualization Hub | Educational Purpose Only
        </p>
</footer>
</div>
<script>
      // EPaxos simulation
      const clusterContainer = document.getElementById("cluster-container");
      const logContainer = document.getElementById("log-container");
      const graphContent = document.getElementById("graph-content");
      const proposeBtn = document.getElementById("propose-btn");
      const fastPathBtn = document.getElementById("fast-path-btn");
      const slowPathBtn = document.getElementById("slow-path-btn");
      const failBtn = document.getElementById("fail-btn");
      const resetBtn = document.getElementById("reset-btn");

      const replicas = [];
      let commandCounter = 1;
      let conflictMode = false;

      // Initialize the cluster
      function initCluster() {
        clusterContainer.innerHTML = "";
        logContainer.innerHTML =
          '<div class="log-entry">System: EPaxos cluster initialized with 5 replicas</div>';
        replicas.length = 0;
        commandCounter = 1;
        conflictMode = false;
        graphContent.innerHTML = "No dependencies yet";

        // Create 5 replicas in a circle
        const centerX = clusterContainer.offsetWidth / 2;
        const centerY = clusterContainer.offsetHeight / 2;
        const radius = Math.min(centerX, centerY) * 0.7;

        for (let i = 1; i <= 5; i++) {
          const angle = (i * 2 * Math.PI) / 5 - Math.PI / 2;
          const x = centerX + radius * Math.cos(angle);
          const y = centerY + radius * Math.sin(angle);

          const node = document.createElement("div");
          node.className = "node";
          node.id = `node-${i}`;
          node.textContent = `R${i}`;
          node.style.left = `${x}px`;
          node.style.top = `${y}px`;
          clusterContainer.appendChild(node);

          replicas.push({
            id: i,
            element: node,
            state: "idle",
            online: true,
            commands: [],
          });
        }

        addLogEntry("System: Ready to process commands");
      }

      // Add log entry
      function addLogEntry(message) {
        const entry = document.createElement("div");
        entry.className = "log-entry";
        entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
        logContainer.appendChild(entry);
        logContainer.scrollTop = logContainer.scrollHeight;
      }

      // Update dependency graph
      function updateDependencyGraph() {
        if (commandCounter <= 1) {
          graphContent.innerHTML = "No dependencies yet";
          return;
        }

        let graphHTML = "";
        for (let i = 1; i < commandCounter; i++) {
          const deps = i > 1 ? ` → C${i - 1}` : "";
          graphHTML += `<div>C${i}${deps}</div>`;
        }

        if (conflictMode) {
          graphHTML += `<div>C${
            commandCounter - 1
          } ⇄ C${commandCounter} (conflict)</div>`;
        }

        graphContent.innerHTML = graphHTML;
      }

      // Propose a command
      function proposeCommand() {
        if (replicas.some((r) => r.state !== "idle")) {
          addLogEntry(
            "System: Another command is being processed. Try again later."
          );
          return;
        }

        const randomReplica = Math.floor(Math.random() * 5) + 1;
        const replica = replicas.find((r) => r.id === randomReplica);

        if (!replica.online) {
          addLogEntry(
            `System: Replica R${randomReplica} is offline. Cannot propose command.`
          );
          return;
        }

        const commandId = commandCounter++;
        addLogEntry(
          `Replica R${randomReplica} proposing command C${commandId}`
        );
        replica.element.classList.add("active");
        replica.state = "proposing";

        // Simulate fast path (1 RTT) by default
        setTimeout(() => {
          if (conflictMode) {
            // Enter slow path due to conflict
            enterSlowPath(randomReplica, commandId);
          } else {
            // Fast path success
            commitCommand(randomReplica, commandId);
          }
        }, 1500);
      }

      // Commit a command
      function commitCommand(replicaId, commandId) {
        const replica = replicas.find((r) => r.id === replicaId);
        replica.commands.push(`C${commandId}`);
        replica.state = "idle";
        replica.element.classList.remove("active");

        addLogEntry(
          `Command C${commandId} committed via ${
            conflictMode ? "slow path" : "fast path"
          }`
        );
        addLogEntry(`Replica R${replicaId} executing command C${commandId}`);

        updateDependencyGraph();
      }

      // Enter slow path
      function enterSlowPath(replicaId, commandId) {
        const replica = replicas.find((r) => r.id === replicaId);
        replica.element.classList.remove("active");
        replica.element.classList.add("conflicted");

        addLogEntry(
          `Conflict detected! Command C${commandId} entering slow path (Accept phase)`
        );

        // Simulate slow path (2 RTT)
        setTimeout(() => {
          replica.element.classList.remove("conflicted");
          commitCommand(replicaId, commandId);
          conflictMode = false; // Reset conflict after resolution
        }, 2500);
      }

      // Fail a random node
      function failRandomNode() {
        const onlineReplicas = replicas.filter((r) => r.online);
        if (onlineReplicas.length < 2) {
          addLogEntry("System: Not enough online nodes to fail!");
          return;
        }

        const randomIndex = Math.floor(Math.random() * onlineReplicas.length);
        const replica = onlineReplicas[randomIndex];
        replica.online = false;
        replica.element.style.opacity = "0.3";

        addLogEntry(`System: Replica R${replica.id} failed!`);
      }

      // Event listeners
      proposeBtn.addEventListener("click", proposeCommand);
      fastPathBtn.addEventListener("click", () => {
        conflictMode = false;
        addLogEntry("System: Next command will use fast path");
      });
      slowPathBtn.addEventListener("click", () => {
        conflictMode = true;
        addLogEntry(
          "System: Next command will use slow path (conflict simulation)"
        );
      });
      failBtn.addEventListener("click", failRandomNode);
      resetBtn.addEventListener("click", initCluster);

      // Initialize simulation
      window.addEventListener("load", initCluster);
    </script>
</body>
</html>
