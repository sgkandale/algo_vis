<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SHA-1 Algorithm Visualization</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      }

      body {
        background: linear-gradient(135deg, #1a1a2e, #16213e);
        color: #ecf0f1;
        min-height: 100vh;
        padding: 20px;
        line-height: 1.6;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
      }

      header {
        text-align: center;
        padding: 30px 0;
        margin-bottom: 20px;
      }

      h1 {
        font-size: 3.2rem;
        margin-bottom: 15px;
        background: linear-gradient(to right, #4a9bff, #6a11cb);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
        text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
      }

      .subtitle {
        font-size: 1.3rem;
        color: #bdc3c7;
        max-width: 800px;
        margin: 0 auto 25px;
      }

      .card {
        background: rgba(25, 40, 65, 0.8);
        border-radius: 15px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.4);
        backdrop-filter: blur(10px);
        border: 1px solid rgba(255, 255, 255, 0.1);
      }

      .card-title {
        font-size: 1.8rem;
        margin-bottom: 20px;
        color: #4a9bff;
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .card-title i {
        background: linear-gradient(45deg, #4a9bff, #6a11cb);
        -webkit-background-clip: text;
        background-clip: text;
        color: transparent;
      }

      .overview-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin-top: 15px;
      }

      .overview-item {
        background: rgba(35, 55, 85, 0.6);
        border-radius: 12px;
        padding: 20px;
        transition: all 0.3s ease;
      }

      .overview-item:hover {
        transform: translateY(-5px);
        background: rgba(35, 55, 85, 0.8);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
      }

      .item-title {
        font-size: 1.3rem;
        margin-bottom: 12px;
        color: #6a11cb;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .visualization-container {
        display: flex;
        flex-direction: column;
        gap: 30px;
      }

      .process-flow {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 15px;
        margin: 20px 0;
      }

      .flow-item {
        background: rgba(40, 65, 100, 0.8);
        border-radius: 10px;
        padding: 18px;
        text-align: center;
        min-width: 160px;
        position: relative;
        z-index: 2;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
      }

      .flow-item i {
        font-size: 2.5rem;
        margin-bottom: 10px;
        color: #4a9bff;
      }

      .flow-arrow {
        font-size: 2rem;
        color: #6a11cb;
        opacity: 0.8;
      }

      .registers {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 25px;
        margin: 25px 0;
      }

      .register {
        width: 110px;
        height: 110px;
        border-radius: 12px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        font-weight: bold;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.3);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        border: 2px solid rgba(255, 255, 255, 0.1);
      }

      .register::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
          135deg,
          rgba(255, 255, 255, 0.15),
          transparent
        );
      }

      .register-label {
        font-size: 1.8rem;
        margin-bottom: 8px;
      }

      .register-value {
        font-size: 0.85rem;
        font-family: "Courier New", monospace;
        color: rgba(255, 255, 255, 0.9);
        text-align: center;
        padding: 0 5px;
        word-break: break-all;
      }

      .register-a {
        background: linear-gradient(135deg, #4a9bff, #3a7bdf);
      }
      .register-b {
        background: linear-gradient(135deg, #6a11cb, #5a01bb);
      }
      .register-c {
        background: linear-gradient(135deg, #2575fc, #1555dc);
      }
      .register-d {
        background: linear-gradient(135deg, #8e2de2, #7e1dd2);
      }
      .register-e {
        background: linear-gradient(135deg, #00c6ff, #00a6e0);
      }

      .controls {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin: 25px 0;
        flex-wrap: wrap;
      }

      .btn {
        background: linear-gradient(45deg, #6a11cb, #2575fc);
        color: white;
        border: none;
        padding: 14px 30px;
        border-radius: 50px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: 600;
        transition: all 0.3s ease;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .btn:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.4);
      }

      .btn:active {
        transform: translateY(2px);
      }

      .btn-outline {
        background: transparent;
        border: 2px solid #6a11cb;
        color: #6a11cb;
      }

      .btn-outline:hover {
        background: rgba(106, 17, 203, 0.15);
      }

      .rounds-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
        margin-top: 20px;
      }

      .round-card {
        background: rgba(35, 55, 85, 0.6);
        border-radius: 12px;
        padding: 20px;
        box-shadow: 0 5px 20px rgba(0, 0, 0, 0.3);
      }

      .round-title {
        text-align: center;
        margin-bottom: 15px;
        color: #00c6ff;
        font-size: 1.4rem;
      }

      .step-list {
        list-style: none;
      }

      .step-item {
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.25);
        margin-bottom: 10px;
        border-radius: 8px;
        font-size: 0.95rem;
        display: flex;
        align-items: center;
        gap: 10px;
        transition: all 0.3s ease;
      }

      .step-item:hover {
        background: rgba(0, 0, 0, 0.4);
        transform: translateX(5px);
      }

      .explanation-content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 25px;
      }

      .explanation-card {
        background: rgba(35, 55, 85, 0.6);
        border-radius: 12px;
        padding: 20px;
      }

      .card-heading {
        font-size: 1.4rem;
        margin-bottom: 15px;
        color: #4a9bff;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      footer {
        text-align: center;
        padding: 30px 20px 20px;
        color: #7f8c8d;
        font-size: 1rem;
        border-top: 1px solid rgba(255, 255, 255, 0.1);
        margin-top: 20px;
      }

      .function-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .function-card {
        background: rgba(35, 55, 85, 0.7);
        border-radius: 12px;
        padding: 20px;
      }

      .function-title {
        text-align: center;
        margin-bottom: 15px;
        color: #00c6ff;
      }

      .function-formula {
        background: rgba(0, 0, 0, 0.25);
        padding: 12px;
        border-radius: 8px;
        font-family: "Courier New", monospace;
        text-align: center;
        margin: 15px 0;
        font-size: 1.1rem;
        color: #4a9bff;
      }

      /* Animation classes */
      .active {
        transform: scale(1.05);
        box-shadow: 0 0 25px rgba(74, 155, 255, 0.7);
        z-index: 10;
      }

      .highlight {
        animation: highlight 1.5s ease;
      }

      @keyframes highlight {
        0% {
          box-shadow: 0 0 0 0 rgba(74, 155, 255, 0.7);
        }
        70% {
          box-shadow: 0 0 0 20px rgba(74, 155, 255, 0);
        }
        100% {
          box-shadow: 0 0 0 0 rgba(74, 155, 255, 0);
        }
      }

      .pulse {
        animation: pulse 2s infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      @media (max-width: 768px) {
        h1 {
          font-size: 2.5rem;
        }

        .subtitle {
          font-size: 1.1rem;
        }

        .process-flow {
          flex-direction: column;
        }

        .flow-arrow {
          transform: rotate(90deg);
          margin: 5px 0;
        }

        .register {
          width: 90px;
          height: 90px;
        }
      }
    </style>
  </head>
  <body>
    <div class="container">
      <header>
        <h1>SHA-1 Algorithm Visualization</h1>
        <p class="subtitle">
          An interactive explanation of the SHA-1 cryptographic hash function
          with animated demonstrations
        </p>
      </header>

      <section class="card">
        <h2 class="card-title">
          <i class="fas fa-info-circle"></i> Algorithm Overview
        </h2>
        <div class="overview-grid">
          <div class="overview-item">
            <h3 class="item-title">
              <i class="fas fa-fingerprint"></i> What is SHA-1?
            </h3>
            <p>
              SHA-1 (Secure Hash Algorithm 1) is a cryptographic hash function
              that produces a 160-bit (20-byte) hash value. Designed by the NSA,
              it was widely used for security applications.
            </p>
          </div>
          <div class="overview-item">
            <h3 class="item-title">
              <i class="fas fa-key"></i> Key Characteristics
            </h3>
            <ul>
              <li>160-bit hash output</li>
              <li>Processes 512-bit blocks</li>
              <li>80 processing steps (4 rounds of 20 steps)</li>
              <li>Based on Merkle-Damgård construction</li>
              <li>No longer considered secure for cryptography</li>
            </ul>
          </div>
          <div class="overview-item">
            <h3 class="item-title">
              <i class="fas fa-history"></i> Historical Use
            </h3>
            <ul>
              <li>TLS/SSL security certificates</li>
              <li>Digital signatures</li>
              <li>Git version control (commit hashes)</li>
              <li>File integrity verification</li>
              <li>Checksum applications</li>
            </ul>
          </div>
        </div>
      </section>

      <section class="card">
        <h2 class="card-title">
          <i class="fas fa-play-circle"></i> Algorithm Visualization
        </h2>

        <div class="controls">
          <button class="btn" id="startBtn">
            <i class="fas fa-play"></i> Start Animation
          </button>
          <button class="btn btn-outline" id="resetBtn">
            <i class="fas fa-undo"></i> Reset
          </button>
          <button class="btn" id="prevBtn">
            <i class="fas fa-step-backward"></i> Previous
          </button>
          <button class="btn" id="nextBtn">
            <i class="fas fa-step-forward"></i> Next
          </button>
        </div>

        <div class="visualization-container">
          <div class="process-flow">
            <div class="flow-item" id="inputBlock">
              <i class="fas fa-keyboard"></i>
              <div>Input Message</div>
            </div>
            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
            <div class="flow-item" id="paddingBlock">
              <i class="fas fa-expand-arrows-alt"></i>
              <div>Padding</div>
            </div>
            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
            <div class="flow-item" id="blocks">
              <i class="fas fa-cubes"></i>
              <div>512-bit Blocks</div>
            </div>
            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
            <div class="flow-item" id="compression">
              <i class="fas fa-cogs"></i>
              <div>Compression</div>
            </div>
            <div class="flow-arrow"><i class="fas fa-arrow-right"></i></div>
            <div class="flow-item" id="output">
              <i class="fas fa-hashtag"></i>
              <div>160-bit Hash</div>
            </div>
          </div>

          <div class="registers">
            <div class="register register-a" id="regA">
              <div class="register-label">A</div>
              <div class="register-value" id="valA">0x67452301</div>
            </div>
            <div class="register register-b" id="regB">
              <div class="register-label">B</div>
              <div class="register-value" id="valB">0xEFCDAB89</div>
            </div>
            <div class="register register-c" id="regC">
              <div class="register-label">C</div>
              <div class="register-value" id="valC">0x98BADCFE</div>
            </div>
            <div class="register register-d" id="regD">
              <div class="register-label">D</div>
              <div class="register-value" id="valD">0x10325476</div>
            </div>
            <div class="register register-e" id="regE">
              <div class="register-label">E</div>
              <div class="register-value" id="valE">0xC3D2E1F0</div>
            </div>
          </div>

          <div class="function-grid">
            <div class="function-card">
              <h3 class="function-title">Logical Functions</h3>
              <div class="function-formula">Round 1: (B ∧ C) ∨ (¬B ∧ D)</div>
              <div class="function-formula">Round 2: B ⊕ C ⊕ D</div>
              <div class="function-formula">
                Round 3: (B ∧ C) ∨ (B ∧ D) ∨ (C ∧ D)
              </div>
              <div class="function-formula">Round 4: B ⊕ C ⊕ D</div>
            </div>

            <div class="function-card">
              <h3 class="function-title">Processing Step</h3>
              <div class="function-formula">
                TEMP = (A &lt;&lt;&lt; 5) + f(B,C,D) + E + K + W[i]
              </div>
              <div class="function-formula">E = D</div>
              <div class="function-formula">D = C</div>
              <div class="function-formula">C = B &lt;&lt;&lt; 30</div>
              <div class="function-formula">B = A</div>
              <div class="function-formula">A = TEMP</div>
            </div>
          </div>

          <div>
            <h3 class="card-title">
              <i class="fas fa-sync-alt"></i> Processing Rounds
            </h3>
            <div class="rounds-container">
              <div class="round-card">
                <h3 class="round-title">Round 1 (0-19)</h3>
                <ul class="step-list">
                  <li class="step-item">
                    <i class="fas fa-code"></i> Function: (B ∧ C) ∨ (¬B ∧ D)
                  </li>
                  <li class="step-item">
                    <i class="fas fa-key"></i> Constant: 0x5A827999
                  </li>
                  <li class="step-item">
                    <i class="fas fa-list-ol"></i> Steps: 20 operations
                  </li>
                  <li class="step-item">
                    <i class="fas fa-exchange-alt"></i> Message words:
                    W[0]-W[19]
                  </li>
                </ul>
              </div>

              <div class="round-card">
                <h3 class="round-title">Round 2 (20-39)</h3>
                <ul class="step-list">
                  <li class="step-item">
                    <i class="fas fa-code"></i> Function: B ⊕ C ⊕ D
                  </li>
                  <li class="step-item">
                    <i class="fas fa-key"></i> Constant: 0x6ED9EBA1
                  </li>
                  <li class="step-item">
                    <i class="fas fa-list-ol"></i> Steps: 20 operations
                  </li>
                  <li class="step-item">
                    <i class="fas fa-exchange-alt"></i> Message words:
                    W[20]-W[39]
                  </li>
                </ul>
              </div>

              <div class="round-card">
                <h3 class="round-title">Round 3 (40-59)</h3>
                <ul class="step-list">
                  <li class="step-item">
                    <i class="fas fa-code"></i> Function: (B ∧ C) ∨ (B ∧ D) ∨ (C
                    ∧ D)
                  </li>
                  <li class="step-item">
                    <i class="fas fa-key"></i> Constant: 0x8F1BBCDC
                  </li>
                  <li class="step-item">
                    <i class="fas fa-list-ol"></i> Steps: 20 operations
                  </li>
                  <li class="step-item">
                    <i class="fas fa-exchange-alt"></i> Message words:
                    W[40]-W[59]
                  </li>
                </ul>
              </div>

              <div class="round-card">
                <h3 class="round-title">Round 4 (60-79)</h3>
                <ul class="step-list">
                  <li class="step-item">
                    <i class="fas fa-code"></i> Function: B ⊕ C ⊕ D
                  </li>
                  <li class="step-item">
                    <i class="fas fa-key"></i> Constant: 0xCA62C1D6
                  </li>
                  <li class="step-item">
                    <i class="fas fa-list-ol"></i> Steps: 20 operations
                  </li>
                  <li class="step-item">
                    <i class="fas fa-exchange-alt"></i> Message words:
                    W[60]-W[79]
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="card">
        <h2 class="card-title"><i class="fas fa-cogs"></i> How SHA-1 Works</h2>
        <div class="explanation-content">
          <div class="explanation-card">
            <h3 class="card-heading">
              <i class="fas fa-align-left"></i> 1. Message Padding
            </h3>
            <p>
              The input message is padded to ensure its length is congruent to
              448 modulo 512 bits. The padding includes:
            </p>
            <ul>
              <li>A '1' bit appended to the message</li>
              <li>Enough '0' bits to reach the desired length</li>
              <li>A 64-bit representation of the original message length</li>
            </ul>
            <p>Example: "abc" becomes 61626380...00000018 (hex)</p>
          </div>

          <div class="explanation-card">
            <h3 class="card-heading">
              <i class="fas fa-th-large"></i> 2. Block Processing
            </h3>
            <p>
              The padded message is divided into 512-bit blocks. Each block is
              processed through the compression function:
            </p>
            <ul>
              <li>Split into sixteen 32-bit words (W[0] to W[15])</li>
              <li>
                Extend to 80 words using: W[i] = (W[i-3] ⊕ W[i-8] ⊕ W[i-14] ⊕
                W[i-16]) &lt;&lt;&lt; 1
              </li>
              <li>Initialize five 32-bit registers (A,B,C,D,E)</li>
              <li>Process through 80 steps (4 rounds of 20 steps)</li>
            </ul>
          </div>

          <div class="explanation-card">
            <h3 class="card-heading">
              <i class="fas fa-project-diagram"></i> 3. Compression Function
            </h3>
            <p>
              The core of SHA-1 is the compression function, which processes
              each 512-bit block:
            </p>
            <ul>
              <li>Uses four different logical functions (F1-F4)</li>
              <li>Each round uses a specific function and constant</li>
              <li>Applies 80 processing steps to update registers</li>
              <li>Each step uses a different message word (W[i])</li>
              <li>Includes left rotations and modular additions</li>
            </ul>
          </div>

          <div class="explanation-card">
            <h3 class="card-heading">
              <i class="fas fa-lock"></i> 4. Final Hash Value
            </h3>
            <p>
              After processing all blocks, the final hash value is produced:
            </p>
            <ul>
              <li>
                The results from all blocks are added to the initial values (mod
                2³²)
              </li>
              <li>The five 32-bit registers are concatenated</li>
              <li>Final output is a 160-bit (20-byte) hash value</li>
            </ul>
            <p>Example SHA-1 hash for "abc":</p>
            <p><code>a9993e36 4706816a ba3e2571 7850c26c 9cd0d89d</code></p>
          </div>
        </div>
      </section>

      <section class="card">
        <h2 class="card-title">
          <i class="fas fa-exclamation-triangle"></i> Security Status
        </h2>
        <div class="overview-grid">
          <div class="overview-item">
            <h3 class="item-title">
              <i class="fas fa-shield-alt"></i> Vulnerabilities
            </h3>
            <p>
              SHA-1 is no longer considered secure against well-funded
              attackers:
            </p>
            <ul>
              <li>Theoretical vulnerabilities since 2005</li>
              <li>First practical collision attack in 2017</li>
              <li>
                Collision resistance broken (can create two different inputs
                with same hash)
              </li>
              <li>Deprecated by NIST in 2011</li>
            </ul>
          </div>
          <div class="overview-item">
            <h3 class="item-title">
              <i class="fas fa-sync-alt"></i> Modern Replacements
            </h3>
            <p>Current recommendations for cryptographic hashing:</p>
            <ul>
              <li>SHA-2 family (SHA-256, SHA-512)</li>
              <li>SHA-3 (Keccak-based)</li>
              <li>BLAKE2 and BLAKE3</li>
              <li>For passwords: Argon2, bcrypt, scrypt</li>
            </ul>
          </div>
          <div class="overview-item">
            <h3 class="item-title">
              <i class="fas fa-check-circle"></i> Current Uses
            </h3>
            <p>Where SHA-1 is still acceptable:</p>
            <ul>
              <li>Checksums for non-security purposes</li>
              <li>Git version control (though migrating to SHA-256)</li>
              <li>Internal integrity checks</li>
              <li>Non-critical verification systems</li>
            </ul>
          </div>
        </div>
      </section>

      <footer>
        <p>SHA-1 Algorithm Visualization | Created for Educational Purposes</p>
        <p>
          Note: This visualization demonstrates the algorithm structure and does
          not perform actual hashing
        </p>
      </footer>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", function () {
        // Get DOM elements
        const startBtn = document.getElementById("startBtn");
        const resetBtn = document.getElementById("resetBtn");
        const prevBtn = document.getElementById("prevBtn");
        const nextBtn = document.getElementById("nextBtn");

        const inputBlock = document.getElementById("inputBlock");
        const paddingBlock = document.getElementById("paddingBlock");
        const blocks = document.getElementById("blocks");
        const compression = document.getElementById("compression");
        const output = document.getElementById("output");

        const regA = document.getElementById("regA");
        const regB = document.getElementById("regB");
        const regC = document.getElementById("regC");
        const regD = document.getElementById("regD");
        const regE = document.getElementById("regE");

        const valA = document.getElementById("valA");
        const valB = document.getElementById("valB");
        const valC = document.getElementById("valC");
        const valD = document.getElementById("valD");
        const valE = document.getElementById("valE");

        // Initial register values
        const initialValues = {
          A: "0x67452301",
          B: "0xEFCDAB89",
          C: "0x98BADCFE",
          D: "0x10325476",
          E: "0xC3D2E1F0",
        };

        // Animation state
        let currentStep = 0;
        let animationInterval;

        // Function to reset to initial state
        function resetVisualization() {
          currentStep = 0;
          clearInterval(animationInterval);

          // Reset blocks
          [inputBlock, paddingBlock, blocks, compression, output].forEach(
            (block) => {
              block.classList.remove("active", "highlight", "pulse");
            }
          );

          // Reset registers
          [regA, regB, regC, regD, regE].forEach((reg) => {
            reg.classList.remove("active", "highlight");
          });

          // Set initial values
          valA.textContent = initialValues.A;
          valB.textContent = initialValues.B;
          valC.textContent = initialValues.C;
          valD.textContent = initialValues.D;
          valE.textContent = initialValues.E;

          inputBlock.classList.add("pulse");
        }

        // Function to update visualization based on current step
        function updateVisualization() {
          // Reset all active states
          [inputBlock, paddingBlock, blocks, compression, output].forEach(
            (block) => {
              block.classList.remove("active");
            }
          );

          [regA, regB, regC, regD, regE].forEach((reg) => {
            reg.classList.remove("active");
          });

          // Update based on current step
          if (currentStep === 0) {
            inputBlock.classList.add("active", "highlight");
          } else if (currentStep === 1) {
            paddingBlock.classList.add("active", "highlight");
          } else if (currentStep === 2) {
            blocks.classList.add("active", "highlight");
          } else if (currentStep >= 3 && currentStep <= 7) {
            compression.classList.add("active");

            // Highlight registers based on processing step
            if (currentStep === 3) {
              regA.classList.add("active", "highlight");
              valA.textContent =
                "0x" +
                Math.floor(Math.random() * 0xffffffff)
                  .toString(16)
                  .toUpperCase();
            } else if (currentStep === 4) {
              regB.classList.add("active", "highlight");
              valB.textContent =
                "0x" +
                Math.floor(Math.random() * 0xffffffff)
                  .toString(16)
                  .toUpperCase();
            } else if (currentStep === 5) {
              regC.classList.add("active", "highlight");
              valC.textContent =
                "0x" +
                Math.floor(Math.random() * 0xffffffff)
                  .toString(16)
                  .toUpperCase();
            } else if (currentStep === 6) {
              regD.classList.add("active", "highlight");
              valD.textContent =
                "0x" +
                Math.floor(Math.random() * 0xffffffff)
                  .toString(16)
                  .toUpperCase();
            } else if (currentStep === 7) {
              regE.classList.add("active", "highlight");
              valE.textContent =
                "0x" +
                Math.floor(Math.random() * 0xffffffff)
                  .toString(16)
                  .toUpperCase();
            }
          } else if (currentStep === 8) {
            output.classList.add("active", "highlight");
          }
        }

        // Function to start animation
        function startAnimation() {
          clearInterval(animationInterval);
          animationInterval = setInterval(() => {
            currentStep = (currentStep + 1) % 9;
            updateVisualization();
          }, 1500);
        }

        // Event listeners
        startBtn.addEventListener("click", startAnimation);

        resetBtn.addEventListener("click", resetVisualization);

        prevBtn.addEventListener("click", function () {
          clearInterval(animationInterval);
          currentStep = (currentStep - 1 + 9) % 9;
          updateVisualization();
        });

        nextBtn.addEventListener("click", function () {
          clearInterval(animationInterval);
          currentStep = (currentStep + 1) % 9;
          updateVisualization();
        });

        // Initialize visualization
        resetVisualization();
      });
    </script>
  </body>
</html>
