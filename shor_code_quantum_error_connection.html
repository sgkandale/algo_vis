<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quantum Error Correction - Shor Code</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            margin: 0;
            padding: 20px;
            background: radial-gradient(circle at 50% 50%, #1a1a2e, #16213e, #0f3460);
            min-height: 100vh;
            color: #fff;
            overflow-x: auto;
        }

        .container {
            max-width: 1800px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 25px;
            padding: 40px;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        h1 {
            text-align: center;
            font-size: 3rem;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #00f5ff, #ff00f5, #f5ff00, #00ff5f);
            background-size: 400% 400%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: quantum-glow 4s ease-in-out infinite;
        }

        @keyframes quantum-glow {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .subtitle {
            text-align: center;
            color: #a0a0ff;
            font-size: 1.4rem;
            margin-bottom: 40px;
            text-shadow: 0 0 10px rgba(160, 160, 255, 0.3);
        }

        .quantum-stage {
            background: rgba(0, 0, 0, 0.3);
            border-radius: 20px;
            padding: 30px;
            margin: 30px 0;
            border: 2px solid rgba(0, 245, 255, 0.3);
            position: relative;
            overflow: hidden;
        }

        .quantum-stage::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #00f5ff, #ff00f5, #f5ff00, #00ff5f);
            border-radius: 20px;
            z-index: -1;
            opacity: 0.1;
            animation: border-glow 3s linear infinite;
        }

        @keyframes border-glow {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .stage-title {
            font-size: 1.8rem;
            color: #00f5ff;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 15px rgba(0, 245, 255, 0.5);
        }

        .qubit-container {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
        }

        .qubit {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            position: relative;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 3px solid;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.3);
        }

        .qubit:hover {
            transform: scale(1.1);
        }

        .original-qubit {
            background: radial-gradient(circle, #ff6b6b, #ee5a52);
            border-color: #ff6b6b;
            box-shadow: 0 0 30px rgba(255, 107, 107, 0.4);
        }

        .encoded-qubit {
            background: radial-gradient(circle, #4ecdc4, #44a08d);
            border-color: #4ecdc4;
            box-shadow: 0 0 30px rgba(78, 205, 196, 0.4);
        }

        .error-qubit {
            background: radial-gradient(circle, #ffa726, #ff7043);
            border-color: #ffa726;
            box-shadow: 0 0 30px rgba(255, 167, 38, 0.4);
            animation: error-pulse 1s ease-in-out infinite;
        }

        @keyframes error-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); box-shadow: 0 0 40px rgba(255, 167, 38, 0.6); }
        }

        .corrected-qubit {
            background: radial-gradient(circle, #66bb6a, #4caf50);
            border-color: #66bb6a;
            box-shadow: 0 0 30px rgba(102, 187, 106, 0.4);
        }

        .qubit-label {
            position: absolute;
            bottom: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 0.9rem;
            color: #a0a0ff;
            white-space: nowrap;
        }

        .quantum-gate {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 25px;
            border-radius: 12px;
            font-weight: bold;
            text-align: center;
            margin: 0 10px;
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
            border: 2px solid rgba(255, 255, 255, 0.2);
        }

        .entanglement-line {
            width: 3px;
            height: 40px;
            background: linear-gradient(to bottom, #00f5ff, #ff00f5);
            margin: 10px auto;
            position: relative;
            animation: entangle-flow 2s linear infinite;
        }

        @keyframes entangle-flow {
            0% { box-shadow: 0 0 5px #00f5ff; }
            50% { box-shadow: 0 0 15px #ff00f5; }
            100% { box-shadow: 0 0 5px #00f5ff; }
        }

        .control-panel {
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .control-button {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            color: white;
            border: none;
            padding: 12px 25px;
            border-radius: 25px;
            font-weight: bold;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
            font-size: 1rem;
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .control-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(255, 107, 107, 0.4);
        }

        .control-button.encode {
            background: linear-gradient(135deg, #4ecdc4, #44a08d);
            box-shadow: 0 5px 15px rgba(78, 205, 196, 0.3);
        }

        .control-button.encode:hover {
            box-shadow: 0 8px 25px rgba(78, 205, 196, 0.4);
        }

        .control-button.error {
            background: linear-gradient(135deg, #ffa726, #ff7043);
            box-shadow: 0 5px 15px rgba(255, 167, 38, 0.3);
        }

        .control-button.error:hover {
            box-shadow: 0 8px 25px rgba(255, 167, 38, 0.4);
        }

        .control-button.correct {
            background: linear-gradient(135deg, #66bb6a, #4caf50);
            box-shadow: 0 5px 15px rgba(102, 187, 106, 0.3);
        }

        .control-button.correct:hover {
            box-shadow: 0 8px 25px rgba(102, 187, 106, 0.4);
        }

        .info-panel {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            border-left: 4px solid #00f5ff;
        }

        .info-title {
            color: #00f5ff;
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 15px;
        }

        .syndrome-display {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .syndrome-item {
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .syndrome-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #f5ff00;
            margin-bottom: 5px;
        }

        .probability-bar {
            width: 100%;
            height: 20px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .probability-fill {
            height: 100%;
            background: linear-gradient(90deg, #00f5ff, #ff00f5);
            border-radius: 10px;
            transition: width 1s ease;
        }

        .quantum-circuit {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin: 30px 0;
            background: rgba(0, 0, 0, 0.2);
            padding: 30px;
            border-radius: 15px;
        }

        .circuit-wire {
            display: flex;
            align-items: center;
            gap: 30px;
            position: relative;
        }

        .circuit-wire::before {
            content: '';
            position: absolute;
            left: 100px;
            right: 100px;
            height: 2px;
            background: linear-gradient(90deg, #00f5ff, #ff00f5);
            z-index: -1;
        }

        .wire-label {
            min-width: 80px;
            font-weight: bold;
            color: #a0a0ff;
        }

        .explanation {
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.2), rgba(118, 75, 162, 0.2));
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .step-counter {
            position: fixed;
            top: 20px;
            right: 20px;
            background: rgba(0, 0, 0, 0.7);
            color: #00f5ff;
            padding: 15px 20px;
            border-radius: 25px;
            font-weight: bold;
            border: 2px solid rgba(0, 245, 255, 0.3);
            z-index: 1000;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .qubit-container {
                gap: 15px;
            }
            
            .qubit {
                width: 60px;
                height: 60px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="step-counter" id="stepCounter">Step 1: Original Qubit</div>
    
    <div class="container">
        <h1>🌌 Quantum Error Correction</h1>
        <p class="subtitle">The Shor 9-Qubit Code: Protecting Quantum Information from Decoherence</p>

        <!-- Stage 1: Original Qubit -->
        <div class="quantum-stage" id="stage1">
            <div class="stage-title">Stage 1: Fragile Quantum Information</div>
            <div class="qubit-container">
                <div class="qubit original-qubit" id="originalQubit">
                    |ψ⟩
                    <div class="qubit-label">Original Qubit</div>
                </div>
            </div>
            <div class="info-panel">
                <div class="info-title">The Problem</div>
                <p>Quantum information is extremely fragile. Environmental noise causes bit flips (X errors) and phase flips (Z errors). A single qubit has no protection against these errors.</p>
                <div class="probability-bar">
                    <div class="probability-fill" style="width: 15%" id="errorProb1"></div>
                </div>
                <p style="text-align: center; margin-top: 5px;">Error Probability: 15%</p>
            </div>
        </div>

        <!-- Stage 2: Encoding -->
        <div class="quantum-stage" id="stage2" style="display: none;">
            <div class="stage-title">Stage 2: Quantum Error Correction Encoding</div>
            <div class="quantum-circuit">
                <div class="circuit-wire">
                    <div class="wire-label">|ψ⟩</div>
                    <div class="quantum-gate">H</div>
                    <div class="quantum-gate">CNOT</div>
                    <div class="quantum-gate">CNOT</div>
                </div>
                <div class="circuit-wire">
                    <div class="wire-label">|0⟩</div>
                    <div class="quantum-gate">•</div>
                    <div class="quantum-gate">H</div>
                    <div class="quantum-gate">CNOT</div>
                </div>
                <div class="circuit-wire">
                    <div class="wire-label">|0⟩</div>
                    <div class="quantum-gate">•</div>
                    <div class="quantum-gate">•</div>
                    <div class="quantum-gate">H</div>
                </div>
            </div>
            
            <div class="qubit-container">
                <div class="qubit encoded-qubit">
                    Q₁
                    <div class="qubit-label">Logical Qubit Block 1</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₂
                    <div class="qubit-label">Logical Qubit Block 2</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₃
                    <div class="qubit-label">Logical Qubit Block 3</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₄
                    <div class="qubit-label">Logical Qubit Block 4</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₅
                    <div class="qubit-label">Logical Qubit Block 5</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₆
                    <div class="qubit-label">Logical Qubit Block 6</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₇
                    <div class="qubit-label">Logical Qubit Block 7</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₈
                    <div class="qubit-label">Logical Qubit Block 8</div>
                </div>
                <div class="qubit encoded-qubit">
                    Q₉
                    <div class="qubit-label">Logical Qubit Block 9</div>
                </div>
            </div>
            
            <div class="entanglement-line"></div>
            
            <div class="info-panel">
                <div class="info-title">Shor 9-Qubit Encoding</div>
                <p>The original qubit is encoded into 9 entangled qubits arranged in 3 blocks of 3. This creates redundancy that allows detection and correction of both bit-flip and phase-flip errors.</p>
                <div class="probability-bar">
                    <div class="probability-fill" style="width: 2%" id="errorProb2"></div>
                </div>
                <p style="text-align: center; margin-top: 5px;">Error Probability: 2% (after encoding)</p>
            </div>
        </div>

        <!-- Stage 3: Error Introduction -->
        <div class="quantum-stage" id="stage3" style="display: none;">
            <div class="stage-title">Stage 3: Environmental Errors Strike!</div>
            <div class="qubit-container">
                <div class="qubit encoded-qubit">Q₁</div>
                <div class="qubit encoded-qubit">Q₂</div>
                <div class="qubit error-qubit" id="errorQubit">
                    ❌Q₃
                    <div class="qubit-label">Bit Flip Error!</div>
                </div>
                <div class="qubit encoded-qubit">Q₄</div>
                <div class="qubit encoded-qubit">Q₅</div>
                <div class="qubit encoded-qubit">Q₆</div>
                <div class="qubit error-qubit" id="errorQubit2">
                    ⚡Q₇
                    <div class="qubit-label">Phase Flip Error!</div>
                </div>
                <div class="qubit encoded-qubit">Q₈</div>
                <div class="qubit encoded-qubit">Q₉</div>
            </div>
            
            <div class="info-panel">
                <div class="info-title">Noise and Decoherence</div>
                <p>Environmental interference causes errors in 2 of the 9 qubits. In classical systems, this would corrupt the data. But quantum error correction can handle this!</p>
                <div class="syndrome-display">
                    <div class="syndrome-item">
                        <div class="syndrome-value">S₁ = 1</div>
                        <div>X-syndrome detected</div>
                    </div>
                    <div class="syndrome-item">
                        <div class="syndrome-value">S₂ = 1</div>
                        <div>Z-syndrome detected</div>
                    </div>
                    <div class="syndrome-item">
                        <div class="syndrome-value">Error Location</div>
                        <div>Q₃ and Q₇ identified</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stage 4: Error Correction -->
        <div class="quantum-stage" id="stage4" style="display: none;">
            <div class="stage-title">Stage 4: Quantum Error Correction in Action</div>
            <div class="qubit-container">
                <div class="qubit corrected-qubit">Q₁</div>
                <div class="qubit corrected-qubit">Q₂</div>
                <div class="qubit corrected-qubit">
                    ✓Q₃
                    <div class="qubit-label">Corrected!</div>
                </div>
                <div class="qubit corrected-qubit">Q₄</div>
                <div class="qubit corrected-qubit">Q₅</div>
                <div class="qubit corrected-qubit">Q₆</div>
                <div class="qubit corrected-qubit">
                    ✓Q₇
                    <div class="qubit-label">Corrected!</div>
                </div>
                <div class="qubit corrected-qubit">Q₈</div>
                <div class="qubit corrected-qubit">Q₉</div>
            </div>
            
            <div class="info-panel">
                <div class="info-title">Syndrome Measurement & Correction</div>
                <p>By measuring syndrome qubits (without disturbing the data), we identify error locations and apply corrective operations. The original quantum information is perfectly restored!</p>
                <div class="probability-bar">
                    <div class="probability-fill" style="width: 99%" id="successProb"></div>
                </div>
                <p style="text-align: center; margin-top: 5px;">Correction Success: 99%</p>
            </div>
        </div>

        <!-- Stage 5: Recovery -->
        <div class="quantum-stage" id="stage5" style="display: none;">
            <div class="stage-title">Stage 5: Perfect Recovery</div>
            <div class="qubit-container">
                <div class="qubit original-qubit" style="box-shadow: 0 0 40px rgba(102, 187, 106, 0.6);">
                    |ψ⟩
                    <div class="qubit-label">Recovered Original</div>
                </div>
            </div>
            
            <div class="info-panel">
                <div class="info-title">Quantum Information Preserved</div>
                <p>Through the miracle of quantum error correction, we've recovered the original quantum state perfectly, despite multiple errors. This is the foundation that makes fault-tolerant quantum computing possible.</p>
            </div>
        </div>

        <!-- Control Panel -->
        <div class="control-panel">
            <div style="text-align: center; margin-bottom: 20px;">
                <h3 style="color: #00f5ff; margin-bottom: 15px;">Interactive Quantum Error Correction</h3>
                <p>Experience how quantum computers protect information from errors</p>
            </div>
            <div style="text-align: center;">
                <button class="control-button" onclick="showStage(1)">Original Qubit</button>
                <button class="control-button encode" onclick="showStage(2)">Encode (9-Qubit)</button>
                <button class="control-button error" onclick="showStage(3)">Introduce Errors</button>
                <button class="control-button correct" onclick="showStage(4)">Error Correction</button>
                <button class="control-button" onclick="showStage(5)">Recovery</button>
            </div>
            <div style="text-align: center; margin-top: 15px;">
                <button class="control-button" onclick="autoPlay()" id="autoPlayBtn">▶️ Auto Play Demo</button>
                <button class="control-button" onclick="resetDemo()">🔄 Reset</button>
            </div>
        </div>

        <!-- Explanation -->
        <div class="explanation">
            <h3 style="color: #00f5ff; margin-bottom: 15px;">🧠 How Quantum Error Correction Works</h3>
            <p><strong>The Challenge:</strong> Quantum states are incredibly fragile. Any interaction with the environment can destroy quantum information through decoherence.</p>
            
            <p><strong>The Solution:</strong> The Shor 9-qubit code uses quantum entanglement to create redundancy. It can correct any single-qubit error by:</p>
            
            <ul style="margin: 15px 0; padding-left: 20px;">
                <li><strong>Encoding:</strong> One logical qubit becomes 9 physical qubits in a carefully crafted entangled state</li>
                <li><strong>Syndrome Detection:</strong> Measuring ancilla qubits reveals error information without disturbing the data</li>
                <li><strong>Error Correction:</strong> Apply corrective operations based on syndrome measurements</li>
                <li><strong>Recovery:</strong> The original quantum information is perfectly restored</li>
            </ul>
            
            <p><strong>The Magic:</strong> This process violates our classical intuition - we can detect and correct errors without ever directly measuring the quantum data itself!</p>
            
            <p><strong>Real Impact:</strong> Quantum error correction is essential for building large-scale quantum computers. Companies like IBM, Google, and others are implementing these codes in their quantum processors to enable fault-tolerant quantum computation.</p>
        </div>
    </div>

    <script>
        let currentStage = 1;
        let isPlaying = false;

        function showStage(stage) {
            // Hide all stages
            for (let i = 1; i <= 5; i++) {
                document.getElementById(`stage${i}`).style.display = 'none';
            }
            
            // Show current stage
            document.getElementById(`stage${stage}`).style.display = 'block';
            currentStage = stage;
            
            // Update step counter
            const stepNames = [
                'Original Qubit',
                'Quantum Encoding', 
                'Environmental Errors',
                'Error Correction',
                'Perfect Recovery'
            ];
            document.getElementById('stepCounter').textContent = `Step ${stage}: ${stepNames[stage-1]}`;
            
            // Add stage-specific animations
            animateStage(stage);
        }

        function animateStage(stage) {
            const stageElement = document.getElementById(`stage${stage}`);
            stageElement.style.opacity = '0';
            stageElement.style.transform = 'translateY(20px)';
            
            setTimeout(() => {
                stageElement.style.transition = 'all 0.8s ease';
                stageElement.style.opacity = '1';
                stageElement.style.transform = 'translateY(0)';
            }, 100);

            // Stage-specific effects
            if (stage === 3) {
                // Animate error introduction
                setTimeout(() => {
                    const errorQubits = document.querySelectorAll('.error-qubit');
                    errorQubits.forEach((qubit, index) => {
                        setTimeout(() => {
                            qubit.style.animation = 'error-pulse 1s ease-in-out infinite';
                        }, index * 500);
                    });
                }, 1000);
            }
            
            if (stage === 4) {
                // Animate correction process
                setTimeout(() => {
                    const correctedQubits = document.querySelectorAll('.corrected-qubit');
                    correctedQubits.forEach((qubit, index) => {
                        setTimeout(() => {
                            qubit.style.transform = 'scale(1.1)';
                            setTimeout(() => {
                                qubit.style.transform = 'scale(1)';
                            }, 300);
                        }, index * 100);
                    });
                }, 800);
            }
        }

        async function autoPlay() {
            if (isPlaying) return;
            
            isPlaying = true;
            const btn = document.getElementById('autoPlayBtn');
            btn.textContent = '⏸️ Playing...';
            btn.disabled = true;
            
            for (let i = 1; i <= 5; i++) {
                showStage(i);
                await new Promise(resolve => setTimeout(resolve, 3000));
            }
            
            btn.textContent = '▶️ Auto Play Demo';
            btn.disabled = false;
            isPlaying = false;
        }

        function resetDemo() {
            showStage(1);
            isPlaying = false;
            const btn = document.getElementById('autoPlayBtn');
            btn.textContent = '▶️ Auto Play Demo';
            btn.disabled = false;
        }

        // Add interactive qubit clicks
        document.addEventListener('click', (e) => {
            if (e.target.classList.contains('qubit')) {
                // Create quantum ripple effect
                const ripple = document.createElement('div');
                ripple.style.position = 'absolute';
                ripple.style.borderRadius = '50%';
                ripple.style.background = 'rgba(0, 245, 255, 0.3)';
                ripple.style.transform = 'scale(0)';
                ripple.style.animation = 'ripple 0.6s linear';
                ripple.style.left = (e.pageX - 25) + 'px';
                ripple.style.top = (e.pageY - 25) + 'px';
                ripple.style.width = '50px';
                ripple.style.height = '50px';
                ripple.style.pointerEvents = 'none';
                
                document.body.appendChild(ripple);
                
                setTimeout(() => {
                    document.body.removeChild(ripple);
                }, 600);
            }
        });

        // Add ripple animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes ripple {
                to {
                    transform: scale(4);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        // Initialize
        showStage(1);
    </script>
</body>
</html>