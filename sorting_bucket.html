<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Bucket Sort | AlgoViz Hub</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-glow: rgba(99, 102, 241, 0.2);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --transition: all 0.3s ease;
        --radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glow: 0 0 15px var(--accent-glow);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--text);
        font-family: "Roboto", sans-serif;
        line-height: 1.6;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        position: relative;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--glow);
      }

      .logo-icon i {
        font-size: 24px;
        color: white;
      }

      .logo-text h1 {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 28px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo-text p {
        font-size: 14px;
        color: var(--text-secondary);
        letter-spacing: 1.5px;
      }

      .breadcrumb {
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 10px;
      }

      .breadcrumb a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      /* Algorithm Header */
      .algorithm-header {
        margin: 40px 0;
        text-align: center;
        padding: 20px;
        background: var(--card-bg);
        border-radius: var(--radius);
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
      }

      .algorithm-header .category {
        font-size: 18px;
        color: var(--accent-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 16px;
        font-weight: 600;
        font-family: "Roboto Mono", monospace;
        margin-top: 15px;
      }

      /* Main Content Layout */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      /* Algorithm Detail Sections */
      .section {
        background: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .section h2 {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section h2 i {
        color: var(--accent);
        width: 36px;
        height: 36px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .section p {
        color: var(--text-secondary);
        font-size: 17px;
        line-height: 1.8;
        margin-bottom: 20px;
      }

      .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        margin-bottom: 0;
        font-size: 15px;
      }

      /* Visualization Console */
      .visualization-console {
        background: rgba(15, 23, 42, 0.8);
        border-radius: var(--radius);
        padding: 25px;
        margin: 30px 0;
        border: 1px solid rgba(99, 102, 241, 0.3);
        box-shadow: var(--glow);
      }

      .console-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .console-header h3 {
        color: var(--accent-light);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .console-controls {
        display: flex;
        gap: 10px;
      }

      .console-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .console-btn:hover {
        background: var(--accent-light);
      }

      .console-btn.secondary {
        background: rgba(148, 163, 184, 0.2);
      }

      .visualization-area {
        height: 400px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .visualization-area::before {
        content: "Bucket Sort Visualization";
        position: absolute;
        color: rgba(148, 163, 184, 0.5);
        font-size: 20px;
      }

      .console-input {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .console-input input {
        flex: 1;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .console-input input:focus {
        outline: none;
        border-color: var(--accent);
      }

      /* Algorithm Properties */
      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 20px;
        font-weight: 700;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 14px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          gap: 25px;
          text-align: center;
        }

        .algorithm-header h1 {
          font-size: 32px;
        }

        .key-points {
          grid-template-columns: 1fr;
        }
      }

      /* Code Block Styling */
      .code-block {
        background: #0d1117;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
        overflow-x: auto;
        font-family: "Roboto Mono", monospace;
        font-size: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .code-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        color: var(--text-secondary);
      }

      .copy-btn {
        background: rgba(99, 102, 241, 0.2);
        color: var(--accent-light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 0.3);
      }

      .code-block pre {
        margin: 0;
      }

      .code-block code {
        color: #c9d1d9;
        line-height: 1.5;
      }

      .keyword {
        color: #ff7b72;
      }
      .function {
        color: #d2a8ff;
      }
      .comment {
        color: #8b949e;
      }
      .string {
        color: #a5d6ff;
      }
      .number {
        color: #79c0ff;
      }

      /* Bucket Sort Visualization Styles */
      .bucket-container {
        display: flex;
        flex-direction: column;
        height: 100%;
        width: 100%;
        padding: 10px;
        position: relative;
      }

      .array-row {
        display: flex;
        justify-content: center;
        align-items: flex-end;
        height: 30%;
        margin-bottom: 10px;
        gap: 8px;
      }

      .buckets-row {
        display: flex;
        justify-content: space-around;
        height: 60%;
        padding: 10px;
      }

      .bucket {
        display: flex;
        flex-direction: column;
        align-items: center;
        width: 15%;
        min-width: 60px;
        background: rgba(30, 41, 59, 0.5);
        border-radius: 8px;
        padding: 5px;
        border: 1px solid var(--accent);
        position: relative;
      }

      .bucket-header {
        color: var(--accent-light);
        font-weight: bold;
        margin-bottom: 5px;
        font-family: "Roboto Mono", monospace;
        text-align: center;
        width: 100%;
        padding: 3px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 5px;
      }

      .bucket-range {
        font-size: 12px;
        color: var(--text-secondary);
        margin-bottom: 5px;
      }

      .bucket-items {
        flex: 1;
        width: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        overflow-y: auto;
        gap: 5px;
        padding: 5px;
      }

      .bucket-item {
        width: 90%;
        background: var(--warning);
        border-radius: 5px;
        padding: 8px 5px;
        text-align: center;
        font-family: "Roboto Mono", monospace;
        font-weight: bold;
        transition: all 0.3s ease;
      }

      .array-element {
        width: 40px;
        background: var(--accent);
        border-radius: 8px 8px 0 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;
        position: relative;
        transition: all 0.3s ease;
      }

      .element-value {
        font-size: 18px;
        font-weight: bold;
        margin-top: 5px;
        margin-bottom: 5px;
        font-family: "Roboto Mono", monospace;
      }

      .element-index {
        position: absolute;
        bottom: -25px;
        color: var(--text-secondary);
        font-size: 14px;
      }

      .active {
        box-shadow: 0 0 0 3px var(--success);
        transform: scale(1.05);
      }

      .minimized {
        opacity: 0.5;
      }

      .stats-bar {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(0, 0, 0, 0.5);
        padding: 8px 12px;
        border-radius: 5px;
        font-size: 14px;
        display: flex;
        gap: 15px;
      }

      .stats-item {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .controls {
        display: flex;
        gap: 10px;
        margin-top: 15px;
        justify-content: center;
      }

      .speed-control {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .step-info {
        position: absolute;
        bottom: 10px;
        left: 0;
        right: 0;
        text-align: center;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
        min-height: 20px;
        padding: 5px;
        background: rgba(0, 0, 0, 0.5);
      }

      .bucket-label {
        position: absolute;
        top: 10px;
        left: 10px;
        color: var(--warning);
        font-family: "Roboto Mono", monospace;
        font-weight: bold;
        background: rgba(0, 0, 0, 0.5);
        padding: 5px 10px;
        border-radius: 5px;
      }

      .sorted-bucket {
        border-color: var(--success);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <div class="logo">
          <div class="logo-icon floating">
            <i class="fas fa-project-diagram"></i>
          </div>
          <div class="logo-text">
            <h1>AlgoViz Hub</h1>
            <p>ALGORITHM VISUALIZATION REPOSITORY</p>
            <div class="breadcrumb">
              <a href="#"><i class="fas fa-home"></i> Home</a> >
              <a href="#">Sorting Algorithms</a> >
              <span>Bucket Sort</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Algorithm Header -->
      <div class="algorithm-header">
        <h1>Bucket Sort</h1>
        <div class="category">
          <i class="fas fa-sort-amount-down"></i> Scatter-Gather Sorting
          Algorithm
        </div>
        <div class="complexity-badge">Time Complexity: O(n + k)</div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Left Column: Algorithm Details -->
        <div class="left-column">
          <!-- Description Section -->
          <div class="section">
            <h2><i class="fas fa-file-alt"></i> Algorithm Overview</h2>
            <p>
              Bucket Sort is a sorting algorithm that works by distributing the
              elements of an array into a number of buckets. Each bucket is then
              sorted individually, either using a different sorting algorithm or
              by recursively applying the bucket sort algorithm. It is mainly
              useful when input is uniformly distributed over a range.
            </p>
            <p>
              The algorithm works by dividing the range of the input into a
              fixed number of intervals (buckets) and distributing the input
              values into these buckets. The buckets are then sorted, and the
              sorted buckets are concatenated to produce the final sorted array.
            </p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-check-circle"></i> Key Feature</h3>
                <p>Efficient for uniformly distributed data</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-bolt"></i> Performance</h3>
                <p>O(n + k) average case (k = number of buckets)</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-memory"></i> Space</h3>
                <p>Requires O(n + k) additional space</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-project-diagram"></i> Approach</h3>
                <p>
                  Distribute elements into buckets, sort each bucket,
                  concatenate
                </p>
              </div>
            </div>
          </div>

          <!-- Visualization Console -->
          <div class="section">
            <h2>
              <i class="fas fa-laptop-code"></i> Interactive Visualization
            </h2>
            <p>
              Visualize Bucket Sort in action! Enter numbers to sort, adjust the
              speed, and step through the algorithm to see how numbers are
              distributed into buckets, sorted within each bucket, and then
              concatenated.
            </p>

            <div class="visualization-console">
              <div class="console-header">
                <h3>
                  <i class="fas fa-play-circle"></i> Bucket Sort Visualization
                </h3>
                <div class="console-controls">
                  <button class="console-btn" id="reset-btn">
                    <i class="fas fa-redo"></i> Reset
                  </button>
                  <button class="console-btn" id="run-btn">
                    <i class="fas fa-play"></i> Run
                  </button>
                </div>
              </div>

              <div class="visualization-area" id="viz-area">
                <div class="bucket-container">
                  <div class="array-row">
                    <div class="bucket-label">Input Array</div>
                    <div class="array-container" id="input-container"></div>
                  </div>

                  <div class="buckets-row" id="buckets-container"></div>

                  <div class="stats-bar" id="stats-bar">
                    <div class="stats-item">
                      <i
                        class="fas fa-layer-group"
                        style="color: var(--accent-light)"
                      ></i>
                      <span>Buckets: <span id="bucket-count">5</span></span>
                    </div>
                    <div class="stats-item">
                      <i
                        class="fas fa-sort-amount-down"
                        style="color: var(--warning)"
                      ></i>
                      <span
                        >Sorted: <span id="sorted-count">0</span>/<span
                          id="total-count"
                          >0</span
                        ></span
                      >
                    </div>
                  </div>

                  <div class="step-info" id="step-info">
                    Ready to visualize Bucket Sort!
                  </div>
                </div>
              </div>

              <div class="console-input">
                <input
                  type="text"
                  id="array-input"
                  value="0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68"
                  placeholder="Enter numbers (0-1, e.g., 0.42, 0.32, 0.89)"
                />
                <button class="console-btn" id="random-btn">
                  <i class="fas fa-random"></i> Random
                </button>
              </div>

              <div class="controls">
                <div class="speed-control">
                  <i
                    class="fas fa-tachometer-alt"
                    style="color: var(--accent-light)"
                  ></i>
                  <input
                    type="range"
                    id="speed-slider"
                    min="1"
                    max="10"
                    value="5"
                  />
                  <span id="speed-value">Medium</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Algorithm Steps -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Algorithm Steps</h2>
            <p>
              Bucket Sort works by distributing elements into buckets and
              sorting them:
            </p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-boxes"></i> 1. Create Buckets</h3>
                <p>
                  Create n empty buckets (where n is the number of elements).
                </p>
              </div>
              <div class="point-card">
                <h3>
                  <i class="fas fa-project-diagram"></i> 2. Distribute Elements
                </h3>
                <p>Insert each element into its corresponding bucket.</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-sort"></i> 3. Sort Buckets</h3>
                <p>
                  Sort each bucket individually (using insertion sort or
                  similar).
                </p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-stream"></i> 4. Concatenate Buckets</h3>
                <p>Concatenate all sorted buckets to form the sorted array.</p>
              </div>
            </div>
          </div>

          <!-- Pseudocode Section -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Pseudocode</h2>
            <div class="code-block">
              <pre><code>function bucketSort(arr):
    n = length(arr)
    
    // Create n empty buckets
    buckets = new Array(n)
    for i from 0 to n-1:
        buckets[i] = []
    
    // Put elements in their respective buckets
    for i from 0 to n-1:
        bucket_index = floor(n * arr[i])
        buckets[bucket_index].append(arr[i])
    
    // Sort individual buckets
    for i from 0 to n-1:
        sort(buckets[i])  // Using insertion sort
    
    // Concatenate all buckets
    index = 0
    for i from 0 to n-1:
        for each element in buckets[i]:
            arr[index] = element
            index += 1</code></pre>
            </div>
          </div>

          <!-- Implementation Section -->
          <div class="section">
            <h2><i class="fas fa-code"></i> Implementation</h2>
            <p>
              Below is a Python implementation of Bucket Sort. The algorithm
              uses insertion sort to sort each bucket.
            </p>

            <div class="code-block">
              <div class="code-header">
                <span>Python Implementation</span>
                <button class="copy-btn">
                  <i class="fas fa-copy"></i> Copy Code
                </button>
              </div>
              <pre><code><span class="keyword">def</span> <span class="function">bucket_sort</span>(arr):
    <span class="comment"># Determine the number of buckets</span>
    n = len(arr)
    <span class="keyword">if</span> n == 0:
        <span class="keyword">return</span> arr
    
    <span class="comment"># Create n empty buckets</span>
    buckets = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]
    
    <span class="comment"># Put elements into buckets</span>
    <span class="keyword">for</span> num <span class="keyword">in</span> arr:
        bucket_index = int(n * num)
        buckets[bucket_index].append(num)
    
    <span class="comment"># Sort each bucket using insertion sort</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):
        buckets[i] = insertion_sort(buckets[i])
    
    <span class="comment"># Concatenate the sorted buckets</span>
    index = 0
    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):
        <span class="keyword">for</span> num <span class="keyword">in</span> buckets[i]:
            arr[index] = num
            index += 1
    <span class="keyword">return</span> arr

<span class="keyword">def</span> <span class="function">insertion_sort</span>(bucket):
    <span class="keyword">for</span> i <span class="keyword">in</span> range(1, len(bucket)):
        key = bucket[i]
        j = i - 1
        <span class="keyword">while</span> j >= 0 <span class="keyword">and</span> bucket[j] > key:
            bucket[j + 1] = bucket[j]
            j -= 1
        bucket[j + 1] = key
    <span class="keyword">return</span> bucket

<span class="comment"># Example usage</span>
arr = [0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68]
bucket_sort(arr)
print(<span class="string">"Sorted array:"</span>, arr)</code></pre>
            </div>
          </div>
        </div>

        <!-- Right Column: Additional Info -->
        <div class="right-column">
          <!-- Properties Section -->
          <div class="section">
            <h2><i class="fas fa-info-circle"></i> Algorithm Properties</h2>
            <div class="properties-grid">
              <div class="property-card">
                <h4>Category</h4>
                <div class="value">Sorting</div>
              </div>
              <div class="property-card">
                <h4>Type</h4>
                <div class="value">Distribution</div>
              </div>
              <div class="property-card">
                <h4>Stable</h4>
                <div class="value">Yes</div>
              </div>
              <div class="property-card">
                <h4>In-place</h4>
                <div class="value">No</div>
              </div>
              <div class="property-card">
                <h4>Best Case</h4>
                <div class="value">O(n + k)</div>
              </div>
              <div class="property-card">
                <h4>Worst Case</h4>
                <div class="value">O(n²)</div>
              </div>
              <div class="property-card">
                <h4>Average Case</h4>
                <div class="value">O(n + k)</div>
              </div>
              <div class="property-card">
                <h4>Space</h4>
                <div class="value">O(n + k)</div>
              </div>
            </div>
          </div>

          <!-- Applications Section -->
          <div class="section">
            <h2><i class="fas fa-lightbulb"></i> Applications</h2>
            <p>
              Bucket Sort is particularly effective for specific types of data:
            </p>
            <ul
              style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              "
            >
              <li style="margin-bottom: 10px">
                Sorting floating-point numbers uniformly distributed in [0, 1)
              </li>
              <li style="margin-bottom: 10px">
                Sorting data that is uniformly distributed over a known range
              </li>
              <li style="margin-bottom: 10px">
                External sorting when data doesn't fit in memory
              </li>
              <li style="margin-bottom: 10px">
                Histogram generation and data analysis
              </li>
              <li>Sorting large datasets with known distribution</li>
            </ul>
          </div>

          <!-- Advantages/Disadvantages Section -->
          <div class="section">
            <h2>
              <i class="fas fa-balance-scale"></i> Advantages & Disadvantages
            </h2>
            <div style="margin-top: 20px">
              <h3 style="color: var(--success); margin-bottom: 10px">
                <i class="fas fa-check-circle"></i> Advantages
              </h3>
              <ul
                style="
                  padding-left: 20px;
                  margin-bottom: 20px;
                  color: var(--text-secondary);
                "
              >
                <li style="margin-bottom: 8px">
                  Linear time complexity for uniformly distributed data
                </li>
                <li style="margin-bottom: 8px">Stable sorting algorithm</li>
                <li style="margin-bottom: 8px">
                  Efficient when data is uniformly distributed
                </li>
                <li>Can be parallelized for better performance</li>
              </ul>

              <h3 style="color: var(--danger); margin-bottom: 10px">
                <i class="fas fa-exclamation-circle"></i> Disadvantages
              </h3>
              <ul style="padding-left: 20px; color: var(--text-secondary)">
                <li style="margin-bottom: 8px">
                  Inefficient for non-uniformly distributed data
                </li>
                <li style="margin-bottom: 8px">
                  Requires additional memory for buckets
                </li>
                <li style="margin-bottom: 8px">
                  Performance depends on the distribution of input data
                </li>
                <li>Not efficient for data with many duplicates</li>
              </ul>
            </div>
          </div>

          <!-- Complexity Analysis -->
          <div class="section">
            <h2><i class="fas fa-chart-bar"></i> Complexity Analysis</h2>
            <p style="margin-bottom: 15px">
              Bucket Sort's performance depends on the distribution of input
              data:
            </p>
            <div
              style="
                background: rgba(15, 23, 42, 0.5);
                border-radius: var(--radius);
                padding: 15px;
              "
            >
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 10px;
                "
              >
                <span>Best Case:</span>
                <span
                  style="
                    font-family: 'Roboto Mono', monospace;
                    color: var(--accent-light);
                  "
                  >O(n + k)</span
                >
              </div>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 10px;
                "
              >
                <span>Average Case:</span>
                <span
                  style="
                    font-family: 'Roboto Mono', monospace;
                    color: var(--accent-light);
                  "
                  >O(n + k)</span
                >
              </div>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 10px;
                "
              >
                <span>Worst Case:</span>
                <span
                  style="
                    font-family: 'Roboto Mono', monospace;
                    color: var(--accent-light);
                  "
                  >O(n²)</span
                >
              </div>
              <div style="margin-top: 15px">
                <p style="color: var(--text-secondary); font-size: 15px">
                  Where n is the number of elements and k is the number of
                  buckets. Worst case occurs when all elements are placed in a
                  single bucket.
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer>
        <div class="footer-links">
          <a href="#"><i class="fas fa-book"></i> Documentation</a>
          <a href="#"><i class="fas fa-code-branch"></i> Contribute</a>
          <a href="#"><i class="fas fa-chalkboard-teacher"></i> Tutorials</a>
          <a href="#"><i class="fas fa-bug"></i> Report Issue</a>
          <a href="#"><i class="fas fa-envelope"></i> Contact</a>
        </div>
        <p>AlgoViz Hub - Interactive Algorithm Visualization Platform</p>
        <p>&copy; 2025 AlgoViz Hub. All rights reserved.</p>
      </footer>
    </div>

    <script>
      // DOM elements
      const runBtn = document.getElementById("run-btn");
      const resetBtn = document.getElementById("reset-btn");
      const randomBtn = document.getElementById("random-btn");
      const arrayInput = document.getElementById("array-input");
      const inputContainer = document.getElementById("input-container");
      const bucketsContainer = document.getElementById("buckets-container");
      const vizArea = document.getElementById("viz-area");
      const speedSlider = document.getElementById("speed-slider");
      const speedValue = document.getElementById("speed-value");
      const bucketCount = document.getElementById("bucket-count");
      const sortedCount = document.getElementById("sorted-count");
      const totalCount = document.getElementById("total-count");
      const stepInfo = document.getElementById("step-info");
      const copyBtn = document.querySelector(".copy-btn");

      // Algorithm state
      let arr = [];
      let originalArr = [];
      let buckets = [];
      let animationQueue = [];
      let isRunning = false;
      let speed = 500;
      let sorted = 0;
      let totalElements = 0;

      // Initialize visualization
      function initVisualization() {
        const input = arrayInput.value.trim();
        arr = input
          ? input.split(",").map((num) => parseFloat(num.trim()))
          : [0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68];
        originalArr = [...arr];

        // Filter out invalid numbers and clamp to [0,1)
        arr = arr.filter((num) => !isNaN(num) && num >= 0 && num < 1);
        if (arr.length === 0)
          arr = [0.78, 0.17, 0.39, 0.26, 0.72, 0.94, 0.21, 0.12, 0.23, 0.68];

        // Reset state
        buckets = [];
        animationQueue = [];
        sorted = 0;
        totalElements = arr.length;

        updateStats();
        stepInfo.textContent = "Ready to visualize Bucket Sort!";

        // Clear containers
        inputContainer.innerHTML = "";
        bucketsContainer.innerHTML = "";

        // Create input array visualization
        arr.forEach((value, index) => {
          const element = document.createElement("div");
          element.className = "array-element";
          element.style.height = `${value * 200}px`;
          element.innerHTML = `
          <div class="element-value">${value.toFixed(2)}</div>
          <div class="element-index">${index}</div>
        `;
          element.dataset.index = index;
          element.dataset.value = value;
          inputContainer.appendChild(element);
        });

        // Create buckets
        const n = arr.length;
        bucketCount.textContent = n;

        for (let i = 0; i < n; i++) {
          const bucket = document.createElement("div");
          bucket.className = "bucket";
          const start = (i / n).toFixed(2);
          const end = ((i + 1) / n).toFixed(2);
          bucket.innerHTML = `
          <div class="bucket-header">Bucket ${i}</div>
          <div class="bucket-range">[${start} - ${end})</div>
          <div class="bucket-items" id="bucket-${i}"></div>
        `;
          bucketsContainer.appendChild(bucket);
        }
      }

      // Update statistics display
      function updateStats() {
        sortedCount.textContent = sorted;
        totalCount.textContent = totalElements;
      }

      // Bucket Sort algorithm with visualization steps
      function bucketSortWithVisualization() {
        animationQueue = [];
        const n = arr.length;
        buckets = Array.from({ length: n }, () => []);
        sorted = 0;

        // Step 1: Distribute elements to buckets
        stepInfo.textContent = "Distributing elements to buckets...";
        for (let i = 0; i < arr.length; i++) {
          const value = arr[i];
          const bucketIndex = Math.floor(n * value);

          // Highlight current element
          animationQueue.push(() => {
            const elements = inputContainer.querySelectorAll(".array-element");
            elements.forEach((el) => el.classList.remove("active"));
            if (elements[i]) {
              elements[i].classList.add("active");
            }
          });

          // Add to bucket animation
          animationQueue.push(() => {
            const bucket = document.getElementById(`bucket-${bucketIndex}`);
            const bucketItem = document.createElement("div");
            bucketItem.className = "bucket-item";
            bucketItem.textContent = value.toFixed(2);
            bucket.appendChild(bucketItem);

            // Hide element from input array
            const elements = inputContainer.querySelectorAll(".array-element");
            if (elements[i]) {
              elements[i].style.opacity = "0.3";
            }
          });

          buckets[bucketIndex].push(value);
        }

        // Step 2: Sort each bucket
        stepInfo.textContent = "Sorting buckets...";
        for (let i = 0; i < n; i++) {
          // Highlight bucket being sorted
          animationQueue.push(() => {
            const bucketEl = document.querySelector(`#bucket-${i}`);
            if (bucketEl) {
              bucketEl.parentElement.classList.add("active");
            }
          });

          // Sort the bucket (insertion sort)
          for (let j = 1; j < buckets[i].length; j++) {
            const key = buckets[i][j];
            let k = j - 1;

            while (k >= 0 && buckets[i][k] > key) {
              // Highlight elements being compared
              animationQueue.push(() => {
                const bucketItems = document.querySelectorAll(
                  `#bucket-${i} .bucket-item`
                );
                if (bucketItems[k] && bucketItems[k + 1]) {
                  bucketItems[k].classList.add("active");
                  bucketItems[k + 1].classList.add("active");
                }
              });

              buckets[i][k + 1] = buckets[i][k];
              k = k - 1;

              // Update bucket visualization
              animationQueue.push(() => {
                const bucketItems = document.querySelectorAll(
                  `#bucket-${i} .bucket-item`
                );
                if (bucketItems[k + 1]) {
                  bucketItems[k + 1].textContent = buckets[i][k + 1].toFixed(2);
                }
              });

              // Remove highlight
              animationQueue.push(() => {
                const bucketItems = document.querySelectorAll(
                  `#bucket-${i} .bucket-item`
                );
                bucketItems.forEach((item) => item.classList.remove("active"));
              });
            }

            buckets[i][k + 1] = key;

            // Update bucket visualization with final position
            animationQueue.push(() => {
              const bucketItems = document.querySelectorAll(
                `#bucket-${i} .bucket-item`
              );
              if (bucketItems[k + 1]) {
                bucketItems[k + 1].textContent = key.toFixed(2);
              }
            });
          }

          // Remove bucket highlight
          animationQueue.push(() => {
            const bucketEl = document.querySelector(`#bucket-${i}`);
            if (bucketEl) {
              bucketEl.parentElement.classList.remove("active");
              bucketEl.parentElement.classList.add("sorted-bucket");
            }
          });
        }

        // Step 3: Concatenate buckets
        stepInfo.textContent = "Concatenating sorted buckets...";
        let index = 0;
        for (let i = 0; i < n; i++) {
          for (let j = 0; j < buckets[i].length; j++) {
            const value = buckets[i][j];

            // Update array element
            animationQueue.push(() => {
              const elements =
                inputContainer.querySelectorAll(".array-element");
              if (elements[index]) {
                elements[index].style.height = `${value * 200}px`;
                elements[index].querySelector(".element-value").textContent =
                  value.toFixed(2);
                elements[index].style.opacity = "1";
                elements[index].classList.add("active");
                arr[index] = value;
              }
            });

            // Remove from bucket
            animationQueue.push(() => {
              const bucket = document.getElementById(`bucket-${i}`);
              if (bucket.children.length > 0) {
                bucket.removeChild(bucket.children[0]);
              }

              const elements =
                inputContainer.querySelectorAll(".array-element");
              if (elements[index]) {
                elements[index].classList.remove("active");
              }

              sorted++;
              updateStats();
            });

            index++;
          }
        }

        // Final animation
        animationQueue.push(() => {
          stepInfo.textContent =
            "Bucket Sort completed! Array is fully sorted.";
          const elements = inputContainer.querySelectorAll(".array-element");
          elements.forEach((el) => {
            el.classList.add("active");
            setTimeout(() => el.classList.remove("active"), 1000);
          });
        });
      }

      // Run animation queue
      async function runAnimation() {
        if (animationQueue.length === 0) {
          bucketSortWithVisualization();
        }

        isRunning = true;
        runBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';

        for (const action of animationQueue) {
          if (!isRunning) break;
          action();
          await new Promise((resolve) => setTimeout(resolve, speed));
        }

        isRunning = false;
        runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
      }

      // Event Listeners
      runBtn.addEventListener("click", () => {
        if (isRunning) {
          isRunning = false;
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        } else {
          runAnimation();
        }
      });

      resetBtn.addEventListener("click", () => {
        isRunning = false;
        initVisualization();
        runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
      });

      randomBtn.addEventListener("click", () => {
        // Generate random array of floats between 0 and 1
        const randomArray = [];
        const length = Math.floor(Math.random() * 8) + 5; // 5-12 elements
        for (let i = 0; i < length; i++) {
          randomArray.push(parseFloat(Math.random().toFixed(2)));
        }
        arrayInput.value = randomArray.join(", ");
        resetBtn.click();
      });

      speedSlider.addEventListener("input", () => {
        const speeds = {
          1: { value: "Very Slow", delay: 1500 },
          2: { value: "Slow", delay: 1000 },
          3: { value: "Medium Slow", delay: 700 },
          4: { value: "Medium", delay: 500 },
          5: { value: "Medium", delay: 500 },
          6: { value: "Medium Fast", delay: 300 },
          7: { value: "Fast", delay: 200 },
          8: { value: "Faster", delay: 100 },
          9: { value: "Very Fast", delay: 50 },
          10: { value: "Lightning", delay: 20 },
        };

        const speedSetting = speeds[speedSlider.value];
        speedValue.textContent = speedSetting.value;
        speed = speedSetting.delay;
      });

      copyBtn.addEventListener("click", function () {
        const code = document.querySelector(".code-block code").innerText;
        navigator.clipboard.writeText(code);

        // Show feedback
        const originalText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-check"></i> Copied!';

        setTimeout(() => {
          this.innerHTML = originalText;
        }, 2000);
      });

      // Initialize
      document.addEventListener("DOMContentLoaded", () => {
        initVisualization();
        speedSlider.dispatchEvent(new Event("input"));
      });
    </script>
  </body>
</html>
