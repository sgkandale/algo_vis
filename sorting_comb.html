<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Comb Sort | AlgoViz Hub</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-glow: rgba(99, 102, 241, 0.2);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --transition: all 0.3s ease;
        --radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glow: 0 0 15px var(--accent-glow);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--text);
        font-family: "Roboto", sans-serif;
        line-height: 1.6;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        position: relative;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--glow);
      }

      .logo-icon i {
        font-size: 24px;
        color: white;
      }

      .logo-text h1 {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 28px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo-text p {
        font-size: 14px;
        color: var(--text-secondary);
        letter-spacing: 1.5px;
      }

      .breadcrumb {
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 10px;
      }

      .breadcrumb a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      /* Algorithm Header */
      .algorithm-header {
        margin: 40px 0;
        text-align: center;
        padding: 20px;
        background: var(--card-bg);
        border-radius: var(--radius);
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
      }

      .algorithm-header .category {
        font-size: 18px;
        color: var(--accent-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 16px;
        font-weight: 600;
        font-family: "Roboto Mono", monospace;
        margin-top: 15px;
      }

      /* Main Content Layout */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      /* Algorithm Detail Sections */
      .section {
        background: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .section h2 {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section h2 i {
        color: var(--accent);
        width: 36px;
        height: 36px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .section p {
        color: var(--text-secondary);
        font-size: 17px;
        line-height: 1.8;
        margin-bottom: 20px;
      }

      .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        margin-bottom: 0;
        font-size: 15px;
      }

      /* Visualization Console */
      .visualization-console {
        background: rgba(15, 23, 42, 0.8);
        border-radius: var(--radius);
        padding: 25px;
        margin: 30px 0;
        border: 1px solid rgba(99, 102, 241, 0.3);
        box-shadow: var(--glow);
      }

      .console-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .console-header h3 {
        color: var(--accent-light);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .console-controls {
        display: flex;
        gap: 10px;
      }

      .console-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .console-btn:hover {
        background: var(--accent-light);
      }

      .console-btn.secondary {
        background: rgba(148, 163, 184, 0.2);
      }

      .visualization-area {
        height: 300px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .visualization-area::before {
        content: "Comb Sort Visualization";
        position: absolute;
        color: rgba(148, 163, 184, 0.5);
        font-size: 20px;
      }

      .console-input {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .console-input input {
        flex: 1;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .console-input input:focus {
        outline: none;
        border-color: var(--accent);
      }

      /* Algorithm Properties */
      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 20px;
        font-weight: 700;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 14px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          gap: 25px;
          text-align: center;
        }

        .algorithm-header h1 {
          font-size: 32px;
        }

        .key-points {
          grid-template-columns: 1fr;
        }
      }

      /* Code Block Styling */
      .code-block {
        background: #0d1117;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
        overflow-x: auto;
        font-family: "Roboto Mono", monospace;
        font-size: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .code-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        color: var(--text-secondary);
      }

      .copy-btn {
        background: rgba(99, 102, 241, 0.2);
        color: var(--accent-light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 0.3);
      }

      .code-block pre {
        margin: 0;
      }

      .code-block code {
        color: #c9d1d9;
        line-height: 1.5;
      }

      .keyword {
        color: #ff7b72;
      }
      .function {
        color: #d2a8ff;
      }
      .comment {
        color: #8b949e;
      }
      .string {
        color: #a5d6ff;
      }
      .number {
        color: #79c0ff;
      }

      /* Comb Sort Visualization Styles */
      .array-container {
        display: flex;
        justify-content: center;
        align-items: flex-end;
        height: 100%;
        width: 100%;
        padding: 20px;
        gap: 5px;
      }

      .array-element {
        width: 30px;
        background: var(--accent);
        border-radius: 8px 8px 0 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;
        position: relative;
        transition: all 0.3s ease;
      }

      .element-value {
        font-size: 16px;
        font-weight: bold;
        margin-top: 5px;
        margin-bottom: 5px;
        font-family: "Roboto Mono", monospace;
      }

      .gap-indicator {
        position: absolute;
        bottom: -20px;
        left: 0;
        right: 0;
        height: 2px;
        background: var(--warning);
        z-index: 10;
      }

      .gap-label {
        position: absolute;
        bottom: -35px;
        left: 50%;
        transform: translateX(-50%);
        color: var(--warning);
        font-family: "Roboto Mono", monospace;
        font-size: 12px;
        white-space: nowrap;
      }

      .active {
        box-shadow: 0 0 0 3px var(--success);
        transform: scale(1.05);
      }

      .compared {
        background: var(--warning);
      }

      .swapped {
        background: var(--danger);
      }

      .sorted {
        background: var(--success);
      }

      .stats-bar {
        position: absolute;
        top: 10px;
        left: 10px;
        background: rgba(0, 0, 0, 0.5);
        padding: 8px 12px;
        border-radius: 5px;
        font-size: 14px;
        display: flex;
        gap: 15px;
      }

      .stats-item {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .controls {
        display: flex;
        gap: 10px;
        margin-top: 15px;
        justify-content: center;
      }

      .speed-control {
        display: flex;
        align-items: center;
        gap: 5px;
      }

      .step-info {
        position: absolute;
        bottom: 10px;
        left: 0;
        right: 0;
        text-align: center;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
        min-height: 20px;
        padding: 5px;
        background: rgba(0, 0, 0, 0.5);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <div class="logo">
          <div class="logo-icon floating">
            <i class="fas fa-project-diagram"></i>
          </div>
          <div class="logo-text">
            <h1>AlgoViz Hub</h1>
            <p>ALGORITHM VISUALIZATION REPOSITORY</p>
            <div class="breadcrumb">
              <a href="#"><i class="fas fa-home"></i> Home</a> >
              <a href="#">Sorting Algorithms</a> >
              <span>Comb Sort</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Algorithm Header -->
      <div class="algorithm-header">
        <h1>Comb Sort</h1>
        <div class="category">
          <i class="fas fa-sort-amount-down"></i> Bubble Sort Variant
        </div>
        <div class="complexity-badge">Time Complexity: O(n²)</div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Left Column: Algorithm Details -->
        <div class="left-column">
          <!-- Description Section -->
          <div class="section">
            <h2><i class="fas fa-file-alt"></i> Algorithm Overview</h2>
            <p>
              Comb Sort is an efficient variant of Bubble Sort that improves
              performance by eliminating small values near the end of the list
              (known as "turtles" in Bubble Sort). It works by comparing
              elements separated by a gap, which decreases over time.
            </p>
            <p>
              The algorithm starts with a large gap (typically the array length)
              and reduces the gap by a shrink factor (traditionally 1.3) with
              each pass. This approach allows the algorithm to quickly move
              small elements to the beginning and large elements to the end of
              the array.
            </p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-check-circle"></i> Key Feature</h3>
                <p>Eliminates "turtle" values that slow down Bubble Sort</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-bolt"></i> Performance</h3>
                <p>O(n²) worst case, but faster than Bubble Sort in practice</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-memory"></i> Space</h3>
                <p>O(1) space complexity (in-place sorting)</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-project-diagram"></i> Approach</h3>
                <p>Compares elements with a decreasing gap size</p>
              </div>
            </div>
          </div>

          <!-- Visualization Console -->
          <div class="section">
            <h2>
              <i class="fas fa-laptop-code"></i> Interactive Visualization
            </h2>
            <p>
              Visualize Comb Sort in action! The visualization shows how the
              algorithm compares elements separated by a gap and swaps them if
              they are in the wrong order. The gap shrinks with each pass until
              it becomes 1, at which point it performs a final Bubble Sort pass.
            </p>

            <div class="visualization-console">
              <div class="console-header">
                <h3>
                  <i class="fas fa-play-circle"></i> Comb Sort Visualization
                </h3>
                <div class="console-controls">
                  <button class="console-btn" id="reset-btn">
                    <i class="fas fa-redo"></i> Reset
                  </button>
                  <button class="console-btn" id="run-btn">
                    <i class="fas fa-play"></i> Run
                  </button>
                </div>
              </div>

              <div class="visualization-area" id="viz-area">
                <div class="array-container" id="array-container"></div>

                <div class="stats-bar" id="stats-bar">
                  <div class="stats-item">
                    <i class="fas fa-ruler" style="color: var(--warning)"></i>
                    <span>Gap: <span id="gap-value">0</span></span>
                  </div>
                  <div class="stats-item">
                    <i
                      class="fas fa-exchange-alt"
                      style="color: var(--success)"
                    ></i>
                    <span>Swaps: <span id="swap-count">0</span></span>
                  </div>
                  <div class="stats-item">
                    <i
                      class="fas fa-sync-alt"
                      style="color: var(--accent-light)"
                    ></i>
                    <span>Passes: <span id="pass-count">0</span></span>
                  </div>
                </div>

                <div class="step-info" id="step-info">
                  Ready to visualize Comb Sort!
                </div>
              </div>

              <div class="console-input">
                <input
                  type="text"
                  id="array-input"
                  value="7, 2, 9, 5, 1, 4, 8, 3, 6"
                  placeholder="Enter numbers (e.g., 5, 3, 8, 1, 2, 7, 4, 6)"
                />
                <button class="console-btn" id="random-btn">
                  <i class="fas fa-random"></i> Random
                </button>
              </div>

              <div class="controls">
                <div class="speed-control">
                  <i
                    class="fas fa-tachometer-alt"
                    style="color: var(--accent-light)"
                  ></i>
                  <input
                    type="range"
                    id="speed-slider"
                    min="1"
                    max="10"
                    value="5"
                  />
                  <span id="speed-value">Medium</span>
                </div>
              </div>
            </div>
          </div>

          <!-- Algorithm Steps -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Algorithm Steps</h2>
            <p>
              Comb Sort improves on Bubble Sort by using a gap greater than 1 to
              eliminate small values at the end:
            </p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-ruler"></i> 1. Initialize Gap</h3>
                <p>Set gap = array length and shrink factor = 1.3</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-sync-alt"></i> 2. Shrink Gap</h3>
                <p>Reduce gap by shrink factor after each pass</p>
              </div>
              <div class="point-card">
                <h3>
                  <i class="fas fa-compress-arrows-alt"></i> 3. Compare Elements
                </h3>
                <p>Compare elements that are "gap" apart</p>
              </div>
              <div class="point-card">
                <h3>
                  <i class="fas fa-exchange-alt"></i> 4. Swap if Necessary
                </h3>
                <p>Swap elements if they are in the wrong order</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-redo"></i> 5. Repeat Until Sorted</h3>
                <p>Continue until gap = 1 and no swaps are made</p>
              </div>
            </div>
          </div>

          <!-- Pseudocode Section -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Pseudocode</h2>
            <div class="code-block">
              <pre><code>function combSort(arr):
    gap = length(arr)
    shrink = 1.3
    sorted = false
    
    while not sorted:
        // Update gap for next pass
        gap = floor(gap / shrink)
        if gap <= 1:
            gap = 1
            sorted = true  // Last pass
        
        i = 0
        while i + gap < length(arr):
            if arr[i] > arr[i + gap]:
                swap arr[i] and arr[i + gap]
                sorted = false  // If we swapped, we're not done
            i = i + 1
        // End while i+gap
    // End while not sorted</code></pre>
            </div>
          </div>

          <!-- Implementation Section -->
          <div class="section">
            <h2><i class="fas fa-code"></i> Implementation</h2>
            <p>
              Below is a Python implementation of Comb Sort. The algorithm
              efficiently eliminates "turtles" by comparing elements separated
              by a gap that decreases with each pass.
            </p>

            <div class="code-block">
              <div class="code-header">
                <span>Python Implementation</span>
                <button class="copy-btn">
                  <i class="fas fa-copy"></i> Copy Code
                </button>
              </div>
              <pre><code><span class="keyword">def</span> <span class="function">comb_sort</span>(arr):
    n = len(arr)
    gap = n
    shrink = 1.3
    sorted = False
    
    <span class="keyword">while not</span> sorted:
        <span class="comment"># Update gap for next pass</span>
        gap = int(gap / shrink)
        <span class="keyword">if</span> gap <= 1:
            gap = 1
            sorted = True  <span class="comment"># Last pass will be a Bubble Sort</span>
        
        i = 0
        <span class="keyword">while</span> i + gap < n:
            <span class="keyword">if</span> arr[i] > arr[i + gap]:
                <span class="comment"># Swap elements</span>
                arr[i], arr[i + gap] = arr[i + gap], arr[i]
                sorted = False  <span class="comment"># Set to false as swap occurred</span>
            i += 1

<span class="comment"># Example usage</span>
arr = [7, 2, 9, 5, 1, 4, 8, 3, 6]
comb_sort(arr)
print(<span class="string">"Sorted array:"</span>, arr)  <span class="comment"># Output: [1, 2, 3, 4, 5, 6, 7, 8, 9]</span></code></pre>
            </div>
          </div>
        </div>

        <!-- Right Column: Additional Info -->
        <div class="right-column">
          <!-- Properties Section -->
          <div class="section">
            <h2><i class="fas fa-info-circle"></i> Algorithm Properties</h2>
            <div class="properties-grid">
              <div class="property-card">
                <h4>Category</h4>
                <div class="value">Sorting</div>
              </div>
              <div class="property-card">
                <h4>Type</h4>
                <div class="value">Comparison</div>
              </div>
              <div class="property-card">
                <h4>Stable</h4>
                <div class="value">No</div>
              </div>
              <div class="property-card">
                <h4>In-place</h4>
                <div class="value">Yes</div>
              </div>
              <div class="property-card">
                <h4>Best Case</h4>
                <div class="value">O(n log n)</div>
              </div>
              <div class="property-card">
                <h4>Worst Case</h4>
                <div class="value">O(n²)</div>
              </div>
              <div class="property-card">
                <h4>Average Case</h4>
                <div class="value">O(n²)</div>
              </div>
              <div class="property-card">
                <h4>Space</h4>
                <div class="value">O(1)</div>
              </div>
            </div>
          </div>

          <!-- Applications Section -->
          <div class="section">
            <h2><i class="fas fa-lightbulb"></i> Applications</h2>
            <p>
              Comb Sort is useful in scenarios where a simple, in-place sort is
              needed:
            </p>
            <ul
              style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              "
            >
              <li style="margin-bottom: 10px">
                Educational purposes to demonstrate gap-based sorting
              </li>
              <li style="margin-bottom: 10px">
                Systems with limited memory resources
              </li>
              <li style="margin-bottom: 10px">
                Situations where a stable sort is not required
              </li>
              <li style="margin-bottom: 10px">
                Sorting small to medium-sized datasets
              </li>
              <li>
                When a simple implementation is preferred over complex
                algorithms
              </li>
            </ul>
          </div>

          <!-- Advantages/Disadvantages Section -->
          <div class="section">
            <h2>
              <i class="fas fa-balance-scale"></i> Advantages & Disadvantages
            </h2>
            <div style="margin-top: 20px">
              <h3 style="color: var(--success); margin-bottom: 10px">
                <i class="fas fa-check-circle"></i> Advantages
              </h3>
              <ul
                style="
                  padding-left: 20px;
                  margin-bottom: 20px;
                  color: var(--text-secondary);
                "
              >
                <li style="margin-bottom: 8px">
                  Faster than Bubble Sort in practice
                </li>
                <li style="margin-bottom: 8px">Simple to implement</li>
                <li style="margin-bottom: 8px">
                  In-place sorting with O(1) space complexity
                </li>
                <li>Eliminates "turtle" problem of Bubble Sort</li>
              </ul>

              <h3 style="color: var(--danger); margin-bottom: 10px">
                <i class="fas fa-exclamation-circle"></i> Disadvantages
              </h3>
              <ul style="padding-left: 20px; color: var(--text-secondary)">
                <li style="margin-bottom: 8px">
                  Not a stable sorting algorithm
                </li>
                <li style="margin-bottom: 8px">
                  O(n²) worst-case time complexity
                </li>
                <li style="margin-bottom: 8px">
                  Performance depends on shrink factor
                </li>
                <li>
                  Less efficient than more advanced algorithms for large
                  datasets
                </li>
              </ul>
            </div>
          </div>

          <!-- Complexity Analysis -->
          <div class="section">
            <h2><i class="fas fa-chart-bar"></i> Complexity Analysis</h2>
            <p style="margin-bottom: 15px">
              Comb Sort's performance varies based on the shrink factor and
              input data:
            </p>
            <div
              style="
                background: rgba(15, 23, 42, 0.5);
                border-radius: var(--radius);
                padding: 15px;
              "
            >
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 10px;
                "
              >
                <span>Best Case:</span>
                <span
                  style="
                    font-family: 'Roboto Mono', monospace;
                    color: var(--accent-light);
                  "
                  >O(n log n)</span
                >
              </div>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 10px;
                "
              >
                <span>Average Case:</span>
                <span
                  style="
                    font-family: 'Roboto Mono', monospace;
                    color: var(--accent-light);
                  "
                  >O(n²)</span
                >
              </div>
              <div
                style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 10px;
                "
              >
                <span>Worst Case:</span>
                <span
                  style="
                    font-family: 'Roboto Mono', monospace;
                    color: var(--accent-light);
                  "
                  >O(n²)</span
                >
              </div>
              <div style="margin-top: 15px">
                <p style="color: var(--text-secondary); font-size: 15px">
                  With an optimal shrink factor (≈1.3), Comb Sort can approach
                  O(n log n) performance for some data distributions, though its
                  worst-case remains O(n²).
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer>
        <div class="footer-links">
          <a href="#"><i class="fas fa-book"></i> Documentation</a>
          <a href="#"><i class="fas fa-code-branch"></i> Contribute</a>
          <a href="#"><i class="fas fa-chalkboard-teacher"></i> Tutorials</a>
          <a href="#"><i class="fas fa-bug"></i> Report Issue</a>
          <a href="#"><i class="fas fa-envelope"></i> Contact</a>
        </div>
        <p>AlgoViz Hub - Interactive Algorithm Visualization Platform</p>
        <p>&copy; 2025 AlgoViz Hub. All rights reserved.</p>
      </footer>
    </div>

    <script>
      // DOM elements
      const runBtn = document.getElementById("run-btn");
      const resetBtn = document.getElementById("reset-btn");
      const randomBtn = document.getElementById("random-btn");
      const arrayInput = document.getElementById("array-input");
      const arrayContainer = document.getElementById("array-container");
      const gapValue = document.getElementById("gap-value");
      const swapCount = document.getElementById("swap-count");
      const passCount = document.getElementById("pass-count");
      const stepInfo = document.getElementById("step-info");
      const speedSlider = document.getElementById("speed-slider");
      const speedValue = document.getElementById("speed-value");
      const copyBtn = document.querySelector(".copy-btn");

      // Algorithm state
      let arr = [];
      let originalArr = [];
      let animationQueue = [];
      let isRunning = false;
      let speed = 500;
      let swaps = 0;
      let passes = 0;

      // Initialize visualization
      function initVisualization() {
        const input = arrayInput.value.trim();
        arr = input
          ? input.split(",").map((num) => parseInt(num.trim()))
          : [7, 2, 9, 5, 1, 4, 8, 3, 6];
        originalArr = [...arr];

        // Reset state
        animationQueue = [];
        swaps = 0;
        passes = 0;

        updateStats();
        stepInfo.textContent = "Ready to visualize Comb Sort!";

        // Clear container
        arrayContainer.innerHTML = "";

        // Create array elements
        arr.forEach((value, index) => {
          const element = document.createElement("div");
          element.className = "array-element";
          element.style.height = `${value * 25}px`;
          element.innerHTML = `
          <div class="element-value">${value}</div>
        `;
          element.dataset.index = index;
          element.dataset.value = value;
          arrayContainer.appendChild(element);
        });
      }

      // Update statistics display
      function updateStats() {
        gapValue.textContent = "0";
        swapCount.textContent = swaps;
        passCount.textContent = passes;
      }

      // Create gap indicator
      function createGapIndicator(start, gap) {
        // Remove existing indicators
        document
          .querySelectorAll(".gap-indicator")
          .forEach((el) => el.remove());
        document.querySelectorAll(".gap-label").forEach((el) => el.remove());

        const elements = arrayContainer.querySelectorAll(".array-element");
        if (start < elements.length) {
          const indicator = document.createElement("div");
          indicator.className = "gap-indicator";
          indicator.style.width = `${gap * 35 - 5}px`;
          indicator.style.left = `${start * 35 + 15}px`;
          arrayContainer.appendChild(indicator);

          const label = document.createElement("div");
          label.className = "gap-label";
          label.textContent = `Gap: ${gap}`;
          label.style.left = `${(start + gap / 2) * 35}px`;
          arrayContainer.appendChild(label);
        }
      }

      // Comb Sort algorithm with visualization steps
      function combSortWithVisualization() {
        animationQueue = [];
        swaps = 0;
        passes = 0;

        let gap = arr.length;
        const shrink = 1.3;
        let sorted = false;

        while (!sorted) {
          // Update gap
          gap = Math.floor(gap / shrink);
          if (gap <= 1) {
            gap = 1;
            sorted = true; // This will be the last pass
          }

          passes++;

          // Highlight gap
          animationQueue.push(() => {
            gapValue.textContent = gap;
            passCount.textContent = passes;
            stepInfo.textContent = `Pass ${passes}: Gap size = ${gap}`;
          });

          let i = 0;
          let swappedInPass = false;

          while (i + gap < arr.length) {
            const idx1 = i;
            const idx2 = i + gap;

            // Show gap indicator
            animationQueue.push(() => {
              createGapIndicator(i, gap);
            });

            // Highlight elements being compared
            animationQueue.push(() => {
              const elements =
                arrayContainer.querySelectorAll(".array-element");
              elements[idx1].classList.add("compared");
              elements[idx2].classList.add("compared");
              stepInfo.textContent = `Comparing elements at positions ${idx1} and ${idx2}`;
            });

            // Pause to show comparison
            animationQueue.push(() => {});

            if (arr[idx1] > arr[idx2]) {
              // Swap elements
              [arr[idx1], arr[idx2]] = [arr[idx2], arr[idx1]];
              swappedInPass = true;
              swaps++;

              // Visualize swap
              animationQueue.push(() => {
                const elements =
                  arrayContainer.querySelectorAll(".array-element");
                elements[idx1].classList.add("swapped");
                elements[idx2].classList.add("swapped");
                stepInfo.textContent = `Swapping elements at positions ${idx1} and ${idx2}`;

                // Update display
                const tempHeight = elements[idx1].style.height;
                const tempValue =
                  elements[idx1].querySelector(".element-value").textContent;

                elements[idx1].style.height = elements[idx2].style.height;
                elements[idx1].querySelector(".element-value").textContent =
                  elements[idx2].querySelector(".element-value").textContent;

                elements[idx2].style.height = tempHeight;
                elements[idx2].querySelector(".element-value").textContent =
                  tempValue;

                swapCount.textContent = swaps;
              });

              // Remove swap highlight
              animationQueue.push(() => {
                const elements =
                  arrayContainer.querySelectorAll(".array-element");
                elements[idx1].classList.remove("swapped");
                elements[idx2].classList.remove("swapped");
              });
            }

            // Remove comparison highlight
            animationQueue.push(() => {
              const elements =
                arrayContainer.querySelectorAll(".array-element");
              elements[idx1].classList.remove("compared");
              elements[idx2].classList.remove("compared");
            });

            i++;
          }

          // If we did a swap and gap==1, we need another pass
          if (gap === 1) {
            sorted = !swappedInPass;
          }
        }

        // Final animation to mark as sorted
        animationQueue.push(() => {
          stepInfo.textContent = `Comb Sort completed! Sorted in ${passes} passes with ${swaps} swaps.`;
          const elements = arrayContainer.querySelectorAll(".array-element");
          elements.forEach((el) => {
            el.classList.add("sorted");
            setTimeout(() => el.classList.remove("sorted"), 1000);
          });
        });
      }

      // Run animation queue
      async function runAnimation() {
        if (animationQueue.length === 0) {
          combSortWithVisualization();
        }

        isRunning = true;
        runBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';

        for (const action of animationQueue) {
          if (!isRunning) break;
          action();
          await new Promise((resolve) => setTimeout(resolve, speed));
        }

        isRunning = false;
        runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
      }

      // Event Listeners
      runBtn.addEventListener("click", () => {
        if (isRunning) {
          isRunning = false;
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        } else {
          runAnimation();
        }
      });

      resetBtn.addEventListener("click", () => {
        isRunning = false;
        initVisualization();
        runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
      });

      randomBtn.addEventListener("click", () => {
        // Generate random array
        const randomArray = [];
        const length = Math.floor(Math.random() * 10) + 8; // 8-17 elements
        for (let i = 0; i < length; i++) {
          randomArray.push(Math.floor(Math.random() * 20) + 1);
        }
        arrayInput.value = randomArray.join(", ");
        resetBtn.click();
      });

      speedSlider.addEventListener("input", () => {
        const speeds = {
          1: { value: "Very Slow", delay: 1000 },
          2: { value: "Slow", delay: 800 },
          3: { value: "Medium Slow", delay: 600 },
          4: { value: "Medium", delay: 400 },
          5: { value: "Medium", delay: 400 },
          6: { value: "Medium Fast", delay: 250 },
          7: { value: "Fast", delay: 150 },
          8: { value: "Faster", delay: 80 },
          9: { value: "Very Fast", delay: 40 },
          10: { value: "Lightning", delay: 20 },
        };

        const speedSetting = speeds[speedSlider.value];
        speedValue.textContent = speedSetting.value;
        speed = speedSetting.delay;
      });

      copyBtn.addEventListener("click", function () {
        const code = document.querySelector(".code-block code").innerText;
        navigator.clipboard.writeText(code);

        // Show feedback
        const originalText = this.innerHTML;
        this.innerHTML = '<i class="fas fa-check"></i> Copied!';

        setTimeout(() => {
          this.innerHTML = originalText;
        }, 2000);
      });

      // Initialize
      document.addEventListener("DOMContentLoaded", () => {
        initVisualization();
        speedSlider.dispatchEvent(new Event("input"));
      });
    </script>
  </body>
</html>
