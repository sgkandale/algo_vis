<!DOCTYPE html>

<html lang="en">
<head><meta content="Learn about sorting algorithms and their implementations with interactive visualizations" name="description"/><meta content="sorting algorithm, sort, bubble sort, merge sort, quick sort, heap sort, insertion sort, selection sort, radix sort, counting sort" name="keywords"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Exchange Sort | AlgoViz Hub</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&amp;family=Roboto:wght@300;400;500;700&amp;display=swap" rel="stylesheet"/>
<style>
      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-glow: rgba(99, 102, 241, 0.2);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --transition: all 0.3s ease;
        --radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glow: 0 0 15px var(--accent-glow);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--text);
        font-family: "Roboto", sans-serif;
        line-height: 1.6;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        position: relative;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--glow);
      }

      .logo-icon i {
        font-size: 24px;
        color: white;
      }

      .logo-text h1 {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 28px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo-text p {
        font-size: 14px;
        color: var(--text-secondary);
        letter-spacing: 1.5px;
      }

      .breadcrumb {
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 10px;
      }

      .breadcrumb a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      /* Algorithm Header */
      .algorithm-header {
        margin: 40px 0;
        text-align: center;
        padding: 20px;
        background: var(--card-bg);
        border-radius: var(--radius);
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
      }

      .algorithm-header .category {
        font-size: 18px;
        color: var(--accent-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 16px;
        font-weight: 600;
        font-family: "Roboto Mono", monospace;
        margin-top: 15px;
      }

      /* Main Content Layout */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      /* Algorithm Detail Sections */
      .section {
        background: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .section h2 {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section h2 i {
        color: var(--accent);
        width: 36px;
        height: 36px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .section p {
        color: var(--text-secondary);
        font-size: 17px;
        line-height: 1.8;
        margin-bottom: 20px;
      }

      .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        margin-bottom: 0;
        font-size: 15px;
      }

      /* Visualization Console */
      .visualization-console {
        background: rgba(15, 23, 42, 0.8);
        border-radius: var(--radius);
        padding: 25px;
        margin: 30px 0;
        border: 1px solid rgba(99, 102, 241, 0.3);
        box-shadow: var(--glow);
      }

      .console-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .console-header h3 {
        color: var(--accent-light);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .console-controls {
        display: flex;
        gap: 10px;
      }

      .console-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .console-btn:hover {
        background: var(--accent-light);
      }

      .console-btn.secondary {
        background: rgba(148, 163, 184, 0.2);
      }

      .visualization-area {
        height: 300px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .visualization-area::before {
        content: "Algorithm Visualization";
        position: absolute;
        color: rgba(148, 163, 184, 0.5);
        font-size: 20px;
      }

      .console-input {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .console-input input {
        flex: 1;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .console-input input:focus {
        outline: none;
        border-color: var(--accent);
      }

      /* Algorithm Properties */
      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 20px;
        font-weight: 700;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 14px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          gap: 25px;
          text-align: center;
        }

        .algorithm-header h1 {
          font-size: 32px;
        }

        .key-points {
          grid-template-columns: 1fr;
        }
      }

      /* Code Block Styling */
      .code-block {
        background: #0d1117;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
        overflow-x: auto;
        font-family: "Roboto Mono", monospace;
        font-size: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .code-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        color: var(--text-secondary);
      }

      .copy-btn {
        background: rgba(99, 102, 241, 0.2);
        color: var(--accent-light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 0.3);
      }

      .code-block pre {
        margin: 0;
      }

      .code-block code {
        color: #c9d1d9;
        line-height: 1.5;
      }

      .keyword {
        color: #ff7b72;
      }
      .function {
        color: #d2a8ff;
      }
      .comment {
        color: #8b949e;
      }
      .string {
        color: #a5d6ff;
      }
      .number {
        color: #79c0ff;
      }

      /* Visualization Styles */
      #exchange-container {
        width: 100%;
        height: 100%;
        display: flex;
        justify-content: center;
        align-items: flex-end;
        padding: 20px;
        gap: 4px;
      }

      .array-bar {
        width: 30px;
        background: var(--accent);
        border-radius: 4px 4px 0 0;
        transition: all 0.3s ease;
        position: relative;
        display: flex;
        justify-content: center;
        color: white;
        font-size: 12px;
        font-weight: bold;
      }

      .array-bar.active {
        background: var(--warning);
        box-shadow: 0 0 10px var(--warning);
      }

      .array-bar.compared {
        background: var(--danger);
      }

      .array-bar.sorted {
        background: var(--success);
      }

      .stats-container {
        display: flex;
        justify-content: space-around;
        margin-top: 10px;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
        font-size: 14px;
      }

      .stat-item {
        background: rgba(99, 102, 241, 0.1);
        padding: 5px 10px;
        border-radius: 5px;
      }

      .explanation {
        background: rgba(30, 41, 59, 0.6);
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px;
        font-family: "Roboto Mono", monospace;
        font-size: 14px;
        color: var(--accent-light);
        border-left: 3px solid var(--accent);
      }
    </style>
<meta content="Exchange Sort | AlgoViz Hub" property="og:title"/><meta content="Learn about sorting algorithms and their implementations with interactive visualizations" property="og:description"/><meta content="article" property="og:type"/><meta content="https://sgkandale.github.io/sorting_exchange.html" property="og:url"/><meta content="AlgoViz Hub" property="og:site_name"/><meta content="summary" name="twitter:card"/><meta content="Exchange Sort | AlgoViz Hub" name="twitter:title"/><meta content="Learn about sorting algorithms and their implementations with interactive visualizations" name="twitter:description"/><meta content="@sgkandale" name="twitter:site"/><link href="https://sgkandale.github.io/sorting_exchange.html" rel="canonical"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Exchange Sort | AlgoViz Hub",
  "description": "Learn about sorting algorithms and their implementations with interactive visualizations",
  "author": {
    "@type": "Person",
    "name": "Shantanu Kandale"
  },
  "publisher": {
    "@type": "Organization",
    "name": "AlgoViz Hub",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sgkandale.github.io/favicon.ico"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sgkandale.github.io/sorting_exchange.html"
  }
}</script></head>
<body>
<div class="container">
<!-- Header -->
<header>
<div class="logo">
<div class="logo-icon floating">
<i class="fas fa-exchange-alt"></i>
</div>
<div class="logo-text">
<h1>AlgoViz Hub</h1>
<p>ALGORITHM VISUALIZATION REPOSITORY</p>
<div class="breadcrumb">
<a href="#"><i class="fas fa-home"></i> Home</a> &gt;
              <a href="#">Sorting Algorithms</a> &gt;
              <span>Exchange Sort</span>
</div>
</div>
</div>
</header>
<!-- Algorithm Header -->
<div class="algorithm-header">
<h1>Exchange Sort</h1>
<div class="category">
<i class="fas fa-sort-amount-down"></i> Sorting Algorithm
        </div>
<div class="complexity-badge">Time Complexity: O(n²)</div>
</div>
<!-- Main Content -->
<div class="main-content">
<!-- Left Column: Algorithm Details -->
<div class="left-column">
<!-- Description Section -->
<div class="section">
<h2><i class="fas fa-file-alt"></i> Algorithm Overview</h2>
<p>
              Exchange Sort is a simple comparison-based sorting algorithm that
              works by repeatedly stepping through the list, comparing adjacent
              elements, and swapping them if they are in the wrong order. It's
              conceptually similar to Bubble Sort but uses a different loop
              structure that may result in slightly different performance
              characteristics.
            </p>
<p>
              The algorithm gets its name from the way it repeatedly "exchanges"
              adjacent elements that are out of order. It's an in-place
              algorithm that is easy to understand and implement, making it
              useful for educational purposes and small datasets.
            </p>
<div class="key-points">
<div class="point-card">
<h3><i class="fas fa-exchange-alt"></i> Key Feature</h3>
<p>
                  Simple implementation with nested loops and adjacent swaps
                </p>
</div>
<div class="point-card">
<h3><i class="fas fa-bolt"></i> Performance</h3>
<p>O(n²) time complexity in all cases (best, average, worst)</p>
</div>
<div class="point-card">
<h3><i class="fas fa-memory"></i> Space</h3>
<p>O(1) additional space (in-place algorithm)</p>
</div>
<div class="point-card">
<h3><i class="fas fa-project-diagram"></i> Approach</h3>
<p>Repeatedly compares and swaps adjacent elements</p>
</div>
</div>
</div>
<!-- Visualization Console -->
<div class="section">
<h2>
<i class="fas fa-laptop-code"></i> Interactive Visualization
            </h2>
<p>
              Visualize Exchange Sort in action. Enter a comma-separated list of
              numbers, adjust the speed, and step through the algorithm to see
              each comparison and swap.
            </p>
<div class="visualization-console">
<div class="console-header">
<h3>
<i class="fas fa-exchange-alt"></i> Exchange Sort
                  Visualization
                </h3>
<div class="console-controls">
<button class="console-btn secondary" id="step-btn">
<i class="fas fa-step-forward"></i> Step
                  </button>
<button class="console-btn" id="run-btn">
<i class="fas fa-play"></i> Run
                  </button>
<button class="console-btn secondary" id="reset-btn">
<i class="fas fa-redo"></i> Reset
                  </button>
</div>
</div>
<div class="visualization-area" id="visualization-area">
<div id="exchange-container"></div>
<div class="stats-container">
<div class="stat-item">
                    Comparisons: <span id="comparison-count">0</span>
</div>
<div class="stat-item">
                    Swaps: <span id="swap-count">0</span>
</div>
<div class="stat-item">
                    Passes: <span id="pass-count">0</span>
</div>
</div>
<div class="explanation" id="explanation">
                  Initializing visualization...
                </div>
</div>
<div class="console-input">
<input id="array-input" placeholder="Enter numbers (e.g., 5, 3, 8, 1, 2, 7, 4, 6)" type="text" value="38, 27, 43, 3, 9, 82, 10, 15"/>
<button class="console-btn" id="random-btn">
<i class="fas fa-random"></i> Random
                </button>
</div>
</div>
</div>
<!-- Algorithm Steps -->
<div class="section">
<h2><i class="fas fa-list-ol"></i> Algorithm Steps</h2>
<p>
              Exchange Sort works through nested loops to compare and swap
              elements:
            </p>
<div class="key-points">
<div class="point-card">
<h3><i class="fas fa-sync"></i> 1. Outer Loop</h3>
<p>
                  Traverse from the first element to the second last element
                </p>
</div>
<div class="point-card">
<h3><i class="fas fa-arrows-alt-h"></i> 2. Inner Loop</h3>
<p>
                  For each element, compare it with every subsequent element
                </p>
</div>
<div class="point-card">
<h3><i class="fas fa-exchange-alt"></i> 3. Compare and Swap</h3>
<p>
                  If current element is greater than compared element, swap them
                </p>
</div>
<div class="point-card">
<h3><i class="fas fa-redo"></i> 4. Repeat</h3>
<p>Continue until the entire array is sorted</p>
</div>
<div class="point-card">
<h3><i class="fas fa-flag-checkered"></i> 5. Completion</h3>
<p>When no swaps occur in a full pass, sorting is complete</p>
</div>
</div>
</div>
<!-- Pseudocode Section -->
<div class="section">
<h2><i class="fas fa-list-ol"></i> Pseudocode</h2>
<div class="code-block">
<pre><code>procedure exchangeSort(A: list of sortable items)
    n = length(A)
    
    for i = 0 to n-2
        for j = i+1 to n-1
            if A[i] &gt; A[j] then
                swap(A[i], A[j])</code></pre>
</div>
</div>
<!-- Implementation Section -->
<div class="section">
<h2><i class="fas fa-code"></i> Implementation</h2>
<p>
              Below is a Python implementation of Exchange Sort. The algorithm
              uses two nested loops to compare every element with every other
              element and swaps when necessary.
            </p>
<div class="code-block">
<div class="code-header">
<span>Python Implementation</span>
<button class="copy-btn">
<i class="fas fa-copy"></i> Copy Code
                </button>
</div>
<pre><code><span class="keyword">def</span> <span class="function">exchange_sort</span>(arr):
    n = len(arr)
    
    <span class="comment"># Traverse through all array elements</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> range(n - 1):
        <span class="comment"># Compare the current element with every subsequent element</span>
        <span class="keyword">for</span> j <span class="keyword">in</span> range(i + 1, n):
            <span class="comment"># Swap if the element found is greater</span>
            <span class="keyword">if</span> arr[i] &gt; arr[j]:
                arr[i], arr[j] = arr[j], arr[i]
    
    <span class="keyword">return</span> arr

<span class="comment"># Example usage</span>
arr = [38, 27, 43, 3, 9, 82, 10, 15]
sorted_arr = exchange_sort(arr)
print(<span class="string">"Sorted array:"</span>, sorted_arr)
<span class="comment"># Output: Sorted array: [3, 9, 10, 15, 27, 38, 43, 82]</span></code></pre>
</div>
</div>
</div>
<!-- Right Column: Additional Info -->
<div class="right-column">
<!-- Properties Section -->
<div class="section">
<h2><i class="fas fa-info-circle"></i> Algorithm Properties</h2>
<div class="properties-grid">
<div class="property-card">
<h4>Category</h4>
<div class="value">Sorting</div>
</div>
<div class="property-card">
<h4>Type</h4>
<div class="value">Comparison</div>
</div>
<div class="property-card">
<h4>Stable</h4>
<div class="value">No</div>
</div>
<div class="property-card">
<h4>In-place</h4>
<div class="value">Yes</div>
</div>
<div class="property-card">
<h4>Best Case</h4>
<div class="value">O(n²)</div>
</div>
<div class="property-card">
<h4>Worst Case</h4>
<div class="value">O(n²)</div>
</div>
<div class="property-card">
<h4>Average Case</h4>
<div class="value">O(n²)</div>
</div>
<div class="property-card">
<h4>Space</h4>
<div class="value">O(1)</div>
</div>
</div>
</div>
<!-- Applications Section -->
<div class="section">
<h2><i class="fas fa-lightbulb"></i> Applications</h2>
<p>Exchange Sort is useful in specific scenarios:</p>
<ul style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              ">
<li style="margin-bottom: 10px">
                Educational purposes to demonstrate sorting fundamentals
              </li>
<li style="margin-bottom: 10px">
                Sorting small datasets where simplicity is preferred over
                efficiency
              </li>
<li style="margin-bottom: 10px">
                Embedded systems with limited resources
              </li>
<li style="margin-bottom: 10px">
                As an introduction to sorting algorithms for beginners
              </li>
<li>When a stable sort is not required</li>
</ul>
</div>
<!-- Comparison Section -->
<div class="section">
<h2>
<i class="fas fa-balance-scale"></i> Comparison with Bubble Sort
            </h2>
<p>Exchange Sort is often compared to Bubble Sort:</p>
<ul style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              ">
<li style="margin-bottom: 10px">
<strong>Similarities:</strong> Both are O(n²) comparison sorts
                that swap adjacent elements
              </li>
<li style="margin-bottom: 10px">
<strong>Differences:</strong> Exchange Sort compares each
                element with every subsequent element, while Bubble Sort
                compares adjacent elements in passes
              </li>
<li style="margin-bottom: 10px">
                Exchange Sort may perform fewer swaps in some cases
              </li>
<li style="margin-bottom: 10px">
                Both have the same time complexity but different loop structures
              </li>
</ul>
</div>
</div>
</div>
<!-- Footer -->
<footer>
<div class="footer-links">
<a href="https://www.linkedin.com/in/sgkandale/" target="_blank"><i class="fa-brands fa-linkedin"></i> LinkedIN</a>
<a href="mailto:me@sgkandale.com"><i class="fa-solid fa-at"></i> E-Mail</a>
<a href="https://buymeacoffee.com/sgkandale" target="_blank"><i class="fa-solid fa-mug-hot"></i> Buy Me a Coffee</a>
</div>
<p>AlgoViz Hub - Interactive Algorithm Visualization Platform</p>
<p>© 2025 AlgoViz Hub. All rights reserved.</p>
</footer>
</div>
<script>
      // Exchange Sort Visualization
      class ExchangeSortVisualizer {
        constructor(container, explanation, stats) {
          this.container = container;
          this.explanation = explanation;
          this.stats = stats;
          this.array = [];
          this.i = 0;
          this.j = 0;
          this.comparisons = 0;
          this.swaps = 0;
          this.passes = 0;
          this.isRunning = false;
          this.speed = 500;
          this.timeout = null;
        }

        init(array) {
          this.array = [...array];
          this.i = 0;
          this.j = this.i + 1;
          this.comparisons = 0;
          this.swaps = 0;
          this.passes = 0;
          this.updateStats();
          this.updateExplanation(
            "Starting Exchange Sort. Click Step to begin."
          );
          this.render();
        }

        updateStats() {
          this.stats.comparisonCount.textContent = this.comparisons;
          this.stats.swapCount.textContent = this.swaps;
          this.stats.passCount.textContent = this.passes;
        }

        updateExplanation(text) {
          this.explanation.textContent = text;
        }

        render() {
          this.container.innerHTML = "";

          for (let idx = 0; idx < this.array.length; idx++) {
            const bar = document.createElement("div");
            bar.className = "array-bar";
            bar.style.height = `${(this.array[idx] / 100) * 50 + 20}px`;
            bar.textContent = this.array[idx];

            // Highlight current elements
            if (idx === this.i) {
              bar.classList.add("active");
            } else if (idx === this.j) {
              bar.classList.add("compared");
            } else if (idx < this.i) {
              bar.classList.add("sorted");
            }

            this.container.appendChild(bar);
          }
        }

        step() {
          if (this.i >= this.array.length - 1) {
            this.updateExplanation(
              "Sorting complete! The array is fully sorted."
            );
            return false;
          }

          this.comparisons++;

          // Compare elements
          if (this.array[this.i] > this.array[this.j]) {
            // Swap elements
            [this.array[this.i], this.array[this.j]] = [
              this.array[this.j],
              this.array[this.i],
            ];
            this.swaps++;
            this.updateExplanation(
              `Swapped ${this.array[this.j]} and ${this.array[this.i]} (${
                this.array[this.i]
              } > ${this.array[this.j]})`
            );
          } else {
            this.updateExplanation(
              `Compared ${this.array[this.i]} and ${
                this.array[this.j]
              } (no swap needed)`
            );
          }

          // Move to next element
          this.j++;

          // Check if we need to move to next i
          if (this.j >= this.array.length) {
            this.i++;
            this.j = this.i + 1;
            this.passes++;
            this.updateExplanation(`Starting new pass at position ${this.i}`);
          }

          return true;
        }

        start() {
          if (this.isRunning) return;
          this.isRunning = true;

          const runStep = () => {
            const hasMore = this.step();
            this.updateStats();
            this.render();

            if (hasMore) {
              this.timeout = setTimeout(runStep, this.speed);
            } else {
              this.isRunning = false;
            }
          };

          runStep();
        }

        stop() {
          if (this.timeout) {
            clearTimeout(this.timeout);
          }
          this.isRunning = false;
        }

        reset(array) {
          this.stop();
          this.init(array);
        }
      }

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        const visualizationArea = document.getElementById("exchange-container");
        const explanation = document.getElementById("explanation");
        const arrayInput = document.getElementById("array-input");
        const randomBtn = document.getElementById("random-btn");
        const stepBtn = document.getElementById("step-btn");
        const runBtn = document.getElementById("run-btn");
        const resetBtn = document.getElementById("reset-btn");

        // Stats elements
        const stats = {
          comparisonCount: document.getElementById("comparison-count"),
          swapCount: document.getElementById("swap-count"),
          passCount: document.getElementById("pass-count"),
        };

        // Initialize visualizer
        const visualizer = new ExchangeSortVisualizer(
          visualizationArea,
          explanation,
          stats
        );

        // Parse input array
        function parseInput() {
          const input = arrayInput.value;
          const numbers = input
            .split(",")
            .map((num) => parseInt(num.trim()))
            .filter((num) => !isNaN(num));
          return numbers.length > 0 ? numbers : [38, 27, 43, 3, 9, 82, 10, 15];
        }

        // Initialize with default array
        visualizer.init(parseInput());

        // Event listeners
        randomBtn.addEventListener("click", () => {
          const randomArray = Array.from(
            { length: 8 },
            () => Math.floor(Math.random() * 90) + 10
          );
          arrayInput.value = randomArray.join(", ");
          visualizer.reset(randomArray);
        });

        stepBtn.addEventListener("click", () => {
          visualizer.stop();
          visualizer.step();
          visualizer.updateStats();
          visualizer.render();
        });

        runBtn.addEventListener("click", () => {
          if (visualizer.isRunning) {
            visualizer.stop();
            runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
          } else {
            visualizer.start();
            runBtn.innerHTML = '<i class="fas fa-stop"></i> Stop';
          }
        });

        resetBtn.addEventListener("click", () => {
          visualizer.stop();
          visualizer.reset(parseInput());
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        });

        arrayInput.addEventListener("change", () => {
          visualizer.reset(parseInput());
        });

        // Copy button functionality
        document
          .querySelector(".copy-btn")
          .addEventListener("click", function () {
            const code = document.querySelector(".code-block code").innerText;
            navigator.clipboard.writeText(code);

            // Show feedback
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check"></i> Copied!';

            setTimeout(() => {
              this.innerHTML = originalText;
            }, 2000);
          });
      });
    </script>
</body>
</html>
