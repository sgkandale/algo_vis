<!DOCTYPE html>

<html lang="en">
<head><meta content="Learn about sorting algorithms and their implementations with interactive visualizations" name="description"/><meta content="sorting algorithm, sort, bubble sort, merge sort, quick sort, heap sort, insertion sort, selection sort, radix sort, counting sort" name="keywords"/>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Fluxsort | AlgoViz Hub</title>
<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&amp;family=Roboto:wght@300;400;500;700&amp;display=swap" rel="stylesheet"/>
<style>
      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-glow: rgba(99, 102, 241, 0.2);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --transition: all 0.3s ease;
        --radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glow: 0 0 15px var(--accent-glow);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--text);
        font-family: "Roboto", sans-serif;
        line-height: 1.6;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        position: relative;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--glow);
      }

      .logo-icon i {
        font-size: 24px;
        color: white;
      }

      .logo-text h1 {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 28px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo-text p {
        font-size: 14px;
        color: var(--text-secondary);
        letter-spacing: 1.5px;
      }

      .breadcrumb {
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 10px;
      }

      .breadcrumb a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      /* Algorithm Header */
      .algorithm-header {
        margin: 40px 0;
        text-align: center;
        padding: 20px;
        background: var(--card-bg);
        border-radius: var(--radius);
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
      }

      .algorithm-header .category {
        font-size: 18px;
        color: var(--accent-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 16px;
        font-weight: 600;
        font-family: "Roboto Mono", monospace;
        margin-top: 15px;
      }

      /* Main Content Layout */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      /* Algorithm Detail Sections */
      .section {
        background: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .section h2 {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section h2 i {
        color: var(--accent);
        width: 36px;
        height: 36px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .section p {
        color: var(--text-secondary);
        font-size: 17px;
        line-height: 1.8;
        margin-bottom: 20px;
      }

      .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        margin-bottom: 0;
        font-size: 15px;
      }

      /* Visualization Console */
      .visualization-console {
        background: rgba(15, 23, 42, 0.8);
        border-radius: var(--radius);
        padding: 25px;
        margin: 30px 0;
        border: 1px solid rgba(99, 102, 241, 0.3);
        box-shadow: var(--glow);
      }

      .console-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .console-header h3 {
        color: var(--accent-light);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .console-controls {
        display: flex;
        gap: 10px;
      }

      .console-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .console-btn:hover {
        background: var(--accent-light);
      }

      .console-btn.secondary {
        background: rgba(148, 163, 184, 0.2);
      }

      .visualization-area {
        height: 300px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .console-input {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .console-input input {
        flex: 1;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .console-input input:focus {
        outline: none;
        border-color: var(--accent);
      }

      /* Algorithm Properties */
      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 20px;
        font-weight: 700;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 14px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          gap: 25px;
          text-align: center;
        }

        .algorithm-header h1 {
          font-size: 32px;
        }

        .key-points {
          grid-template-columns: 1fr;
        }
      }

      /* Code Block Styling */
      .code-block {
        background: #0d1117;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
        overflow-x: auto;
        font-family: "Roboto Mono", monospace;
        font-size: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .code-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        color: var(--text-secondary);
      }

      .copy-btn {
        background: rgba(99, 102, 241, 0.2);
        color: var(--accent-light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 0.3);
      }

      .code-block pre {
        margin: 0;
      }

      .code-block code {
        color: #c9d1d9;
        line-height: 1.5;
      }

      .keyword {
        color: #ff7b72;
      }
      .function {
        color: #d2a8ff;
      }
      .comment {
        color: #8b949e;
      }
      .string {
        color: #a5d6ff;
      }
      .number {
        color: #79c0ff;
      }

      /* Fluxsort Visualization Styles */
      .array-container {
        display: flex;
        justify-content: center;
        align-items: flex-end;
        height: 100%;
        width: 100%;
        padding: 20px;
        gap: 5px;
      }

      .array-element {
        width: 40px;
        background: var(--accent);
        border-radius: 8px 8px 0 0;
        display: flex;
        flex-direction: column;
        align-items: center;
        transition: all 0.3s ease;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
        position: relative;
      }

      .element-value {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 16px;
        color: white;
        padding: 10px 0;
      }

      .element-index {
        background: rgba(15, 23, 42, 0.7);
        width: 100%;
        text-align: center;
        padding: 5px 0;
        font-size: 12px;
        color: var(--text-secondary);
      }

      .current {
        box-shadow: 0 0 15px var(--accent-light);
        transform: scale(1.1);
        z-index: 10;
      }

      .compared {
        background: var(--warning);
      }

      .swapped {
        background: var(--danger);
      }

      .sorted {
        background: var(--success);
      }

      .block-boundary {
        position: absolute;
        bottom: -20px;
        width: 100%;
        height: 3px;
        background: var(--accent-light);
      }

      .block-label {
        position: absolute;
        bottom: -35px;
        font-size: 12px;
        color: var(--accent-light);
        white-space: nowrap;
      }

      .status-bar {
        margin-top: 15px;
        font-family: "Roboto Mono", monospace;
        color: var(--accent-light);
        text-align: center;
        min-height: 40px;
        padding: 10px;
        background: rgba(15, 23, 42, 0.5);
        border-radius: 5px;
      }
    </style>
<meta content="Fluxsort | AlgoViz Hub" property="og:title"/><meta content="Learn about sorting algorithms and their implementations with interactive visualizations" property="og:description"/><meta content="article" property="og:type"/><meta content="https://sgkandale.github.io/sorting_flux.html" property="og:url"/><meta content="AlgoViz Hub" property="og:site_name"/><meta content="summary" name="twitter:card"/><meta content="Fluxsort | AlgoViz Hub" name="twitter:title"/><meta content="Learn about sorting algorithms and their implementations with interactive visualizations" name="twitter:description"/><meta content="@sgkandale" name="twitter:site"/><link href="https://sgkandale.github.io/sorting_flux.html" rel="canonical"/><script type="application/ld+json">{
  "@context": "https://schema.org",
  "@type": "Article",
  "headline": "Fluxsort | AlgoViz Hub",
  "description": "Learn about sorting algorithms and their implementations with interactive visualizations",
  "author": {
    "@type": "Person",
    "name": "Shantanu Kandale"
  },
  "publisher": {
    "@type": "Organization",
    "name": "AlgoViz Hub",
    "logo": {
      "@type": "ImageObject",
      "url": "https://sgkandale.github.io/favicon.ico"
    }
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://sgkandale.github.io/sorting_flux.html"
  }
}</script></head>
<body>
<div class="container">
<!-- Header -->
<header>
<div class="logo">
<div class="logo-icon floating">
<i class="fas fa-wind"></i>
</div>
<div class="logo-text">
<h1>AlgoViz Hub</h1>
<p>ALGORITHM VISUALIZATION REPOSITORY</p>
<div class="breadcrumb">
<a href="#"><i class="fas fa-home"></i> Home</a> &gt;
              <a href="#">Sorting Algorithms</a> &gt;
              <span>Fluxsort</span>
</div>
</div>
</div>
</header>
<!-- Algorithm Header -->
<div class="algorithm-header">
<h1>Fluxsort</h1>
<div class="category">
<i class="fas fa-sort-amount-down"></i> Hybrid Sorting Algorithm
        </div>
<div class="complexity-badge">Time Complexity: O(n log n)</div>
</div>
<!-- Main Content -->
<div class="main-content">
<!-- Left Column: Algorithm Details -->
<div class="left-column">
<!-- Description Section -->
<div class="section">
<h2><i class="fas fa-file-alt"></i> Algorithm Overview</h2>
<p>
              Fluxsort is a high-performance hybrid sorting algorithm that
              combines the strengths of Quicksort, Mergesort, and Insertion
              Sort. It uses a partitioning scheme similar to Quicksort but
              optimizes for worst-case scenarios by switching to a stable
              in-place merge sort when partitions become unbalanced.
            </p>
<p>
              The algorithm is designed to be adaptive and efficient for various
              data distributions. It minimizes comparisons and swaps while
              maintaining stability. Fluxsort is particularly effective for
              large datasets and performs well on both random and partially
              ordered data.
            </p>
<div class="key-points">
<div class="point-card">
<h3><i class="fas fa-tachometer-alt"></i> Performance</h3>
<p>O(n log n) worst-case, O(n) best-case for ordered data</p>
</div>
<div class="point-card">
<h3><i class="fas fa-memory"></i> Space Efficiency</h3>
<p>O(log n) stack space, O(1) auxiliary space</p>
</div>
<div class="point-card">
<h3><i class="fas fa-layer-group"></i> Hybrid Approach</h3>
<p>Combines Quicksort, Mergesort, and Insertion Sort</p>
</div>
<div class="point-card">
<h3><i class="fas fa-shield-alt"></i> Stability</h3>
<p>Maintains relative order of equal elements</p>
</div>
</div>
</div>
<!-- Visualization Console -->
<div class="section">
<h2>
<i class="fas fa-laptop-code"></i> Interactive Visualization
            </h2>
<p>
              Use the interactive console below to visualize how Fluxsort works.
              Enter comma-separated numbers and step through the algorithm to
              see how it partitions, sorts, and merges the array.
            </p>
<div class="visualization-console">
<div class="console-header">
<h3>
<i class="fas fa-play-circle"></i> Fluxsort Visualization
                </h3>
<div class="console-controls">
<button class="console-btn secondary" id="step-btn">
<i class="fas fa-step-forward"></i> Step
                  </button>
<button class="console-btn" id="run-btn">
<i class="fas fa-play"></i> Run
                  </button>
<button class="console-btn secondary" id="reset-btn">
<i class="fas fa-redo"></i> Reset
                  </button>
<button class="console-btn secondary" id="speed-btn">
<i class="fas fa-running"></i> Speed: Medium
                  </button>
</div>
</div>
<div class="visualization-area">
<div class="array-container" id="array-container">
<!-- Array elements will be generated here -->
</div>
</div>
<div class="console-input">
<input id="array-input" placeholder="Enter numbers (e.g., 5, 3, 8, 1, 2, 7, 4, 6)" type="text" value="7, 3, 5, 1, 9, 4, 8, 2, 6"/>
<button class="console-btn" id="random-btn">
<i class="fas fa-random"></i> Random
                </button>
</div>
<div class="status-bar" id="status">
                Enter numbers and click Run or Step
              </div>
</div>
</div>
<!-- Algorithm Steps -->
<div class="section">
<h2><i class="fas fa-list-ol"></i> Algorithm Steps</h2>
<p>
              Fluxsort processes the array through a series of optimized steps:
            </p>
<div class="key-points">
<div class="point-card">
<h3>
<i class="fas fa-th-large"></i> 1. Small Partition Handling
                </h3>
<p>For small partitions (≤ 32 elements), use Insertion Sort</p>
</div>
<div class="point-card">
<h3><i class="fas fa-balance-scale"></i> 2. Pivot Selection</h3>
<p>Select a pivot using median-of-three or random sampling</p>
</div>
<div class="point-card">
<h3>
<i class="fas fa-code-branch"></i> 3. Three-way Partitioning
                </h3>
<p>
                  Partition array into elements less, equal, and greater than
                  pivot
                </p>
</div>
<div class="point-card">
<h3><i class="fas fa-merge"></i> 4. Recursive Sorting</h3>
<p>Recursively sort left and right partitions</p>
</div>
<div class="point-card">
<h3><i class="fas fa-exchange-alt"></i> 5. Adaptive Merge</h3>
<p>
                  For unbalanced partitions, switch to stable in-place merge
                </p>
</div>
</div>
</div>
<!-- Pseudocode Section -->
<div class="section">
<h2><i class="fas fa-list-ol"></i> Pseudocode</h2>
<div class="code-block">
<pre><code>function fluxsort(arr, low, high):
    if high - low &lt;= 32:
        insertion_sort(arr, low, high)
        return
    
    // Select pivot using median-of-three
    mid = low + (high - low) / 2
    pivot = median_of_three(arr[low], arr[mid], arr[high])
    
    // Three-way partition
    i = low
    j = low
    k = high
    while j &lt;= k:
        if arr[j] &lt; pivot:
            swap arr[i] and arr[j]
            i++ 
            j++
        else if arr[j] &gt; pivot:
            swap arr[j] and arr[k]
            k--
        else:
            j++
    
    // Recursively sort partitions
    if (i - low) &lt; (high - k):
        fluxsort(arr, low, i - 1)
        fluxsort(arr, k + 1, high)
    else:
        fluxsort(arr, k + 1, high)
        fluxsort(arr, low, i - 1)
    
    // If partition is unbalanced, use in-place merge
    if min(i - low, high - k) &lt; (high - low) / 8:
        in_place_merge(arr, low, i - 1, k + 1, high)

function insertion_sort(arr, low, high):
    for i from low+1 to high:
        key = arr[i]
        j = i - 1
        while j &gt;= low and arr[j] &gt; key:
            arr[j+1] = arr[j]
            j--
        arr[j+1] = key</code></pre>
</div>
</div>
<!-- Implementation Section -->
<div class="section">
<h2><i class="fas fa-code"></i> Implementation</h2>
<p>
              Below is a Python implementation of Fluxsort. The algorithm adapts
              its strategy based on partition size and balance to optimize
              performance:
            </p>
<div class="code-block">
<div class="code-header">
<span>Python Implementation</span>
<button class="copy-btn">
<i class="fas fa-copy"></i> Copy Code
                </button>
</div>
<pre><code><span class="keyword">def</span> <span class="function">fluxsort</span>(arr, low=None, high=None):
    <span class="keyword">if</span> low <span class="keyword">is</span> None:
        low = 0
    <span class="keyword">if</span> high <span class="keyword">is</span> None:
        high = len(arr) - 1
        
    <span class="comment"># Use insertion sort for small partitions</span>
    <span class="keyword">if</span> high - low &lt;= 32:
        insertion_sort(arr, low, high)
        <span class="keyword">return</span>
        
    <span class="comment"># Select pivot using median-of-three</span>
    mid = (low + high) // 2
    pivot = median_of_three(arr[low], arr[mid], arr[high])
    
    <span class="comment"># Three-way partition</span>
    i = low
    j = low
    k = high
    <span class="keyword">while</span> j &lt;= k:
        <span class="keyword">if</span> arr[j] &lt; pivot:
            arr[i], arr[j] = arr[j], arr[i]
            i += 1
            j += 1
        <span class="keyword">elif</span> arr[j] &gt; pivot:
            arr[j], arr[k] = arr[k], arr[j]
            k -= 1
        <span class="keyword">else</span>:
            j += 1
            
    <span class="comment"># Recursively sort partitions</span>
    <span class="keyword">if</span> (i - low) &lt; (high - k):
        fluxsort(arr, low, i - 1)
        fluxsort(arr, k + 1, high)
    <span class="keyword">else</span>:
        fluxsort(arr, k + 1, high)
        fluxsort(arr, low, i - 1)
        
    <span class="comment"># Use in-place merge for unbalanced partitions</span>
    <span class="keyword">if</span> min(i - low, high - k) &lt; (high - low) // 8:
        in_place_merge(arr, low, i - 1, k + 1, high)

<span class="keyword">def</span> <span class="function">insertion_sort</span>(arr, low, high):
    <span class="keyword">for</span> i <span class="keyword">in</span> range(low + 1, high + 1):
        key = arr[i]
        j = i - 1
        <span class="keyword">while</span> j &gt;= low <span class="keyword">and</span> arr[j] &gt; key:
            arr[j + 1] = arr[j]
            j -= 1
        arr[j + 1] = key

<span class="keyword">def</span> <span class="function">median_of_three</span>(a, b, c):
    <span class="keyword">if</span> (a &gt; b) != (a &gt; c):
        <span class="keyword">return</span> a
    <span class="keyword">elif</span> (b &gt; a) != (b &gt; c):
        <span class="keyword">return</span> b
    <span class="keyword">else</span>:
        <span class="keyword">return</span> c

<span class="comment"># Example usage</span>
arr = [7, 3, 5, 1, 9, 4, 8, 2, 6]
fluxsort(arr)
print(<span class="string">"Sorted array:"</span>, arr)</code></pre>
</div>
</div>
</div>
<!-- Right Column: Additional Info -->
<div class="right-column">
<!-- Properties Section -->
<div class="section">
<h2><i class="fas fa-info-circle"></i> Algorithm Properties</h2>
<div class="properties-grid">
<div class="property-card">
<h4>Category</h4>
<div class="value">Sorting</div>
</div>
<div class="property-card">
<h4>Type</h4>
<div class="value">Hybrid</div>
</div>
<div class="property-card">
<h4>Stable</h4>
<div class="value">Yes</div>
</div>
<div class="property-card">
<h4>In-place</h4>
<div class="value">Mostly</div>
</div>
<div class="property-card">
<h4>Best Case</h4>
<div class="value">O(n)</div>
</div>
<div class="property-card">
<h4>Worst Case</h4>
<div class="value">O(n log n)</div>
</div>
<div class="property-card">
<h4>Average Case</h4>
<div class="value">O(n log n)</div>
</div>
<div class="property-card">
<h4>Space</h4>
<div class="value">O(log n)</div>
</div>
<div class="property-card">
<h4>Adaptive</h4>
<div class="value">Yes</div>
</div>
</div>
</div>
<!-- Applications Section -->
<div class="section">
<h2><i class="fas fa-lightbulb"></i> Applications</h2>
<p>Fluxsort is particularly useful in these scenarios:</p>
<ul style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              ">
<li style="margin-bottom: 10px">
                Sorting large datasets in memory-constrained environments
              </li>
<li style="margin-bottom: 10px">
                Systems requiring stable sorting with good worst-case
                performance
              </li>
<li style="margin-bottom: 10px">
                Real-time systems with varying data distributions
              </li>
<li style="margin-bottom: 10px">
                Database indexing and query optimization
              </li>
<li>Scientific computing and data analysis</li>
</ul>
</div>
<!-- Performance Comparison Section -->
<div class="section">
<h2><i class="fas fa-chart-bar"></i> Performance Comparison</h2>
<p>
              Fluxsort outperforms many traditional algorithms in various
              scenarios:
            </p>
<div style="margin: 15px 0; color: var(--text-secondary)">
<div style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 5px;
                ">
<span>Random Data:</span>
<span>Fluxsort ≈ Quicksort</span>
</div>
<div style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 5px;
                ">
<span>Partially Sorted:</span>
<span>Fluxsort &gt; Mergesort</span>
</div>
<div style="
                  display: flex;
                  justify-content: space-between;
                  margin-bottom: 5px;
                ">
<span>Worst-case:</span>
<span>Fluxsort &gt; Quicksort</span>
</div>
<div style="display: flex; justify-content: space-between">
<span>Stability:</span>
<span>Fluxsort &gt; Heapsort</span>
</div>
</div>
<div style="
                background: rgba(15, 23, 42, 0.5);
                border-radius: 8px;
                padding: 15px;
                margin-top: 15px;
              ">
<h4 style="
                  color: var(--accent-light);
                  text-align: center;
                  margin-bottom: 10px;
                ">
                Relative Performance (Higher is better)
              </h4>
<div style="
                  display: flex;
                  align-items: flex-end;
                  height: 120px;
                  gap: 15px;
                  justify-content: center;
                  border-bottom: 1px solid var(--text-secondary);
                  padding-bottom: 5px;
                ">
<div style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                  ">
<div style="width: 30px; height: 80px; background: var(--accent)"></div>
<div>Fluxsort</div>
</div>
<div style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                  ">
<div style="
                      width: 30px;
                      height: 70px;
                      background: var(--accent-light);
                    "></div>
<div>Mergesort</div>
</div>
<div style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                  ">
<div style="
                      width: 30px;
                      height: 75px;
                      background: var(--success);
                    "></div>
<div>Quicksort</div>
</div>
<div style="
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                  ">
<div style="
                      width: 30px;
                      height: 60px;
                      background: var(--warning);
                    "></div>
<div>Heapsort</div>
</div>
</div>
</div>
</div>
</div>
</div>
<!-- Footer -->
<footer>
<div class="footer-links">
<a href="#"><i class="fas fa-book"></i> Documentation</a>
<a href="#"><i class="fas fa-code-branch"></i> Contribute</a>
<a href="#"><i class="fas fa-chalkboard-teacher"></i> Tutorials</a>
<a href="#"><i class="fas fa-bug"></i> Report Issue</a>
<a href="#"><i class="fas fa-envelope"></i> Contact</a>
</div>
<p>AlgoViz Hub - Interactive Algorithm Visualization Platform</p>
<p>© 2025 AlgoViz Hub. All rights reserved.</p>
</footer>
</div>
<script>
      // Fluxsort Visualization
      let array = [7, 3, 5, 1, 9, 4, 8, 2, 6];
      let stack = [];
      let currentStep = 0;
      let low = 0;
      let high = array.length - 1;
      let pivot = 0;
      let i = 0,
        j = 0,
        k = 0;
      let isRunning = false;
      let interval;
      let speed = 1000;
      let insertionMode = false;
      let insertionIndex = 0;
      let insertionKey = 0;
      let mergeMode = false;
      let swapHighlight = [];

      // DOM elements
      const arrayContainer = document.getElementById("array-container");
      const arrayInput = document.getElementById("array-input");
      const runBtn = document.getElementById("run-btn");
      const stepBtn = document.getElementById("step-btn");
      const resetBtn = document.getElementById("reset-btn");
      const randomBtn = document.getElementById("random-btn");
      const speedBtn = document.getElementById("speed-btn");
      const status = document.getElementById("status");

      // Initialize visualization
      function initVisualization() {
        array = arrayInput.value
          .split(",")
          .map(Number)
          .filter((n) => !isNaN(n));
        if (array.length === 0) {
          array = [7, 3, 5, 1, 9, 4, 8, 2, 6];
          arrayInput.value = array.join(", ");
        }

        stack = [{ low: 0, high: array.length - 1 }];
        currentStep = 0;
        low = 0;
        high = array.length - 1;
        pivot = 0;
        i = 0;
        j = 0;
        k = 0;
        insertionMode = false;
        insertionIndex = 0;
        mergeMode = false;
        swapHighlight = [];

        renderArray();
        updateStatus("Ready. Click Step or Run to start sorting.");
      }

      // Render array visualization
      function renderArray() {
        arrayContainer.innerHTML = "";

        array.forEach((value, index) => {
          const element = document.createElement("div");
          element.className = "array-element";
          element.style.height = `${value * 25 + 50}px`;

          // Highlight current elements
          if (insertionMode && index === insertionIndex) {
            element.classList.add("current");
          }
          if (swapHighlight.includes(index)) {
            element.classList.add("swapped");
          }
          if (index === i || index === j || index === k) {
            element.classList.add("compared");
          }

          element.innerHTML = `
                    <div class="element-value">${value}</div>
                    <div class="element-index">${index}</div>
                `;

          arrayContainer.appendChild(element);
        });

        // Draw partition boundaries if in partitioning phase
        if (!insertionMode && !mergeMode && stack.length > 0) {
          const current = stack[stack.length - 1];
          drawBoundary(current.low, "Low");
          drawBoundary(current.high, "High");
        }
      }

      // Draw boundary marker
      function drawBoundary(position, label) {
        const boundary = document.createElement("div");
        boundary.className = "block-boundary";
        boundary.style.left = `${position * 45 + 22}px`;
        arrayContainer.appendChild(boundary);

        const labelEl = document.createElement("div");
        labelEl.className = "block-label";
        labelEl.textContent = label;
        labelEl.style.left = `${position * 45 + 10}px`;
        arrayContainer.appendChild(labelEl);
      }

      // Update status message
      function updateStatus(message) {
        status.textContent = message;
      }

      // Perform one step of Fluxsort
      function stepFluxsort() {
        if (stack.length === 0) {
          updateStatus("Sorting completed! Array is fully sorted.");
          return false;
        }

        const current = stack[stack.length - 1];
        low = current.low;
        high = current.high;
        const size = high - low + 1;

        // Handle small partitions with insertion sort
        if (size <= 8 && !insertionMode) {
          updateStatus(
            `Small partition (${size} elements), switching to Insertion Sort`
          );
          insertionMode = true;
          insertionIndex = low + 1;
          if (insertionIndex <= high) {
            insertionKey = array[insertionIndex];
          }
          return true;
        }

        // Insertion sort phase
        if (insertionMode) {
          if (insertionIndex > high) {
            // Insertion sort completed for this partition
            stack.pop();
            insertionMode = false;
            updateStatus(
              `Insertion sort completed for partition [${low}, ${high}]`
            );
            return true;
          }

          let pos = insertionIndex - 1;
          while (pos >= low && array[pos] > insertionKey) {
            array[pos + 1] = array[pos];
            pos--;
          }
          array[pos + 1] = insertionKey;

          swapHighlight = [pos + 1, insertionIndex];
          insertionIndex++;

          if (insertionIndex <= high) {
            insertionKey = array[insertionIndex];
            updateStatus(
              `Insertion sort: Placing element at index ${insertionIndex}`
            );
          }

          return true;
        }

        // Partitioning phase
        if (currentStep === 0) {
          // Select pivot using median-of-three
          const mid = Math.floor((low + high) / 2);
          pivot = medianOfThree(array[low], array[mid], array[high]);
          i = low;
          j = low;
          k = high;
          currentStep = 1;
          updateStatus(`Partitioning [${low}, ${high}]: Pivot = ${pivot}`);
        } else if (currentStep === 1) {
          if (j > k) {
            // Partitioning complete
            currentStep = 0;
            stack.pop();

            // Push right partition if needed
            if (k + 1 < high) {
              stack.push({ low: k + 1, high: high });
            }

            // Push left partition if needed
            if (low < i - 1) {
              stack.push({ low: low, high: i - 1 });
            }

            updateStatus(
              `Partitioning complete. Left: [${low}, ${i - 1}], Right: [${
                k + 1
              }, ${high}]`
            );
          } else {
            swapHighlight = [];
            if (array[j] < pivot) {
              [array[i], array[j]] = [array[j], array[i]];
              swapHighlight = [i, j];
              i++;
              j++;
              updateStatus(
                `Element ${array[j - 1]} < pivot, swapping with left`
              );
            } else if (array[j] > pivot) {
              [array[j], array[k]] = [array[k], array[j]];
              swapHighlight = [j, k];
              k--;
              updateStatus(
                `Element ${array[k + 1]} > pivot, swapping with right`
              );
            } else {
              j++;
              updateStatus(`Element ${array[j - 1]} == pivot, moving forward`);
            }
          }
        }

        return true;
      }

      // Median of three utility
      function medianOfThree(a, b, c) {
        if (a > b !== a > c) return a;
        else if (b > a !== b > c) return b;
        else return c;
      }

      // Event Listeners
      runBtn.addEventListener("click", function () {
        if (isRunning) {
          clearInterval(interval);
          isRunning = false;
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
          updateStatus("Paused. Click Run to continue.");
        } else {
          isRunning = true;
          runBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';

          interval = setInterval(() => {
            if (!stepFluxsort()) {
              clearInterval(interval);
              isRunning = false;
              runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
            }
            renderArray();
          }, speed);
        }
      });

      stepBtn.addEventListener("click", function () {
        if (isRunning) {
          clearInterval(interval);
          isRunning = false;
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        }

        stepFluxsort();
        renderArray();
      });

      resetBtn.addEventListener("click", function () {
        if (isRunning) {
          clearInterval(interval);
          isRunning = false;
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        }

        initVisualization();
      });

      randomBtn.addEventListener("click", function () {
        const length = Math.floor(Math.random() * 10) + 8; // 8-17 elements
        array = [];
        for (let i = 0; i < length; i++) {
          array.push(Math.floor(Math.random() * 30) + 1);
        }
        arrayInput.value = array.join(", ");
        initVisualization();
      });

      speedBtn.addEventListener("click", function () {
        if (speed === 2000) {
          speed = 1000;
          speedBtn.innerHTML = '<i class="fas fa-running"></i> Speed: Medium';
        } else if (speed === 1000) {
          speed = 500;
          speedBtn.innerHTML =
            '<i class="fas fa-tachometer-alt"></i> Speed: Fast';
        } else {
          speed = 2000;
          speedBtn.innerHTML = '<i class="fas fa-walking"></i> Speed: Slow';
        }

        if (isRunning) {
          clearInterval(interval);
          interval = setInterval(() => {
            if (!stepFluxsort()) {
              clearInterval(interval);
              isRunning = false;
              runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
            }
            renderArray();
          }, speed);
        }
      });

      arrayInput.addEventListener("change", initVisualization);

      // Initialize
      initVisualization();
    </script>
</body>
</html>
