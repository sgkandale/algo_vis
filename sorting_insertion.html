<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Insertion Sort | AlgoViz Hub</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-glow: rgba(99, 102, 241, 0.2);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --transition: all 0.3s ease;
        --radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glow: 0 0 15px var(--accent-glow);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--text);
        font-family: "Roboto", sans-serif;
        line-height: 1.6;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        position: relative;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--glow);
      }

      .logo-icon i {
        font-size: 24px;
        color: white;
      }

      .logo-text h1 {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 28px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo-text p {
        font-size: 14px;
        color: var(--text-secondary);
        letter-spacing: 1.5px;
      }

      .breadcrumb {
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 10px;
      }

      .breadcrumb a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      /* Algorithm Header */
      .algorithm-header {
        margin: 40px 0;
        text-align: center;
        padding: 20px;
        background: var(--card-bg);
        border-radius: var(--radius);
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
      }

      .algorithm-header .category {
        font-size: 18px;
        color: var(--accent-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 16px;
        font-weight: 600;
        font-family: "Roboto Mono", monospace;
        margin-top: 15px;
      }

      /* Main Content Layout */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      /* Algorithm Detail Sections */
      .section {
        background: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .section h2 {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section h2 i {
        color: var(--accent);
        width: 36px;
        height: 36px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .section p {
        color: var(--text-secondary);
        font-size: 17px;
        line-height: 1.8;
        margin-bottom: 20px;
      }

      .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        margin-bottom: 0;
        font-size: 15px;
      }

      /* Visualization Console */
      .visualization-console {
        background: rgba(15, 23, 42, 0.8);
        border-radius: var(--radius);
        padding: 25px;
        margin: 30px 0;
        border: 1px solid rgba(99, 102, 241, 0.3);
        box-shadow: var(--glow);
      }

      .console-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .console-header h3 {
        color: var(--accent-light);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .console-controls {
        display: flex;
        gap: 10px;
      }

      .console-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .console-btn:hover {
        background: var(--accent-light);
      }

      .console-btn.secondary {
        background: rgba(148, 163, 184, 0.2);
      }

      .visualization-area {
        height: 300px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        position: relative;
        overflow: hidden;
      }

      .visualization-area::before {
        content: "Algorithm Visualization";
        position: absolute;
        color: rgba(148, 163, 184, 0.5);
        font-size: 20px;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
      }

      .console-input {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .console-input input {
        flex: 1;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .console-input input:focus {
        outline: none;
        border-color: var(--accent);
      }

      /* Algorithm Properties */
      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 20px;
        font-weight: 700;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 14px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          gap: 25px;
          text-align: center;
        }

        .algorithm-header h1 {
          font-size: 32px;
        }

        .key-points {
          grid-template-columns: 1fr;
        }
      }

      /* Code Block Styling */
      .code-block {
        background: #0d1117;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
        overflow-x: auto;
        font-family: "Roboto Mono", monospace;
        font-size: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .code-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        color: var(--text-secondary);
      }

      .copy-btn {
        background: rgba(99, 102, 241, 0.2);
        color: var(--accent-light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 0.3);
      }

      .code-block pre {
        margin: 0;
      }

      .code-block code {
        color: #c9d1d9;
        line-height: 1.5;
      }

      .keyword {
        color: #ff7b72;
      }
      .function {
        color: #d2a8ff;
      }
      .comment {
        color: #8b949e;
      }
      .string {
        color: #a5d6ff;
      }
      .number {
        color: #79c0ff;
      }

      /* Visualization styles */
      .array-container {
        display: flex;
        align-items: flex-end;
        justify-content: center;
        height: 100%;
        padding: 20px;
        gap: 8px;
      }

      .array-bar {
        background: var(--accent);
        width: 40px;
        border-radius: 4px 4px 0 0;
        transition: all 0.3s ease;
        position: relative;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
      }

      .bar-label {
        position: absolute;
        bottom: -25px;
        left: 50%;
        transform: translateX(-50%);
        color: var(--text);
        font-size: 14px;
        font-weight: bold;
      }

      .key-element {
        background: var(--warning) !important;
        box-shadow: 0 0 10px var(--warning);
        animation: pulse 1s infinite;
      }

      .comparing {
        background: var(--danger) !important;
        box-shadow: 0 0 10px var(--danger);
      }

      .sorted {
        background: var(--success) !important;
      }

      .shifting {
        background: var(--accent-light) !important;
      }

      .status-bar {
        position: absolute;
        bottom: 10px;
        left: 0;
        width: 100%;
        text-align: center;
        color: var(--text);
        font-size: 18px;
        font-weight: 500;
      }

      .controls {
        display: flex;
        gap: 10px;
        margin-top: 15px;
        justify-content: center;
      }

      .slider-container {
        display: flex;
        align-items: center;
        gap: 10px;
        color: var(--text);
        font-size: 14px;
      }

      input[type="range"] {
        width: 150px;
      }

      .legend {
        display: flex;
        justify-content: center;
        gap: 20px;
        margin-top: 15px;
        flex-wrap: wrap;
      }

      .legend-item {
        display: flex;
        align-items: center;
        gap: 5px;
        font-size: 14px;
        color: var(--text);
      }

      .legend-color {
        width: 20px;
        height: 20px;
        border-radius: 4px;
      }

      .key-color {
        background: var(--warning);
      }

      .comparing-color {
        background: var(--danger);
      }

      .sorted-color {
        background: var(--success);
      }

      .shifting-color {
        background: var(--accent-light);
      }

      @keyframes pulse {
        0% {
          transform: scale(1);
        }
        50% {
          transform: scale(1.05);
        }
        100% {
          transform: scale(1);
        }
      }

      .position-pointer {
        position: absolute;
        top: -25px;
        left: 50%;
        transform: translateX(-50%);
        color: var(--warning);
        font-size: 14px;
        font-weight: bold;
      }

      .pointer-container {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <div class="logo">
          <div class="logo-icon floating">
            <i class="fas fa-project-diagram"></i>
          </div>
          <div class="logo-text">
            <h1>AlgoViz Hub</h1>
            <p>ALGORITHM VISUALIZATION REPOSITORY</p>
            <div class="breadcrumb">
              <a href="#"><i class="fas fa-home"></i> Home</a> >
              <a href="#">Sorting Algorithms</a> >
              <span>Insertion Sort</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Algorithm Header -->
      <div class="algorithm-header">
        <h1>Insertion Sort</h1>
        <div class="category">
          <i class="fas fa-sort-amount-down"></i> Sorting Algorithm
        </div>
        <div class="complexity-badge">Time Complexity: O(n²)</div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Left Column: Algorithm Details -->
        <div class="left-column">
          <!-- Description Section -->
          <div class="section">
            <h2><i class="fas fa-file-alt"></i> Algorithm Overview</h2>
            <p>
              Insertion Sort is a simple, efficient comparison-based sorting
              algorithm that builds the final sorted array one element at a
              time. It works similarly to how you might sort a hand of playing
              cards - by repeatedly taking the next element and inserting it
              into its correct position in the already sorted part.
            </p>
            <p>
              Despite its O(n²) time complexity, Insertion Sort performs well
              for small datasets and is often used as the base for more advanced
              algorithms like Shell Sort. It is particularly efficient when
              sorting nearly sorted arrays, where it can achieve O(n) time
              complexity.
            </p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-check-circle"></i> Key Feature</h3>
                <p>Efficient for small or nearly sorted datasets</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-bolt"></i> Performance</h3>
                <p>O(n²) worst-case, O(n) best-case (for sorted input)</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-memory"></i> Space</h3>
                <p>In-place sorting with O(1) additional space</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-project-diagram"></i> Approach</h3>
                <p>Builds sorted array by inserting elements one by one</p>
              </div>
            </div>
          </div>

          <!-- Visualization Console -->
          <div class="section">
            <h2>
              <i class="fas fa-laptop-code"></i> Interactive Visualization
            </h2>
            <p>
              Use the interactive console below to visualize how Insertion Sort
              works. The algorithm works by maintaining a sorted sublist and
              inserting each new element into its correct position. Watch as
              elements are shifted to make room for the "key" element being
              inserted.
            </p>

            <div class="visualization-console">
              <div class="console-header">
                <h3>
                  <i class="fas fa-play-circle"></i> Insertion Sort
                  Visualization
                </h3>
                <div class="console-controls">
                  <button id="reset-btn" class="console-btn secondary">
                    <i class="fas fa-redo"></i> Reset
                  </button>
                  <button id="run-btn" class="console-btn">
                    <i class="fas fa-play"></i> Run
                  </button>
                  <button id="step-btn" class="console-btn secondary">
                    <i class="fas fa-step-forward"></i> Step
                  </button>
                </div>
              </div>

              <div class="visualization-area" id="visualization-area">
                <div class="array-container" id="array-container"></div>
                <div class="status-bar" id="status-bar">Ready to visualize</div>
              </div>

              <div class="legend">
                <div class="legend-item">
                  <div class="legend-color key-color"></div>
                  <span>Key Element</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color comparing-color"></div>
                  <span>Comparing</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color shifting-color"></div>
                  <span>Shifting</span>
                </div>
                <div class="legend-item">
                  <div class="legend-color sorted-color"></div>
                  <span>Sorted</span>
                </div>
              </div>

              <div class="controls">
                <div class="slider-container">
                  <span>Speed:</span>
                  <input
                    type="range"
                    id="speed-slider"
                    min="1"
                    max="10"
                    value="5"
                  />
                  <span id="speed-value">Medium</span>
                </div>
              </div>

              <div class="console-input">
                <input
                  type="text"
                  id="array-input"
                  placeholder="Enter numbers (e.g., 5, 3, 8, 1, 2, 7, 4, 6)"
                  value="8, 3, 5, 1, 4, 2, 7, 6"
                />
                <button id="random-btn" class="console-btn">
                  <i class="fas fa-random"></i> Random
                </button>
              </div>
            </div>
          </div>

          <!-- Algorithm Steps -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Algorithm Steps</h2>
            <p>Insertion Sort involves the following steps to sort an array:</p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-key"></i> 1. Select Key</h3>
                <p>
                  Start with the second element as the key (first element is
                  considered sorted)
                </p>
              </div>
              <div class="point-card">
                <h3>
                  <i class="fas fa-exchange-alt"></i> 2. Compare and Shift
                </h3>
                <p>
                  Compare the key with elements to its left and shift larger
                  elements right
                </p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-map-marker-alt"></i> 3. Insert Key</h3>
                <p>
                  Insert the key into its correct position in the sorted
                  subarray
                </p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-forward"></i> 4. Move to Next</h3>
                <p>Move to the next element and repeat the process</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-flag-checkered"></i> 5. Completion</h3>
                <p>After processing all elements, the array is sorted</p>
              </div>
            </div>
          </div>

          <!-- Pseudocode Section -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Pseudocode</h2>
            <div class="code-block">
              <pre><code>procedure insertionSort(array)
    for i from 1 to length(array) - 1
        key = array[i]
        j = i - 1
        
        // Move elements greater than key to the right
        while j >= 0 and array[j] > key
            array[j+1] = array[j]
            j = j - 1
        end while
        
        // Insert key in correct position
        array[j+1] = key
    end for
end procedure</code></pre>
            </div>
          </div>

          <!-- Implementation Section -->
          <div class="section">
            <h2><i class="fas fa-code"></i> Implementation</h2>
            <p>
              Below is a Python implementation of the Insertion Sort algorithm.
              The algorithm maintains a sorted subarray and inserts each new
              element into its correct position by shifting larger elements to
              the right.
            </p>

            <div class="code-block">
              <div class="code-header">
                <span>Python Implementation</span>
                <button class="copy-btn">
                  <i class="fas fa-copy"></i> Copy Code
                </button>
              </div>
              <pre><code><span class="keyword">def</span> <span class="function">insertion_sort</span>(arr):
    <span class="comment"># Traverse from 1 to len(arr)</span>
    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(arr)):
        key = arr[i]
        <span class="comment"># Move elements of arr[0..i-1] that are greater than key</span>
        <span class="comment"># to one position ahead of their current position</span>
        j = i - <span class="number">1</span>
        <span class="keyword">while</span> j >= <span class="number">0</span> <span class="keyword">and</span> key < arr[j]:
            arr[j + <span class="number">1</span>] = arr[j]
            j -= <span class="number">1</span>
        arr[j + <span class="number">1</span>] = key
        
    <span class="keyword">return</span> arr

<span class="comment"># Example usage</span>
arr = [<span class="number">12</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">5</span>, <span class="number">6</span>]
sorted_arr = insertion_sort(arr)
print(<span class="string">"Sorted array:"</span>, sorted_arr)</code></pre>
            </div>
          </div>
        </div>

        <!-- Right Column: Additional Info -->
        <div class="right-column">
          <!-- Properties Section -->
          <div class="section">
            <h2><i class="fas fa-info-circle"></i> Algorithm Properties</h2>
            <div class="properties-grid">
              <div class="property-card">
                <h4>Category</h4>
                <div class="value">Sorting</div>
              </div>
              <div class="property-card">
                <h4>Type</h4>
                <div class="value">Comparison</div>
              </div>
              <div class="property-card">
                <h4>Stable</h4>
                <div class="value">Yes</div>
              </div>
              <div class="property-card">
                <h4>In-place</h4>
                <div class="value">Yes</div>
              </div>
              <div class="property-card">
                <h4>Best Case</h4>
                <div class="value">O(n)</div>
              </div>
              <div class="property-card">
                <h4>Worst Case</h4>
                <div class="value">O(n²)</div>
              </div>
              <div class="property-card">
                <h4>Average Case</h4>
                <div class="value">O(n²)</div>
              </div>
              <div class="property-card">
                <h4>Space</h4>
                <div class="value">O(1)</div>
              </div>
            </div>
          </div>

          <!-- Applications Section -->
          <div class="section">
            <h2><i class="fas fa-lightbulb"></i> Applications</h2>
            <p>
              Insertion Sort is used in various scenarios where efficiency for
              small datasets is important:
            </p>
            <ul
              style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              "
            >
              <li style="margin-bottom: 10px">
                Sorting small datasets (n ≤ 100)
              </li>
              <li style="margin-bottom: 10px">
                Sorting nearly sorted arrays (adaptive nature)
              </li>
              <li style="margin-bottom: 10px">
                Online algorithms where input is received sequentially
              </li>
              <li style="margin-bottom: 10px">
                As the base for more complex algorithms like Shell Sort
              </li>
              <li>Implementing other algorithms like Timsort</li>
            </ul>
          </div>

          <!-- Algorithm Complexity -->
          <div class="section">
            <h2><i class="fas fa-chart-line"></i> Complexity Analysis</h2>
            <p>Insertion Sort's time complexity varies based on the input:</p>
            <div class="point-card" style="margin-top: 20px">
              <h3><i class="fas fa-star"></i> Best Case: O(n)</h3>
              <p>
                When the array is already sorted, only one comparison per
                element
              </p>
            </div>
            <div class="point-card">
              <h3><i class="fas fa-star-half-alt"></i> Average Case: O(n²)</h3>
              <p>
                For randomly ordered arrays, requires shifting half the elements
              </p>
            </div>
            <div class="point-card">
              <h3><i class="fas fa-star"></i> Worst Case: O(n²)</h3>
              <p>
                When the array is reverse sorted, maximum comparisons and shifts
              </p>
            </div>
          </div>

          <!-- Advantages Section -->
          <div class="section">
            <h2><i class="fas fa-thumbs-up"></i> Advantages</h2>
            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-bolt"></i> Adaptive</h3>
                <p>Efficient for nearly sorted data (O(n) time)</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-memory"></i> Space Efficient</h3>
                <p>Only requires O(1) additional space</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-code"></i> Simple</h3>
                <p>Easy to understand and implement</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-sync"></i> Online</h3>
                <p>Can sort data as it's received</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer>
        <div class="footer-links">
          <a href="#"><i class="fas fa-book"></i> Documentation</a>
          <a href="#"><i class="fas fa-code-branch"></i> Contribute</a>
          <a href="#"><i class="fas fa-chalkboard-teacher"></i> Tutorials</a>
          <a href="#"><i class="fas fa-bug"></i> Report Issue</a>
          <a href="#"><i class="fas fa-envelope"></i> Contact</a>
        </div>
        <p>AlgoViz Hub - Interactive Algorithm Visualization Platform</p>
        <p>&copy; 2025 AlgoViz Hub. All rights reserved.</p>
      </footer>
    </div>

    <script>
      // DOM Elements
      const arrayInput = document.getElementById("array-input");
      const randomBtn = document.getElementById("random-btn");
      const runBtn = document.getElementById("run-btn");
      const stepBtn = document.getElementById("step-btn");
      const resetBtn = document.getElementById("reset-btn");
      const speedSlider = document.getElementById("speed-slider");
      const speedValue = document.getElementById("speed-value");
      const arrayContainer = document.getElementById("array-container");
      const statusBar = document.getElementById("status-bar");

      // Algorithm state
      let array = [];
      let originalArray = [];
      let animationSpeed = 500;
      let isRunning = false;
      let sortedIndices = [];
      let i = 1; // Start from second element
      let j = 0;
      let key = 0;
      let comparing = false;
      let shifting = false;
      let keyPosition = 1;

      // Initialize with default array
      initializeArray();

      // Event Listeners
      randomBtn.addEventListener("click", generateRandomArray);
      runBtn.addEventListener("click", toggleRun);
      stepBtn.addEventListener("click", stepForward);
      resetBtn.addEventListener("click", resetVisualization);
      arrayInput.addEventListener("change", handleArrayInput);
      speedSlider.addEventListener("input", handleSpeedChange);

      // Functions
      function initializeArray() {
        const input = arrayInput.value;
        array = input
          .split(",")
          .map((num) => parseInt(num.trim()))
          .filter((num) => !isNaN(num));

        // If empty or invalid, generate random array
        if (array.length < 3) {
          generateRandomArray();
          return;
        }

        resetVisualization();
        renderArray();
      }

      function generateRandomArray() {
        const size = Math.floor(Math.random() * 8) + 5; // 5-12 elements
        array = [];
        for (let i = 0; i < size; i++) {
          array.push(Math.floor(Math.random() * 90) + 10); // 10-99
        }
        arrayInput.value = array.join(", ");
        resetVisualization();
        renderArray();
      }

      function handleArrayInput() {
        initializeArray();
      }

      function handleSpeedChange() {
        const speed = parseInt(speedSlider.value);
        animationSpeed = 600 - speed * 50; // 550ms to 100ms

        // Update speed label
        if (speed <= 3) speedValue.textContent = "Slow";
        else if (speed <= 7) speedValue.textContent = "Medium";
        else speedValue.textContent = "Fast";
      }

      function renderArray() {
        arrayContainer.innerHTML = "";

        // Find max value for scaling
        const maxValue = Math.max(...array);
        const containerHeight = 300 - 40; // Account for padding and labels

        array.forEach((value, index) => {
          const barHeight = (value / maxValue) * containerHeight;
          const barContainer = document.createElement("div");
          barContainer.className = "pointer-container";

          const bar = document.createElement("div");
          bar.className = "array-bar";
          bar.style.height = `${barHeight}px`;

          // Add color classes based on state
          if (sortedIndices.includes(index) && index < i) {
            bar.classList.add("sorted");
          }

          if (index === keyPosition) {
            bar.classList.add("key-element");
            const pointer = document.createElement("div");
            pointer.className = "position-pointer";
            pointer.textContent = "Key";
            barContainer.appendChild(pointer);
          } else if (index === j && comparing) {
            bar.classList.add("comparing");
          } else if (shifting && index === j + 1) {
            bar.classList.add("shifting");
          }

          // Add label
          const label = document.createElement("div");
          label.className = "bar-label";
          label.textContent = value;

          bar.appendChild(label);
          barContainer.appendChild(bar);
          arrayContainer.appendChild(barContainer);
        });
      }

      function resetVisualization() {
        isRunning = false;
        i = 1;
        j = 0;
        key = 0;
        comparing = false;
        shifting = false;
        keyPosition = 1;
        sortedIndices = [0]; // First element is initially sorted
        originalArray = [...array];
        runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        statusBar.textContent = "Ready to visualize";
        renderArray();
      }

      function toggleRun() {
        if (isRunning) {
          // Pause the animation
          isRunning = false;
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        } else {
          // Start or resume the animation
          isRunning = true;
          runBtn.innerHTML = '<i class="fas fa-pause"></i> Pause';
          runAlgorithm();
        }
      }

      function stepForward() {
        if (!isRunning) {
          performSortStep();
        }
      }

      function performSortStep() {
        if (i >= array.length) {
          // Algorithm completed
          statusBar.textContent = "Sorting completed!";
          sortedIndices = Array.from(Array(array.length).keys());
          renderArray();
          isRunning = false;
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
          return;
        }

        if (!comparing && !shifting) {
          // Start new key
          key = array[i];
          keyPosition = i;
          j = i - 1;
          comparing = true;
          statusBar.textContent = `Selected key: ${key} at position ${i}`;
        } else if (j >= 0 && array[j] > key) {
          // Shift element to the right
          array[j + 1] = array[j];
          shifting = true;
          statusBar.textContent = `Shifting ${
            array[j]
          } from position ${j} to position ${j + 1}`;

          // Reset states after shift animation
          setTimeout(() => {
            shifting = false;
            comparing = true;
            j--;
            renderArray();
          }, 300);
        } else {
          // Insert key in correct position
          array[j + 1] = key;
          sortedIndices.push(j + 1);
          statusBar.textContent = `Inserted key ${key} at position ${j + 1}`;
          i++;
          comparing = false;
          shifting = false;
          keyPosition = i;
        }

        renderArray();
      }

      async function runAlgorithm() {
        while (isRunning && i < array.length) {
          performSortStep();

          // Add delay for animation
          await new Promise((resolve) => setTimeout(resolve, animationSpeed));
        }

        // If we reached the end but the algorithm isn't complete
        if (i >= array.length && isRunning) {
          performSortStep(); // Final step to mark as complete
        }
      }

      // Copy button functionality
      document.querySelectorAll(".copy-btn").forEach((button) => {
        button.addEventListener("click", function () {
          const codeBlock = this.closest(".code-block").querySelector("code");
          const code = codeBlock.innerText;
          navigator.clipboard.writeText(code);

          // Show feedback
          const originalText = this.innerHTML;
          this.innerHTML = '<i class="fas fa-check"></i> Copied!';

          setTimeout(() => {
            this.innerHTML = originalText;
          }, 2000);
        });
      });
    </script>
  </body>
</html>
