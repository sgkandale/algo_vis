<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spreadsort | AlgoViz Hub</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@300;400;500;700&family=Roboto:wght@300;400;500;700&display=swap"
      rel="stylesheet"
    />
    <style>
      :root {
        --primary: #0f172a;
        --secondary: #1e293b;
        --accent: #6366f1;
        --accent-light: #818cf8;
        --accent-glow: rgba(99, 102, 241, 0.2);
        --text: #e2e8f0;
        --text-secondary: #94a3b8;
        --card-bg: rgba(30, 41, 59, 0.7);
        --success: #10b981;
        --warning: #f59e0b;
        --danger: #ef4444;
        --transition: all 0.3s ease;
        --radius: 12px;
        --shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
        --glow: 0 0 15px var(--accent-glow);
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        background: linear-gradient(135deg, var(--primary), var(--secondary));
        color: var(--text);
        font-family: "Roboto", sans-serif;
        line-height: 1.6;
        min-height: 100vh;
        padding: 0;
        position: relative;
        overflow-x: hidden;
      }

      body::before {
        content: "";
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: radial-gradient(
            circle at 10% 20%,
            rgba(99, 102, 241, 0.1) 0%,
            transparent 20%
          ),
          radial-gradient(
            circle at 90% 80%,
            rgba(129, 140, 248, 0.1) 0%,
            transparent 20%
          );
        z-index: -1;
      }

      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
      }

      /* Header Styles */
      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px 0;
        position: relative;
        border-bottom: 1px solid rgba(148, 163, 184, 0.2);
      }

      .logo {
        display: flex;
        align-items: center;
        gap: 15px;
      }

      .logo-icon {
        width: 50px;
        height: 50px;
        background: var(--accent);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: var(--glow);
      }

      .logo-icon i {
        font-size: 24px;
        color: white;
      }

      .logo-text h1 {
        font-family: "Roboto Mono", monospace;
        font-weight: 700;
        font-size: 28px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
      }

      .logo-text p {
        font-size: 14px;
        color: var(--text-secondary);
        letter-spacing: 1.5px;
      }

      .breadcrumb {
        font-size: 14px;
        color: var(--text-secondary);
        margin-top: 10px;
      }

      .breadcrumb a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .breadcrumb a:hover {
        text-decoration: underline;
      }

      /* Algorithm Header */
      .algorithm-header {
        margin: 40px 0;
        text-align: center;
        padding: 20px;
        background: var(--card-bg);
        border-radius: var(--radius);
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .algorithm-header::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .algorithm-header h1 {
        font-size: 42px;
        margin-bottom: 15px;
        background: linear-gradient(
          to right,
          var(--accent-light),
          var(--accent)
        );
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: 800;
      }

      .algorithm-header .category {
        font-size: 18px;
        color: var(--accent-light);
        margin-bottom: 20px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
      }

      .complexity-badge {
        display: inline-block;
        background: rgba(129, 140, 248, 0.2);
        color: var(--accent-light);
        padding: 6px 15px;
        border-radius: 20px;
        font-size: 16px;
        font-weight: 600;
        font-family: "Roboto Mono", monospace;
        margin-top: 15px;
      }

      /* Main Content Layout */
      .main-content {
        display: grid;
        grid-template-columns: 1fr 350px;
        gap: 30px;
        margin-bottom: 40px;
      }

      @media (max-width: 900px) {
        .main-content {
          grid-template-columns: 1fr;
        }
      }

      /* Algorithm Detail Sections */
      .section {
        background: var(--card-bg);
        border-radius: var(--radius);
        box-shadow: var(--shadow);
        padding: 30px;
        margin-bottom: 30px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        backdrop-filter: blur(10px);
        position: relative;
        overflow: hidden;
      }

      .section::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 4px;
        background: linear-gradient(
          to right,
          var(--accent),
          var(--accent-light)
        );
      }

      .section h2 {
        font-size: 26px;
        margin-bottom: 20px;
        color: var(--accent-light);
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .section h2 i {
        color: var(--accent);
        width: 36px;
        height: 36px;
        background: rgba(99, 102, 241, 0.2);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .section p {
        color: var(--text-secondary);
        font-size: 17px;
        line-height: 1.8;
        margin-bottom: 20px;
      }

      .key-points {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .point-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
      }

      .point-card h3 {
        color: var(--accent-light);
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .point-card h3 i {
        color: var(--accent);
      }

      .point-card p {
        margin-bottom: 0;
        font-size: 15px;
      }

      /* Visualization Console */
      .visualization-console {
        background: rgba(15, 23, 42, 0.8);
        border-radius: var(--radius);
        padding: 25px;
        margin: 30px 0;
        border: 1px solid rgba(99, 102, 241, 0.3);
        box-shadow: var(--glow);
      }

      .console-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
      }

      .console-header h3 {
        color: var(--accent-light);
        font-size: 20px;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .console-controls {
        display: flex;
        gap: 10px;
      }

      .console-btn {
        background: var(--accent);
        color: white;
        border: none;
        padding: 8px 15px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .console-btn:hover {
        background: var(--accent-light);
      }

      .console-btn.secondary {
        background: rgba(148, 163, 184, 0.2);
      }

      .visualization-area {
        height: 300px;
        background: rgba(0, 0, 0, 0.3);
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        overflow: hidden;
      }

      .visualization-area::before {
        content: "Algorithm Visualization";
        position: absolute;
        color: rgba(148, 163, 184, 0.5);
        font-size: 20px;
      }

      .console-input {
        display: flex;
        gap: 10px;
        margin-top: 20px;
      }

      .console-input input {
        flex: 1;
        padding: 12px 15px;
        background: rgba(0, 0, 0, 0.3);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 5px;
        color: var(--text);
        font-family: "Roboto Mono", monospace;
      }

      .console-input input:focus {
        outline: none;
        border-color: var(--accent);
      }

      /* Algorithm Properties */
      .properties-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }

      .property-card {
        background: rgba(15, 23, 42, 0.5);
        border-radius: var(--radius);
        padding: 20px;
        border: 1px solid rgba(148, 163, 184, 0.1);
        text-align: center;
      }

      .property-card h4 {
        color: var(--text-secondary);
        font-size: 14px;
        margin-bottom: 8px;
        font-weight: 400;
      }

      .property-card .value {
        font-size: 20px;
        font-weight: 700;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
      }

      /* Footer */
      footer {
        text-align: center;
        padding: 40px 0 30px;
        color: var(--text-secondary);
        font-size: 14px;
        border-top: 1px solid rgba(148, 163, 184, 0.1);
        margin-top: 40px;
      }

      footer p {
        margin: 10px 0;
      }

      .footer-links {
        display: flex;
        justify-content: center;
        gap: 25px;
        margin-top: 15px;
        flex-wrap: wrap;
        margin-bottom: 20px;
      }

      .footer-links a {
        color: var(--accent-light);
        text-decoration: none;
        transition: var(--transition);
      }

      .footer-links a:hover {
        color: var(--accent);
      }

      /* Animations */
      @keyframes float {
        0% {
          transform: translateY(0px);
        }
        50% {
          transform: translateY(-10px);
        }
        100% {
          transform: translateY(0px);
        }
      }

      .floating {
        animation: float 6s ease-in-out infinite;
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        header {
          flex-direction: column;
          gap: 25px;
          text-align: center;
        }

        .algorithm-header h1 {
          font-size: 32px;
        }

        .key-points {
          grid-template-columns: 1fr;
        }
      }

      /* Code Block Styling */
      .code-block {
        background: #0d1117;
        border-radius: 8px;
        padding: 20px;
        margin: 25px 0;
        overflow-x: auto;
        font-family: "Roboto Mono", monospace;
        font-size: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .code-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 15px;
        color: var(--text-secondary);
      }

      .copy-btn {
        background: rgba(99, 102, 241, 0.2);
        color: var(--accent-light);
        border: none;
        padding: 5px 10px;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Roboto Mono", monospace;
        transition: var(--transition);
      }

      .copy-btn:hover {
        background: rgba(99, 102, 241, 0.3);
      }

      .code-block pre {
        margin: 0;
      }

      .code-block code {
        color: #c9d1d9;
        line-height: 1.5;
      }

      .keyword {
        color: #ff7b72;
      }
      .function {
        color: #d2a8ff;
      }
      .comment {
        color: #8b949e;
      }
      .string {
        color: #a5d6ff;
      }
      .number {
        color: #79c0ff;
      }

      /* Visualization Styles */
      .spreadsort-container {
        display: flex;
        flex-direction: column;
        width: 100%;
        height: 100%;
        padding: 15px;
        gap: 15px;
      }

      .array-section {
        background: rgba(15, 23, 42, 0.5);
        border-radius: 8px;
        padding: 15px;
        border: 1px solid rgba(99, 102, 241, 0.3);
      }

      .array-section h4 {
        color: var(--accent-light);
        margin-bottom: 10px;
        font-family: "Roboto Mono", monospace;
        font-size: 16px;
        display: flex;
        align-items: center;
        gap: 8px;
      }

      .array-section h4 i {
        color: var(--accent);
      }

      .array-bars {
        display: flex;
        align-items: flex-end;
        gap: 4px;
        min-height: 60px;
        padding: 10px 5px;
        flex-wrap: wrap;
      }

      .array-bar {
        width: 30px;
        background: var(--accent);
        border-radius: 4px 4px 0 0;
        transition: all 0.3s ease;
        position: relative;
        display: flex;
        justify-content: center;
        color: white;
        font-size: 12px;
        font-weight: bold;
      }

      .array-bar.active {
        background: var(--warning);
        box-shadow: 0 0 10px var(--warning);
      }

      .array-bar.compared {
        background: var(--danger);
      }

      .array-bar.sorted {
        background: var(--success);
      }

      .array-bar.bucket-highlight {
        background: var(--accent-light);
      }

      .buckets-container {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin-top: 15px;
      }

      .bucket {
        background: rgba(15, 23, 42, 0.7);
        border-radius: 8px;
        padding: 10px;
        border: 1px solid rgba(99, 102, 241, 0.3);
        min-width: 100px;
      }

      .bucket-header {
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
        margin-bottom: 8px;
        text-align: center;
      }

      .bucket-items {
        display: flex;
        flex-direction: column;
        gap: 5px;
        min-height: 40px;
      }

      .bucket-bar {
        height: 20px;
        background: var(--accent);
        border-radius: 4px;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 10px;
        transition: all 0.3s ease;
      }

      .stats-container {
        display: flex;
        justify-content: space-around;
        margin-top: 15px;
        color: var(--accent-light);
        font-family: "Roboto Mono", monospace;
        font-size: 14px;
      }

      .stat-item {
        background: rgba(99, 102, 241, 0.1);
        padding: 5px 10px;
        border-radius: 5px;
      }

      .explanation {
        background: rgba(30, 41, 59, 0.6);
        border-radius: 8px;
        padding: 15px;
        margin-top: 15px;
        font-family: "Roboto Mono", monospace;
        font-size: 14px;
        color: var(--accent-light);
        border-left: 3px solid var(--accent);
      }
    </style>
  </head>
  <body>
    <div class="container">
      <!-- Header -->
      <header>
        <div class="logo">
          <div class="logo-icon floating">
            <i class="fas fa-sort-amount-down"></i>
          </div>
          <div class="logo-text">
            <h1>AlgoViz Hub</h1>
            <p>ALGORITHM VISUALIZATION REPOSITORY</p>
            <div class="breadcrumb">
              <a href="#"><i class="fas fa-home"></i> Home</a> >
              <a href="#">Sorting Algorithms</a> >
              <span>Spreadsort</span>
            </div>
          </div>
        </div>
      </header>

      <!-- Algorithm Header -->
      <div class="algorithm-header">
        <h1>Spreadsort</h1>
        <div class="category">
          <i class="fas fa-sort-amount-down"></i> Hybrid Sorting Algorithm
        </div>
        <div class="complexity-badge">Time Complexity: O(n log n) average</div>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Left Column: Algorithm Details -->
        <div class="left-column">
          <!-- Description Section -->
          <div class="section">
            <h2><i class="fas fa-file-alt"></i> Algorithm Overview</h2>
            <p>
              Spreadsort is a highly efficient hybrid sorting algorithm that
              combines the best features of distribution-based sorts (like
              Bucket sort) and comparison-based sorts (like Quicksort). It works
              by recursively dividing the input into buckets based on
              significant bits and then applying a comparison sort to each
              bucket.
            </p>
            <p>
              The algorithm was developed by Steven J. Ross in 2002 as an
              improvement over traditional sorting algorithms. Spreadsort adapts
              to the distribution of the input data, making it particularly
              efficient for real-world datasets that often have uneven
              distributions.
            </p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-tachometer-alt"></i> Performance</h3>
                <p>
                  O(n log n) average case, O(n log k) for uniformly distributed
                  keys
                </p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-layer-group"></i> Hybrid Approach</h3>
                <p>Combines bucket distribution with comparison sorting</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-microchip"></i> Adaptability</h3>
                <p>
                  Automatically adjusts to data distribution characteristics
                </p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-bolt"></i> Efficiency</h3>
                <p>Outperforms std::sort in many real-world scenarios</p>
              </div>
            </div>
          </div>

          <!-- Visualization Console -->
          <div class="section">
            <h2>
              <i class="fas fa-laptop-code"></i> Interactive Visualization
            </h2>
            <p>
              Visualize Spreadsort in action. The visualization shows how the
              algorithm recursively distributes elements into buckets based on
              their significant bits and then sorts each bucket. Use the
              controls to step through the process or run it automatically.
            </p>

            <div class="visualization-console">
              <div class="console-header">
                <h3>
                  <i class="fas fa-project-diagram"></i> Spreadsort
                  Visualization
                </h3>
                <div class="console-controls">
                  <button class="console-btn secondary" id="step-btn">
                    <i class="fas fa-step-forward"></i> Step
                  </button>
                  <button class="console-btn" id="run-btn">
                    <i class="fas fa-play"></i> Run
                  </button>
                  <button class="console-btn secondary" id="reset-btn">
                    <i class="fas fa-redo"></i> Reset
                  </button>
                </div>
              </div>

              <div class="visualization-area" id="visualization-area">
                <div class="spreadsort-container">
                  <div class="array-section">
                    <h4><i class="fas fa-list-ol"></i> Current Array</h4>
                    <div class="array-bars" id="current-array"></div>
                  </div>

                  <div id="buckets-section" class="array-section">
                    <h4><i class="fas fa-folder"></i> Buckets</h4>
                    <div class="buckets-container" id="buckets-container"></div>
                  </div>

                  <div class="stats-container">
                    <div class="stat-item">
                      Recursion Depth: <span id="depth">0</span>
                    </div>
                    <div class="stat-item">
                      Comparisons: <span id="comparisons">0</span>
                    </div>
                    <div class="stat-item">
                      Buckets: <span id="bucket-count">0</span>
                    </div>
                  </div>

                  <div id="explanation" class="explanation">
                    Initializing Spreadsort visualization...
                  </div>
                </div>
              </div>

              <div class="console-input">
                <input
                  type="text"
                  id="array-input"
                  placeholder="Enter numbers (e.g., 5, 3, 8, 1, 2, 7, 4, 6)"
                  value="38, 27, 43, 3, 9, 82, 10, 15, 22, 51, 17, 64"
                />
                <button class="console-btn" id="random-btn">
                  <i class="fas fa-random"></i> Random
                </button>
              </div>
            </div>
          </div>

          <!-- Algorithm Steps -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Algorithm Steps</h2>
            <p>
              Spreadsort works through a recursive process of distribution and
              sorting:
            </p>

            <div class="key-points">
              <div class="point-card">
                <h3><i class="fas fa-search"></i> 1. Find Range</h3>
                <p>Determine the minimum and maximum values in the input</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-sitemap"></i> 2. Calculate Buckets</h3>
                <p>Divide the range into buckets based on significant bits</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-boxes"></i> 3. Distribute Elements</h3>
                <p>Place each element into the appropriate bucket</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-sort"></i> 4. Recursively Sort Buckets</h3>
                <p>Apply Spreadsort to buckets with many elements</p>
              </div>
              <div class="point-card">
                <h3><i class="fas fa-merge"></i> 5. Combine Results</h3>
                <p>
                  Concatenate the sorted buckets to form the final sorted array
                </p>
              </div>
            </div>
          </div>

          <!-- Pseudocode Section -->
          <div class="section">
            <h2><i class="fas fa-list-ol"></i> Pseudocode</h2>
            <div class="code-block">
              <pre><code>procedure spreadsort(arr, depth = 0)
    if length(arr) <= threshold or depth > max_depth
        use comparison sort (e.g., introsort) on arr
        return
    
    // Find min and max
    min_val = min(arr)
    max_val = max(arr)
    
    // Calculate bucket count and range
    bucket_count = min(2^bits, length(arr))
    range = max_val - min_val
    if range == 0: return arr  // All elements equal
    
    // Distribute elements into buckets
    buckets = array of bucket_count empty lists
    for each element in arr:
        bucket_index = ((element - min_val) * bucket_count) / (range + 1)
        buckets[bucket_index].append(element)
    
    // Recursively sort each bucket
    for each bucket in buckets:
        if bucket size > threshold:
            spreadsort(bucket, depth + 1)
        else:
            sort bucket with comparison sort
    
    // Concatenate buckets
    result = []
    for each bucket in buckets:
        result.append(bucket)
    return result</code></pre>
            </div>
          </div>

          <!-- Implementation Section -->
          <div class="section">
            <h2><i class="fas fa-code"></i> Implementation</h2>
            <p>
              Below is a Python implementation of Spreadsort. Note that this is
              a simplified version for demonstration purposes.
            </p>

            <div class="code-block">
              <div class="code-header">
                <span>Python Implementation</span>
                <button class="copy-btn">
                  <i class="fas fa-copy"></i> Copy Code
                </button>
              </div>
              <pre><code><span class="keyword">def</span> <span class="function">spreadsort</span>(arr, depth=0, max_depth=10, threshold=16):
    <span class="keyword">if</span> len(arr) <= threshold <span class="keyword">or</span> depth > max_depth:
        <span class="comment"># Use built-in sort for small buckets or max depth reached</span>
        <span class="keyword">return</span> sorted(arr)
    
    <span class="comment"># Find min and max</span>
    min_val = min(arr)
    max_val = max(arr)
    
    <span class="comment"># If all elements are the same, return</span>
    <span class="keyword">if</span> min_val == max_val:
        <span class="keyword">return</span> arr
        
    <span class="comment"># Calculate bucket parameters</span>
    bucket_count = min(1 << 4, len(arr))  <span class="comment"># 16 buckets max</span>
    range_val = max_val - min_val
    
    <span class="comment"># Create buckets</span>
    buckets = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> range(bucket_count)]
    
    <span class="comment"># Distribute elements into buckets</span>
    <span class="keyword">for</span> num <span class="keyword">in</span> arr:
        <span class="comment"># Calculate bucket index</span>
        index = int(((num - min_val) / range_val) * (bucket_count - 1))
        buckets[index].append(num)
    
    <span class="comment"># Recursively sort each bucket</span>
    sorted_buckets = []
    <span class="keyword">for</span> bucket <span class="keyword">in</span> buckets:
        <span class="keyword">if</span> len(bucket) > threshold:
            sorted_buckets.append(spreadsort(bucket, depth + 1, max_depth, threshold))
        <span class="keyword">else</span>:
            sorted_buckets.append(sorted(bucket))
    
    <span class="comment"># Concatenate sorted buckets</span>
    <span class="keyword">return</span> [num <span class="keyword">for</span> bucket <span class="keyword">in</span> sorted_buckets <span class="keyword">for</span> num <span class="keyword">in</span> bucket]

<span class="comment"># Example usage</span>
arr = [38, 27, 43, 3, 9, 82, 10, 15, 22, 51, 17, 64]
sorted_arr = spreadsort(arr)
print(<span class="string">"Sorted array:"</span>, sorted_arr)
<span class="comment"># Output: Sorted array: [3, 9, 10, 15, 17, 22, 27, 38, 43, 51, 64, 82]</span></code></pre>
            </div>
          </div>
        </div>

        <!-- Right Column: Additional Info -->
        <div class="right-column">
          <!-- Properties Section -->
          <div class="section">
            <h2><i class="fas fa-info-circle"></i> Algorithm Properties</h2>
            <div class="properties-grid">
              <div class="property-card">
                <h4>Category</h4>
                <div class="value">Hybrid Sort</div>
              </div>
              <div class="property-card">
                <h4>Type</h4>
                <div class="value">Distribution + Comparison</div>
              </div>
              <div class="property-card">
                <h4>Stable</h4>
                <div class="value">No</div>
              </div>
              <div class="property-card">
                <h4>In-place</h4>
                <div class="value">No</div>
              </div>
              <div class="property-card">
                <h4>Best Case</h4>
                <div class="value">O(n)</div>
              </div>
              <div class="property-card">
                <h4>Worst Case</h4>
                <div class="value">O(n log n)</div>
              </div>
              <div class="property-card">
                <h4>Average Case</h4>
                <div class="value">O(n log n)</div>
              </div>
              <div class="property-card">
                <h4>Space</h4>
                <div class="value">O(n)</div>
              </div>
            </div>
          </div>

          <!-- Applications Section -->
          <div class="section">
            <h2><i class="fas fa-lightbulb"></i> Applications</h2>
            <p>Spreadsort is particularly effective in:</p>
            <ul
              style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              "
            >
              <li style="margin-bottom: 10px">
                Sorting large datasets with uneven distributions
              </li>
              <li style="margin-bottom: 10px">
                Real-world data sorting where data isn't uniformly random
              </li>
              <li style="margin-bottom: 10px">
                Databases and data processing systems
              </li>
              <li style="margin-bottom: 10px">
                Situations where traditional sorts underperform
              </li>
              <li>High-performance computing applications</li>
            </ul>
          </div>

          <!-- Advantages Section -->
          <div class="section">
            <h2><i class="fas fa-star"></i> Advantages</h2>
            <p>
              Spreadsort offers several advantages over traditional sorting
              algorithms:
            </p>
            <ul
              style="
                padding-left: 20px;
                margin: 15px 0;
                color: var(--text-secondary);
              "
            >
              <li style="margin-bottom: 10px">
                Adaptive to data distribution characteristics
              </li>
              <li style="margin-bottom: 10px">
                Better cache utilization than many other algorithms
              </li>
              <li style="margin-bottom: 10px">
                Often outperforms quicksort and mergesort on real-world data
              </li>
              <li style="margin-bottom: 10px">
                Handles duplicate values efficiently
              </li>
              <li>Minimizes expensive comparison operations</li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Footer -->
      <footer>
        <div class="footer-links">
          <a href="https://www.linkedin.com/in/sgkandale/" target="_blank"
            ><i class="fa-brands fa-linkedin"></i> LinkedIN</a
          >
          <a href="mailto:me@sgkandale.com"
            ><i class="fa-solid fa-at"></i> E-Mail</a
          >
          <a href="https://buymeacoffee.com/sgkandale" target="_blank"
            ><i class="fa-solid fa-mug-hot"></i> Buy Me a Coffee</a
          >
        </div>
        <p>AlgoViz Hub - Interactive Algorithm Visualization Platform</p>
        <p>&copy; 2025 AlgoViz Hub. All rights reserved.</p>
      </footer>
    </div>

    <script>
      // Spreadsort Visualization
      class SpreadsortVisualizer {
        constructor(container, bucketsContainer, explanation, stats) {
          this.container = container;
          this.bucketsContainer = bucketsContainer;
          this.explanation = explanation;
          this.stats = stats;
          this.array = [];
          this.buckets = [];
          this.depth = 0;
          this.comparisons = 0;
          this.currentStep = 0;
          this.isRunning = false;
          this.speed = 1000;
          this.timeout = null;
          this.maxDepth = 3;
          this.threshold = 4;
          this.steps = [
            "initial",
            "find_range",
            "create_buckets",
            "distribute",
            "sort_buckets",
            "combine",
          ];
        }

        init(array) {
          this.array = [...array];
          this.buckets = [];
          this.depth = 0;
          this.comparisons = 0;
          this.currentStep = 0;
          this.updateStats();
          this.updateExplanation("Initializing Spreadsort algorithm");
          this.render();
        }

        updateStats() {
          this.stats.depth.textContent = this.depth;
          this.stats.comparisons.textContent = this.comparisons;
          this.stats.bucketCount.textContent = this.buckets.length;
        }

        updateExplanation(text) {
          this.explanation.textContent = text;
        }

        render() {
          this.container.innerHTML = "";

          // Render current array
          this.array.forEach((num) => {
            const bar = document.createElement("div");
            bar.className = "array-bar";
            bar.style.height = `${num}px`;
            bar.textContent = num;

            // Highlight if in distribution phase
            if (this.currentStep === 3) {
              bar.classList.add("bucket-highlight");
            }

            this.container.appendChild(bar);
          });

          // Render buckets
          this.bucketsContainer.innerHTML = "";
          this.buckets.forEach((bucket, index) => {
            const bucketElem = document.createElement("div");
            bucketElem.className = "bucket";

            const header = document.createElement("div");
            header.className = "bucket-header";
            header.textContent = `Bucket ${index}`;
            bucketElem.appendChild(header);

            const items = document.createElement("div");
            items.className = "bucket-items";

            bucket.forEach((num) => {
              const bar = document.createElement("div");
              bar.className = "bucket-bar";
              bar.style.width = `${num * 2}px`;
              bar.textContent = num;
              items.appendChild(bar);
            });

            bucketElem.appendChild(items);
            this.bucketsContainer.appendChild(bucketElem);
          });
        }

        step() {
          if (this.currentStep >= this.steps.length) {
            this.updateExplanation(
              "Spreadsort completed! The array is fully sorted."
            );
            return false;
          }

          const stepName = this.steps[this.currentStep];

          switch (stepName) {
            case "initial":
              this.updateExplanation("Starting Spreadsort algorithm");
              this.currentStep++;
              break;

            case "find_range":
              this.updateExplanation(
                "Finding minimum and maximum values in the array"
              );
              this.currentStep++;
              break;

            case "create_buckets":
              // Create buckets
              const minVal = Math.min(...this.array);
              const maxVal = Math.max(...this.array);
              const range = maxVal - minVal;
              const bucketCount = Math.min(4, this.array.length);

              this.buckets = Array.from({ length: bucketCount }, () => []);
              this.updateExplanation(
                `Created ${bucketCount} buckets based on range [${minVal}, ${maxVal}]`
              );
              this.currentStep++;
              break;

            case "distribute":
              if (this.array.length > 0) {
                const minVal = Math.min(...this.array);
                const maxVal = Math.max(...this.array);
                const range = maxVal - minVal || 1;
                const bucketCount = this.buckets.length;

                const num = this.array.shift();
                const bucketIndex = Math.floor(
                  ((num - minVal) / range) * (bucketCount - 1)
                );
                this.buckets[bucketIndex].push(num);

                this.updateExplanation(
                  `Distributing element ${num} to bucket ${bucketIndex}`
                );
              } else {
                this.updateExplanation(
                  "Finished distributing elements to buckets"
                );
                this.currentStep++;
              }
              break;

            case "sort_buckets":
              this.updateExplanation("Sorting buckets...");
              this.depth++;

              // For visualization, we'll mark this step as complete
              this.currentStep++;
              break;

            case "combine":
              this.updateExplanation(
                "Combining sorted buckets into final array"
              );
              this.array = this.buckets.flatMap((bucket) => {
                // Simulate sorted bucket
                return [...bucket].sort((a, b) => a - b);
              });
              this.buckets = [];
              this.currentStep = 0; // Reset for next recursion if needed
              break;
          }

          this.comparisons++;
          this.updateStats();
          this.render();
          return true;
        }

        start() {
          if (this.isRunning) return;
          this.isRunning = true;

          const runStep = () => {
            const hasMore = this.step();
            if (hasMore) {
              this.timeout = setTimeout(runStep, this.speed);
            } else {
              this.isRunning = false;
            }
          };

          runStep();
        }

        stop() {
          if (this.timeout) {
            clearTimeout(this.timeout);
          }
          this.isRunning = false;
        }

        reset(array) {
          this.stop();
          this.init(array);
        }
      }

      // Initialize when DOM is loaded
      document.addEventListener("DOMContentLoaded", () => {
        const currentArray = document.getElementById("current-array");
        const bucketsContainer = document.getElementById("buckets-container");
        const explanation = document.getElementById("explanation");
        const arrayInput = document.getElementById("array-input");
        const randomBtn = document.getElementById("random-btn");
        const stepBtn = document.getElementById("step-btn");
        const runBtn = document.getElementById("run-btn");
        const resetBtn = document.getElementById("reset-btn");

        // Stats elements
        const stats = {
          depth: document.getElementById("depth"),
          comparisons: document.getElementById("comparisons"),
          bucketCount: document.getElementById("bucket-count"),
        };

        // Initialize visualizer
        const visualizer = new SpreadsortVisualizer(
          currentArray,
          bucketsContainer,
          explanation,
          stats
        );

        // Parse input array
        function parseInput() {
          const input = arrayInput.value;
          const numbers = input
            .split(",")
            .map((num) => parseInt(num.trim()))
            .filter((num) => !isNaN(num));
          return numbers.length > 0
            ? numbers
            : [38, 27, 43, 3, 9, 82, 10, 15, 22, 51, 17, 64];
        }

        // Initialize with default array
        visualizer.init(parseInput());

        // Event listeners
        randomBtn.addEventListener("click", () => {
          const randomArray = Array.from(
            { length: 12 },
            () => Math.floor(Math.random() * 80) + 10
          );
          arrayInput.value = randomArray.join(", ");
          visualizer.reset(randomArray);
        });

        stepBtn.addEventListener("click", () => {
          visualizer.stop();
          visualizer.step();
        });

        runBtn.addEventListener("click", () => {
          if (visualizer.isRunning) {
            visualizer.stop();
            runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
          } else {
            visualizer.start();
            runBtn.innerHTML = '<i class="fas fa-stop"></i> Stop';
          }
        });

        resetBtn.addEventListener("click", () => {
          visualizer.stop();
          visualizer.reset(parseInput());
          runBtn.innerHTML = '<i class="fas fa-play"></i> Run';
        });

        arrayInput.addEventListener("change", () => {
          visualizer.reset(parseInput());
        });

        // Copy button functionality
        document
          .querySelector(".copy-btn")
          .addEventListener("click", function () {
            const code = document.querySelector(".code-block code").innerText;
            navigator.clipboard.writeText(code);

            // Show feedback
            const originalText = this.innerHTML;
            this.innerHTML = '<i class="fas fa-check"></i> Copied!';

            setTimeout(() => {
              this.innerHTML = originalText;
            }, 2000);
          });
      });
    </script>
  </body>
</html>
